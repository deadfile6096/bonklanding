var mv=Object.defineProperty;var gv=(e,t,n)=>t in e?mv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Kt=(e,t,n)=>gv(e,typeof t!="symbol"?t+"":t,n);function yv(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Nr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function ls(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function hh(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Eg={exports:{}},Ic={},Ng={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fa=Symbol.for("react.element"),xv=Symbol.for("react.portal"),wv=Symbol.for("react.fragment"),vv=Symbol.for("react.strict_mode"),bv=Symbol.for("react.profiler"),Sv=Symbol.for("react.provider"),Ev=Symbol.for("react.context"),Nv=Symbol.for("react.forward_ref"),_v=Symbol.for("react.suspense"),kv=Symbol.for("react.memo"),jv=Symbol.for("react.lazy"),n0=Symbol.iterator;function Cv(e){return e===null||typeof e!="object"?null:(e=n0&&e[n0]||e["@@iterator"],typeof e=="function"?e:null)}var _g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kg=Object.assign,jg={};function No(e,t,n){this.props=e,this.context=t,this.refs=jg,this.updater=n||_g}No.prototype.isReactComponent={};No.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};No.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Cg(){}Cg.prototype=No.prototype;function ph(e,t,n){this.props=e,this.context=t,this.refs=jg,this.updater=n||_g}var mh=ph.prototype=new Cg;mh.constructor=ph;kg(mh,No.prototype);mh.isPureReactComponent=!0;var r0=Array.isArray,Ag=Object.prototype.hasOwnProperty,gh={current:null},Ig={key:!0,ref:!0,__self:!0,__source:!0};function Tg(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Ag.call(t,r)&&!Ig.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Fa,type:e,key:i,ref:o,props:s,_owner:gh.current}}function Av(e,t){return{$$typeof:Fa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fa}function Iv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var s0=/\/+/g;function Lu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Iv(""+e.key):t.toString(36)}function kl(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Fa:case xv:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Lu(o,0):r,r0(s)?(n="",e!=null&&(n=e.replace(s0,"$&/")+"/"),kl(s,t,n,"",function(u){return u})):s!=null&&(yh(s)&&(s=Av(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(s0,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",r0(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+Lu(i,l);o+=kl(i,t,n,c,s)}else if(c=Cv(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+Lu(i,l++),o+=kl(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ja(e,t,n){if(e==null)return e;var r=[],s=0;return kl(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Tv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _n={current:null},jl={transition:null},Mv={ReactCurrentDispatcher:_n,ReactCurrentBatchConfig:jl,ReactCurrentOwner:gh};function Mg(){throw Error("act(...) is not supported in production builds of React.")}Le.Children={map:Ja,forEach:function(e,t,n){Ja(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ja(e,function(){t++}),t},toArray:function(e){return Ja(e,function(t){return t})||[]},only:function(e){if(!yh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Le.Component=No;Le.Fragment=wv;Le.Profiler=bv;Le.PureComponent=ph;Le.StrictMode=vv;Le.Suspense=_v;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mv;Le.act=Mg;Le.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=kg({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=gh.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Ag.call(t,c)&&!Ig.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Fa,type:e.type,key:s,ref:i,props:r,_owner:o}};Le.createContext=function(e){return e={$$typeof:Ev,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Sv,_context:e},e.Consumer=e};Le.createElement=Tg;Le.createFactory=function(e){var t=Tg.bind(null,e);return t.type=e,t};Le.createRef=function(){return{current:null}};Le.forwardRef=function(e){return{$$typeof:Nv,render:e}};Le.isValidElement=yh;Le.lazy=function(e){return{$$typeof:jv,_payload:{_status:-1,_result:e},_init:Tv}};Le.memo=function(e,t){return{$$typeof:kv,type:e,compare:t===void 0?null:t}};Le.startTransition=function(e){var t=jl.transition;jl.transition={};try{e()}finally{jl.transition=t}};Le.unstable_act=Mg;Le.useCallback=function(e,t){return _n.current.useCallback(e,t)};Le.useContext=function(e){return _n.current.useContext(e)};Le.useDebugValue=function(){};Le.useDeferredValue=function(e){return _n.current.useDeferredValue(e)};Le.useEffect=function(e,t){return _n.current.useEffect(e,t)};Le.useId=function(){return _n.current.useId()};Le.useImperativeHandle=function(e,t,n){return _n.current.useImperativeHandle(e,t,n)};Le.useInsertionEffect=function(e,t){return _n.current.useInsertionEffect(e,t)};Le.useLayoutEffect=function(e,t){return _n.current.useLayoutEffect(e,t)};Le.useMemo=function(e,t){return _n.current.useMemo(e,t)};Le.useReducer=function(e,t,n){return _n.current.useReducer(e,t,n)};Le.useRef=function(e){return _n.current.useRef(e)};Le.useState=function(e){return _n.current.useState(e)};Le.useSyncExternalStore=function(e,t,n){return _n.current.useSyncExternalStore(e,t,n)};Le.useTransition=function(){return _n.current.useTransition()};Le.version="18.3.1";Ng.exports=Le;var L=Ng.exports;const oe=ls(L),Rv=yv({__proto__:null,default:oe},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv=L,Pv=Symbol.for("react.element"),Lv=Symbol.for("react.fragment"),Ov=Object.prototype.hasOwnProperty,Uv=Bv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zv={key:!0,ref:!0,__self:!0,__source:!0};function Rg(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Ov.call(t,r)&&!zv.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Pv,type:e,key:i,ref:o,props:s,_owner:Uv.current}}Ic.Fragment=Lv;Ic.jsx=Rg;Ic.jsxs=Rg;Eg.exports=Ic;var a=Eg.exports,$t={},Tc={};Tc.byteLength=$v;Tc.toByteArray=Kv;Tc.fromByteArray=qv;var Tr=[],ir=[],Fv=typeof Uint8Array<"u"?Uint8Array:Array,Ou="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ai=0,Dv=Ou.length;Ai<Dv;++Ai)Tr[Ai]=Ou[Ai],ir[Ou.charCodeAt(Ai)]=Ai;ir[45]=62;ir[95]=63;function Bg(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function $v(e){var t=Bg(e),n=t[0],r=t[1];return(n+r)*3/4-r}function Wv(e,t,n){return(t+n)*3/4-n}function Kv(e){var t,n=Bg(e),r=n[0],s=n[1],i=new Fv(Wv(e,r,s)),o=0,l=s>0?r-4:r,c;for(c=0;c<l;c+=4)t=ir[e.charCodeAt(c)]<<18|ir[e.charCodeAt(c+1)]<<12|ir[e.charCodeAt(c+2)]<<6|ir[e.charCodeAt(c+3)],i[o++]=t>>16&255,i[o++]=t>>8&255,i[o++]=t&255;return s===2&&(t=ir[e.charCodeAt(c)]<<2|ir[e.charCodeAt(c+1)]>>4,i[o++]=t&255),s===1&&(t=ir[e.charCodeAt(c)]<<10|ir[e.charCodeAt(c+1)]<<4|ir[e.charCodeAt(c+2)]>>2,i[o++]=t>>8&255,i[o++]=t&255),i}function Hv(e){return Tr[e>>18&63]+Tr[e>>12&63]+Tr[e>>6&63]+Tr[e&63]}function Vv(e,t,n){for(var r,s=[],i=t;i<n;i+=3)r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255),s.push(Hv(r));return s.join("")}function qv(e){for(var t,n=e.length,r=n%3,s=[],i=16383,o=0,l=n-r;o<l;o+=i)s.push(Vv(e,o,o+i>l?l:o+i));return r===1?(t=e[n-1],s.push(Tr[t>>2]+Tr[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],s.push(Tr[t>>10]+Tr[t>>4&63]+Tr[t<<2&63]+"=")),s.join("")}var xh={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */xh.read=function(e,t,n,r,s){var i,o,l=s*8-r-1,c=(1<<l)-1,u=c>>1,d=-7,p=n?s-1:0,x=n?-1:1,N=e[t+p];for(p+=x,i=N&(1<<-d)-1,N>>=-d,d+=l;d>0;i=i*256+e[t+p],p+=x,d-=8);for(o=i&(1<<-d)-1,i>>=-d,d+=r;d>0;o=o*256+e[t+p],p+=x,d-=8);if(i===0)i=1-u;else{if(i===c)return o?NaN:(N?-1:1)*(1/0);o=o+Math.pow(2,r),i=i-u}return(N?-1:1)*o*Math.pow(2,i-r)};xh.write=function(e,t,n,r,s,i){var o,l,c,u=i*8-s-1,d=(1<<u)-1,p=d>>1,x=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,N=r?0:i-1,C=r?1:-1,S=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,o=d):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+p>=1?t+=x/c:t+=x*Math.pow(2,1-p),t*c>=2&&(o++,c/=2),o+p>=d?(l=0,o=d):o+p>=1?(l=(t*c-1)*Math.pow(2,s),o=o+p):(l=t*Math.pow(2,p-1)*Math.pow(2,s),o=0));s>=8;e[n+N]=l&255,N+=C,l/=256,s-=8);for(o=o<<s|l,u+=s;u>0;e[n+N]=o&255,N+=C,o/=256,u-=8);e[n+N-C]|=S*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=Tc,n=xh,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=d,e.SlowBuffer=z,e.INSPECT_MAX_BYTES=50;const s=2147483647;e.kMaxLength=s;const{Uint8Array:i,ArrayBuffer:o,SharedArrayBuffer:l}=globalThis;d.TYPED_ARRAY_SUPPORT=c(),!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const M=new i(1),m={foo:function(){return 42}};return Object.setPrototypeOf(m,i.prototype),Object.setPrototypeOf(M,m),M.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function u(M){if(M>s)throw new RangeError('The value "'+M+'" is invalid for option "size"');const m=new i(M);return Object.setPrototypeOf(m,d.prototype),m}function d(M,m,w){if(typeof M=="number"){if(typeof m=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return C(M)}return p(M,m,w)}d.poolSize=8192;function p(M,m,w){if(typeof M=="string")return S(M,m);if(o.isView(M))return v(M);if(M==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof M);if(Wt(M,o)||M&&Wt(M.buffer,o)||typeof l<"u"&&(Wt(M,l)||M&&Wt(M.buffer,l)))return b(M,m,w);if(typeof M=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const O=M.valueOf&&M.valueOf();if(O!=null&&O!==M)return d.from(O,m,w);const K=g(M);if(K)return K;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof M[Symbol.toPrimitive]=="function")return d.from(M[Symbol.toPrimitive]("string"),m,w);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof M)}d.from=function(M,m,w){return p(M,m,w)},Object.setPrototypeOf(d.prototype,i.prototype),Object.setPrototypeOf(d,i);function x(M){if(typeof M!="number")throw new TypeError('"size" argument must be of type number');if(M<0)throw new RangeError('The value "'+M+'" is invalid for option "size"')}function N(M,m,w){return x(M),M<=0?u(M):m!==void 0?typeof w=="string"?u(M).fill(m,w):u(M).fill(m):u(M)}d.alloc=function(M,m,w){return N(M,m,w)};function C(M){return x(M),u(M<0?0:R(M)|0)}d.allocUnsafe=function(M){return C(M)},d.allocUnsafeSlow=function(M){return C(M)};function S(M,m){if((typeof m!="string"||m==="")&&(m="utf8"),!d.isEncoding(m))throw new TypeError("Unknown encoding: "+m);const w=U(M,m)|0;let O=u(w);const K=O.write(M,m);return K!==w&&(O=O.slice(0,K)),O}function E(M){const m=M.length<0?0:R(M.length)|0,w=u(m);for(let O=0;O<m;O+=1)w[O]=M[O]&255;return w}function v(M){if(Wt(M,i)){const m=new i(M);return b(m.buffer,m.byteOffset,m.byteLength)}return E(M)}function b(M,m,w){if(m<0||M.byteLength<m)throw new RangeError('"offset" is outside of buffer bounds');if(M.byteLength<m+(w||0))throw new RangeError('"length" is outside of buffer bounds');let O;return m===void 0&&w===void 0?O=new i(M):w===void 0?O=new i(M,m):O=new i(M,m,w),Object.setPrototypeOf(O,d.prototype),O}function g(M){if(d.isBuffer(M)){const m=R(M.length)|0,w=u(m);return w.length===0||M.copy(w,0,0,m),w}if(M.length!==void 0)return typeof M.length!="number"||Ze(M.length)?u(0):E(M);if(M.type==="Buffer"&&Array.isArray(M.data))return E(M.data)}function R(M){if(M>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return M|0}function z(M){return+M!=M&&(M=0),d.alloc(+M)}d.isBuffer=function(m){return m!=null&&m._isBuffer===!0&&m!==d.prototype},d.compare=function(m,w){if(Wt(m,i)&&(m=d.from(m,m.offset,m.byteLength)),Wt(w,i)&&(w=d.from(w,w.offset,w.byteLength)),!d.isBuffer(m)||!d.isBuffer(w))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(m===w)return 0;let O=m.length,K=w.length;for(let V=0,X=Math.min(O,K);V<X;++V)if(m[V]!==w[V]){O=m[V],K=w[V];break}return O<K?-1:K<O?1:0},d.isEncoding=function(m){switch(String(m).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(m,w){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(m.length===0)return d.alloc(0);let O;if(w===void 0)for(w=0,O=0;O<m.length;++O)w+=m[O].length;const K=d.allocUnsafe(w);let V=0;for(O=0;O<m.length;++O){let X=m[O];if(Wt(X,i))V+X.length>K.length?(d.isBuffer(X)||(X=d.from(X)),X.copy(K,V)):i.prototype.set.call(K,X,V);else if(d.isBuffer(X))X.copy(K,V);else throw new TypeError('"list" argument must be an Array of Buffers');V+=X.length}return K};function U(M,m){if(d.isBuffer(M))return M.length;if(o.isView(M)||Wt(M,o))return M.byteLength;if(typeof M!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof M);const w=M.length,O=arguments.length>2&&arguments[2]===!0;if(!O&&w===0)return 0;let K=!1;for(;;)switch(m){case"ascii":case"latin1":case"binary":return w;case"utf8":case"utf-8":return _e(M).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w*2;case"hex":return w>>>1;case"base64":return Ve(M).length;default:if(K)return O?-1:_e(M).length;m=(""+m).toLowerCase(),K=!0}}d.byteLength=U;function F(M,m,w){let O=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((w===void 0||w>this.length)&&(w=this.length),w<=0)||(w>>>=0,m>>>=0,w<=m))return"";for(M||(M="utf8");;)switch(M){case"hex":return h(this,m,w);case"utf8":case"utf-8":return k(this,m,w);case"ascii":return B(this,m,w);case"latin1":case"binary":return I(this,m,w);case"base64":return _(this,m,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,m,w);default:if(O)throw new TypeError("Unknown encoding: "+M);M=(M+"").toLowerCase(),O=!0}}d.prototype._isBuffer=!0;function D(M,m,w){const O=M[m];M[m]=M[w],M[w]=O}d.prototype.swap16=function(){const m=this.length;if(m%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let w=0;w<m;w+=2)D(this,w,w+1);return this},d.prototype.swap32=function(){const m=this.length;if(m%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let w=0;w<m;w+=4)D(this,w,w+3),D(this,w+1,w+2);return this},d.prototype.swap64=function(){const m=this.length;if(m%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let w=0;w<m;w+=8)D(this,w,w+7),D(this,w+1,w+6),D(this,w+2,w+5),D(this,w+3,w+4);return this},d.prototype.toString=function(){const m=this.length;return m===0?"":arguments.length===0?k(this,0,m):F.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(m){if(!d.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m?!0:d.compare(this,m)===0},d.prototype.inspect=function(){let m="";const w=e.INSPECT_MAX_BYTES;return m=this.toString("hex",0,w).replace(/(.{2})/g,"$1 ").trim(),this.length>w&&(m+=" ... "),"<Buffer "+m+">"},r&&(d.prototype[r]=d.prototype.inspect),d.prototype.compare=function(m,w,O,K,V){if(Wt(m,i)&&(m=d.from(m,m.offset,m.byteLength)),!d.isBuffer(m))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof m);if(w===void 0&&(w=0),O===void 0&&(O=m?m.length:0),K===void 0&&(K=0),V===void 0&&(V=this.length),w<0||O>m.length||K<0||V>this.length)throw new RangeError("out of range index");if(K>=V&&w>=O)return 0;if(K>=V)return-1;if(w>=O)return 1;if(w>>>=0,O>>>=0,K>>>=0,V>>>=0,this===m)return 0;let X=V-K,Te=O-w;const Ce=Math.min(X,Te),je=this.slice(K,V),tt=m.slice(w,O);for(let ke=0;ke<Ce;++ke)if(je[ke]!==tt[ke]){X=je[ke],Te=tt[ke];break}return X<Te?-1:Te<X?1:0};function q(M,m,w,O,K){if(M.length===0)return-1;if(typeof w=="string"?(O=w,w=0):w>2147483647?w=2147483647:w<-2147483648&&(w=-2147483648),w=+w,Ze(w)&&(w=K?0:M.length-1),w<0&&(w=M.length+w),w>=M.length){if(K)return-1;w=M.length-1}else if(w<0)if(K)w=0;else return-1;if(typeof m=="string"&&(m=d.from(m,O)),d.isBuffer(m))return m.length===0?-1:G(M,m,w,O,K);if(typeof m=="number")return m=m&255,typeof i.prototype.indexOf=="function"?K?i.prototype.indexOf.call(M,m,w):i.prototype.lastIndexOf.call(M,m,w):G(M,[m],w,O,K);throw new TypeError("val must be string, number or Buffer")}function G(M,m,w,O,K){let V=1,X=M.length,Te=m.length;if(O!==void 0&&(O=String(O).toLowerCase(),O==="ucs2"||O==="ucs-2"||O==="utf16le"||O==="utf-16le")){if(M.length<2||m.length<2)return-1;V=2,X/=2,Te/=2,w/=2}function Ce(tt,ke){return V===1?tt[ke]:tt.readUInt16BE(ke*V)}let je;if(K){let tt=-1;for(je=w;je<X;je++)if(Ce(M,je)===Ce(m,tt===-1?0:je-tt)){if(tt===-1&&(tt=je),je-tt+1===Te)return tt*V}else tt!==-1&&(je-=je-tt),tt=-1}else for(w+Te>X&&(w=X-Te),je=w;je>=0;je--){let tt=!0;for(let ke=0;ke<Te;ke++)if(Ce(M,je+ke)!==Ce(m,ke)){tt=!1;break}if(tt)return je}return-1}d.prototype.includes=function(m,w,O){return this.indexOf(m,w,O)!==-1},d.prototype.indexOf=function(m,w,O){return q(this,m,w,O,!0)},d.prototype.lastIndexOf=function(m,w,O){return q(this,m,w,O,!1)};function Z(M,m,w,O){w=Number(w)||0;const K=M.length-w;O?(O=Number(O),O>K&&(O=K)):O=K;const V=m.length;O>V/2&&(O=V/2);let X;for(X=0;X<O;++X){const Te=parseInt(m.substr(X*2,2),16);if(Ze(Te))return X;M[w+X]=Te}return X}function ee(M,m,w,O){return He(_e(m,M.length-w),M,w,O)}function P(M,m,w,O){return He(Ke(m),M,w,O)}function f(M,m,w,O){return He(Ve(m),M,w,O)}function y(M,m,w,O){return He(vn(m,M.length-w),M,w,O)}d.prototype.write=function(m,w,O,K){if(w===void 0)K="utf8",O=this.length,w=0;else if(O===void 0&&typeof w=="string")K=w,O=this.length,w=0;else if(isFinite(w))w=w>>>0,isFinite(O)?(O=O>>>0,K===void 0&&(K="utf8")):(K=O,O=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const V=this.length-w;if((O===void 0||O>V)&&(O=V),m.length>0&&(O<0||w<0)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");K||(K="utf8");let X=!1;for(;;)switch(K){case"hex":return Z(this,m,w,O);case"utf8":case"utf-8":return ee(this,m,w,O);case"ascii":case"latin1":case"binary":return P(this,m,w,O);case"base64":return f(this,m,w,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y(this,m,w,O);default:if(X)throw new TypeError("Unknown encoding: "+K);K=(""+K).toLowerCase(),X=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function _(M,m,w){return m===0&&w===M.length?t.fromByteArray(M):t.fromByteArray(M.slice(m,w))}function k(M,m,w){w=Math.min(M.length,w);const O=[];let K=m;for(;K<w;){const V=M[K];let X=null,Te=V>239?4:V>223?3:V>191?2:1;if(K+Te<=w){let Ce,je,tt,ke;switch(Te){case 1:V<128&&(X=V);break;case 2:Ce=M[K+1],(Ce&192)===128&&(ke=(V&31)<<6|Ce&63,ke>127&&(X=ke));break;case 3:Ce=M[K+1],je=M[K+2],(Ce&192)===128&&(je&192)===128&&(ke=(V&15)<<12|(Ce&63)<<6|je&63,ke>2047&&(ke<55296||ke>57343)&&(X=ke));break;case 4:Ce=M[K+1],je=M[K+2],tt=M[K+3],(Ce&192)===128&&(je&192)===128&&(tt&192)===128&&(ke=(V&15)<<18|(Ce&63)<<12|(je&63)<<6|tt&63,ke>65535&&ke<1114112&&(X=ke))}}X===null?(X=65533,Te=1):X>65535&&(X-=65536,O.push(X>>>10&1023|55296),X=56320|X&1023),O.push(X),K+=Te}return T(O)}const j=4096;function T(M){const m=M.length;if(m<=j)return String.fromCharCode.apply(String,M);let w="",O=0;for(;O<m;)w+=String.fromCharCode.apply(String,M.slice(O,O+=j));return w}function B(M,m,w){let O="";w=Math.min(M.length,w);for(let K=m;K<w;++K)O+=String.fromCharCode(M[K]&127);return O}function I(M,m,w){let O="";w=Math.min(M.length,w);for(let K=m;K<w;++K)O+=String.fromCharCode(M[K]);return O}function h(M,m,w){const O=M.length;(!m||m<0)&&(m=0),(!w||w<0||w>O)&&(w=O);let K="";for(let V=m;V<w;++V)K+=et[M[V]];return K}function A(M,m,w){const O=M.slice(m,w);let K="";for(let V=0;V<O.length-1;V+=2)K+=String.fromCharCode(O[V]+O[V+1]*256);return K}d.prototype.slice=function(m,w){const O=this.length;m=~~m,w=w===void 0?O:~~w,m<0?(m+=O,m<0&&(m=0)):m>O&&(m=O),w<0?(w+=O,w<0&&(w=0)):w>O&&(w=O),w<m&&(w=m);const K=this.subarray(m,w);return Object.setPrototypeOf(K,d.prototype),K};function $(M,m,w){if(M%1!==0||M<0)throw new RangeError("offset is not uint");if(M+m>w)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(m,w,O){m=m>>>0,w=w>>>0,O||$(m,w,this.length);let K=this[m],V=1,X=0;for(;++X<w&&(V*=256);)K+=this[m+X]*V;return K},d.prototype.readUintBE=d.prototype.readUIntBE=function(m,w,O){m=m>>>0,w=w>>>0,O||$(m,w,this.length);let K=this[m+--w],V=1;for(;w>0&&(V*=256);)K+=this[m+--w]*V;return K},d.prototype.readUint8=d.prototype.readUInt8=function(m,w){return m=m>>>0,w||$(m,1,this.length),this[m]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(m,w){return m=m>>>0,w||$(m,2,this.length),this[m]|this[m+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(m,w){return m=m>>>0,w||$(m,2,this.length),this[m]<<8|this[m+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(m,w){return m=m>>>0,w||$(m,4,this.length),(this[m]|this[m+1]<<8|this[m+2]<<16)+this[m+3]*16777216},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(m,w){return m=m>>>0,w||$(m,4,this.length),this[m]*16777216+(this[m+1]<<16|this[m+2]<<8|this[m+3])},d.prototype.readBigUInt64LE=zn(function(m){m=m>>>0,we(m,"offset");const w=this[m],O=this[m+7];(w===void 0||O===void 0)&&he(m,this.length-8);const K=w+this[++m]*2**8+this[++m]*2**16+this[++m]*2**24,V=this[++m]+this[++m]*2**8+this[++m]*2**16+O*2**24;return BigInt(K)+(BigInt(V)<<BigInt(32))}),d.prototype.readBigUInt64BE=zn(function(m){m=m>>>0,we(m,"offset");const w=this[m],O=this[m+7];(w===void 0||O===void 0)&&he(m,this.length-8);const K=w*2**24+this[++m]*2**16+this[++m]*2**8+this[++m],V=this[++m]*2**24+this[++m]*2**16+this[++m]*2**8+O;return(BigInt(K)<<BigInt(32))+BigInt(V)}),d.prototype.readIntLE=function(m,w,O){m=m>>>0,w=w>>>0,O||$(m,w,this.length);let K=this[m],V=1,X=0;for(;++X<w&&(V*=256);)K+=this[m+X]*V;return V*=128,K>=V&&(K-=Math.pow(2,8*w)),K},d.prototype.readIntBE=function(m,w,O){m=m>>>0,w=w>>>0,O||$(m,w,this.length);let K=w,V=1,X=this[m+--K];for(;K>0&&(V*=256);)X+=this[m+--K]*V;return V*=128,X>=V&&(X-=Math.pow(2,8*w)),X},d.prototype.readInt8=function(m,w){return m=m>>>0,w||$(m,1,this.length),this[m]&128?(255-this[m]+1)*-1:this[m]},d.prototype.readInt16LE=function(m,w){m=m>>>0,w||$(m,2,this.length);const O=this[m]|this[m+1]<<8;return O&32768?O|4294901760:O},d.prototype.readInt16BE=function(m,w){m=m>>>0,w||$(m,2,this.length);const O=this[m+1]|this[m]<<8;return O&32768?O|4294901760:O},d.prototype.readInt32LE=function(m,w){return m=m>>>0,w||$(m,4,this.length),this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24},d.prototype.readInt32BE=function(m,w){return m=m>>>0,w||$(m,4,this.length),this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]},d.prototype.readBigInt64LE=zn(function(m){m=m>>>0,we(m,"offset");const w=this[m],O=this[m+7];(w===void 0||O===void 0)&&he(m,this.length-8);const K=this[m+4]+this[m+5]*2**8+this[m+6]*2**16+(O<<24);return(BigInt(K)<<BigInt(32))+BigInt(w+this[++m]*2**8+this[++m]*2**16+this[++m]*2**24)}),d.prototype.readBigInt64BE=zn(function(m){m=m>>>0,we(m,"offset");const w=this[m],O=this[m+7];(w===void 0||O===void 0)&&he(m,this.length-8);const K=(w<<24)+this[++m]*2**16+this[++m]*2**8+this[++m];return(BigInt(K)<<BigInt(32))+BigInt(this[++m]*2**24+this[++m]*2**16+this[++m]*2**8+O)}),d.prototype.readFloatLE=function(m,w){return m=m>>>0,w||$(m,4,this.length),n.read(this,m,!0,23,4)},d.prototype.readFloatBE=function(m,w){return m=m>>>0,w||$(m,4,this.length),n.read(this,m,!1,23,4)},d.prototype.readDoubleLE=function(m,w){return m=m>>>0,w||$(m,8,this.length),n.read(this,m,!0,52,8)},d.prototype.readDoubleBE=function(m,w){return m=m>>>0,w||$(m,8,this.length),n.read(this,m,!1,52,8)};function W(M,m,w,O,K,V){if(!d.isBuffer(M))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>K||m<V)throw new RangeError('"value" argument is out of bounds');if(w+O>M.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(m,w,O,K){if(m=+m,w=w>>>0,O=O>>>0,!K){const Te=Math.pow(2,8*O)-1;W(this,m,w,O,Te,0)}let V=1,X=0;for(this[w]=m&255;++X<O&&(V*=256);)this[w+X]=m/V&255;return w+O},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(m,w,O,K){if(m=+m,w=w>>>0,O=O>>>0,!K){const Te=Math.pow(2,8*O)-1;W(this,m,w,O,Te,0)}let V=O-1,X=1;for(this[w+V]=m&255;--V>=0&&(X*=256);)this[w+V]=m/X&255;return w+O},d.prototype.writeUint8=d.prototype.writeUInt8=function(m,w,O){return m=+m,w=w>>>0,O||W(this,m,w,1,255,0),this[w]=m&255,w+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(m,w,O){return m=+m,w=w>>>0,O||W(this,m,w,2,65535,0),this[w]=m&255,this[w+1]=m>>>8,w+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(m,w,O){return m=+m,w=w>>>0,O||W(this,m,w,2,65535,0),this[w]=m>>>8,this[w+1]=m&255,w+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(m,w,O){return m=+m,w=w>>>0,O||W(this,m,w,4,4294967295,0),this[w+3]=m>>>24,this[w+2]=m>>>16,this[w+1]=m>>>8,this[w]=m&255,w+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(m,w,O){return m=+m,w=w>>>0,O||W(this,m,w,4,4294967295,0),this[w]=m>>>24,this[w+1]=m>>>16,this[w+2]=m>>>8,this[w+3]=m&255,w+4};function H(M,m,w,O,K){ie(m,O,K,M,w,7);let V=Number(m&BigInt(4294967295));M[w++]=V,V=V>>8,M[w++]=V,V=V>>8,M[w++]=V,V=V>>8,M[w++]=V;let X=Number(m>>BigInt(32)&BigInt(4294967295));return M[w++]=X,X=X>>8,M[w++]=X,X=X>>8,M[w++]=X,X=X>>8,M[w++]=X,w}function te(M,m,w,O,K){ie(m,O,K,M,w,7);let V=Number(m&BigInt(4294967295));M[w+7]=V,V=V>>8,M[w+6]=V,V=V>>8,M[w+5]=V,V=V>>8,M[w+4]=V;let X=Number(m>>BigInt(32)&BigInt(4294967295));return M[w+3]=X,X=X>>8,M[w+2]=X,X=X>>8,M[w+1]=X,X=X>>8,M[w]=X,w+8}d.prototype.writeBigUInt64LE=zn(function(m,w=0){return H(this,m,w,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=zn(function(m,w=0){return te(this,m,w,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(m,w,O,K){if(m=+m,w=w>>>0,!K){const Ce=Math.pow(2,8*O-1);W(this,m,w,O,Ce-1,-Ce)}let V=0,X=1,Te=0;for(this[w]=m&255;++V<O&&(X*=256);)m<0&&Te===0&&this[w+V-1]!==0&&(Te=1),this[w+V]=(m/X>>0)-Te&255;return w+O},d.prototype.writeIntBE=function(m,w,O,K){if(m=+m,w=w>>>0,!K){const Ce=Math.pow(2,8*O-1);W(this,m,w,O,Ce-1,-Ce)}let V=O-1,X=1,Te=0;for(this[w+V]=m&255;--V>=0&&(X*=256);)m<0&&Te===0&&this[w+V+1]!==0&&(Te=1),this[w+V]=(m/X>>0)-Te&255;return w+O},d.prototype.writeInt8=function(m,w,O){return m=+m,w=w>>>0,O||W(this,m,w,1,127,-128),m<0&&(m=255+m+1),this[w]=m&255,w+1},d.prototype.writeInt16LE=function(m,w,O){return m=+m,w=w>>>0,O||W(this,m,w,2,32767,-32768),this[w]=m&255,this[w+1]=m>>>8,w+2},d.prototype.writeInt16BE=function(m,w,O){return m=+m,w=w>>>0,O||W(this,m,w,2,32767,-32768),this[w]=m>>>8,this[w+1]=m&255,w+2},d.prototype.writeInt32LE=function(m,w,O){return m=+m,w=w>>>0,O||W(this,m,w,4,2147483647,-2147483648),this[w]=m&255,this[w+1]=m>>>8,this[w+2]=m>>>16,this[w+3]=m>>>24,w+4},d.prototype.writeInt32BE=function(m,w,O){return m=+m,w=w>>>0,O||W(this,m,w,4,2147483647,-2147483648),m<0&&(m=4294967295+m+1),this[w]=m>>>24,this[w+1]=m>>>16,this[w+2]=m>>>8,this[w+3]=m&255,w+4},d.prototype.writeBigInt64LE=zn(function(m,w=0){return H(this,m,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=zn(function(m,w=0){return te(this,m,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function J(M,m,w,O,K,V){if(w+O>M.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("Index out of range")}function re(M,m,w,O,K){return m=+m,w=w>>>0,K||J(M,m,w,4),n.write(M,m,w,O,23,4),w+4}d.prototype.writeFloatLE=function(m,w,O){return re(this,m,w,!0,O)},d.prototype.writeFloatBE=function(m,w,O){return re(this,m,w,!1,O)};function me(M,m,w,O,K){return m=+m,w=w>>>0,K||J(M,m,w,8),n.write(M,m,w,O,52,8),w+8}d.prototype.writeDoubleLE=function(m,w,O){return me(this,m,w,!0,O)},d.prototype.writeDoubleBE=function(m,w,O){return me(this,m,w,!1,O)},d.prototype.copy=function(m,w,O,K){if(!d.isBuffer(m))throw new TypeError("argument should be a Buffer");if(O||(O=0),!K&&K!==0&&(K=this.length),w>=m.length&&(w=m.length),w||(w=0),K>0&&K<O&&(K=O),K===O||m.length===0||this.length===0)return 0;if(w<0)throw new RangeError("targetStart out of bounds");if(O<0||O>=this.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("sourceEnd out of bounds");K>this.length&&(K=this.length),m.length-w<K-O&&(K=m.length-w+O);const V=K-O;return this===m&&typeof i.prototype.copyWithin=="function"?this.copyWithin(w,O,K):i.prototype.set.call(m,this.subarray(O,K),w),V},d.prototype.fill=function(m,w,O,K){if(typeof m=="string"){if(typeof w=="string"?(K=w,w=0,O=this.length):typeof O=="string"&&(K=O,O=this.length),K!==void 0&&typeof K!="string")throw new TypeError("encoding must be a string");if(typeof K=="string"&&!d.isEncoding(K))throw new TypeError("Unknown encoding: "+K);if(m.length===1){const X=m.charCodeAt(0);(K==="utf8"&&X<128||K==="latin1")&&(m=X)}}else typeof m=="number"?m=m&255:typeof m=="boolean"&&(m=Number(m));if(w<0||this.length<w||this.length<O)throw new RangeError("Out of range index");if(O<=w)return this;w=w>>>0,O=O===void 0?this.length:O>>>0,m||(m=0);let V;if(typeof m=="number")for(V=w;V<O;++V)this[V]=m;else{const X=d.isBuffer(m)?m:d.from(m,K),Te=X.length;if(Te===0)throw new TypeError('The value "'+m+'" is invalid for argument "value"');for(V=0;V<O-w;++V)this[V+w]=X[V%Te]}return this};const fe={};function ye(M,m,w){fe[M]=class extends w{constructor(){super(),Object.defineProperty(this,"message",{value:m.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${M}]`,this.stack,delete this.name}get code(){return M}set code(K){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:K,writable:!0})}toString(){return`${this.name} [${M}]: ${this.message}`}}}ye("ERR_BUFFER_OUT_OF_BOUNDS",function(M){return M?`${M} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ye("ERR_INVALID_ARG_TYPE",function(M,m){return`The "${M}" argument must be of type number. Received type ${typeof m}`},TypeError),ye("ERR_OUT_OF_RANGE",function(M,m,w){let O=`The value of "${M}" is out of range.`,K=w;return Number.isInteger(w)&&Math.abs(w)>2**32?K=Oe(String(w)):typeof w=="bigint"&&(K=String(w),(w>BigInt(2)**BigInt(32)||w<-(BigInt(2)**BigInt(32)))&&(K=Oe(K)),K+="n"),O+=` It must be ${m}. Received ${K}`,O},RangeError);function Oe(M){let m="",w=M.length;const O=M[0]==="-"?1:0;for(;w>=O+4;w-=3)m=`_${M.slice(w-3,w)}${m}`;return`${M.slice(0,w)}${m}`}function ne(M,m,w){we(m,"offset"),(M[m]===void 0||M[m+w]===void 0)&&he(m,M.length-(w+1))}function ie(M,m,w,O,K,V){if(M>w||M<m){const X=typeof m=="bigint"?"n":"";let Te;throw m===0||m===BigInt(0)?Te=`>= 0${X} and < 2${X} ** ${(V+1)*8}${X}`:Te=`>= -(2${X} ** ${(V+1)*8-1}${X}) and < 2 ** ${(V+1)*8-1}${X}`,new fe.ERR_OUT_OF_RANGE("value",Te,M)}ne(O,K,V)}function we(M,m){if(typeof M!="number")throw new fe.ERR_INVALID_ARG_TYPE(m,"number",M)}function he(M,m,w){throw Math.floor(M)!==M?(we(M,w),new fe.ERR_OUT_OF_RANGE("offset","an integer",M)):m<0?new fe.ERR_BUFFER_OUT_OF_BOUNDS:new fe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${m}`,M)}const Se=/[^+/0-9A-Za-z-_]/g;function Ye(M){if(M=M.split("=")[0],M=M.trim().replace(Se,""),M.length<2)return"";for(;M.length%4!==0;)M=M+"=";return M}function _e(M,m){m=m||1/0;let w;const O=M.length;let K=null;const V=[];for(let X=0;X<O;++X){if(w=M.charCodeAt(X),w>55295&&w<57344){if(!K){if(w>56319){(m-=3)>-1&&V.push(239,191,189);continue}else if(X+1===O){(m-=3)>-1&&V.push(239,191,189);continue}K=w;continue}if(w<56320){(m-=3)>-1&&V.push(239,191,189),K=w;continue}w=(K-55296<<10|w-56320)+65536}else K&&(m-=3)>-1&&V.push(239,191,189);if(K=null,w<128){if((m-=1)<0)break;V.push(w)}else if(w<2048){if((m-=2)<0)break;V.push(w>>6|192,w&63|128)}else if(w<65536){if((m-=3)<0)break;V.push(w>>12|224,w>>6&63|128,w&63|128)}else if(w<1114112){if((m-=4)<0)break;V.push(w>>18|240,w>>12&63|128,w>>6&63|128,w&63|128)}else throw new Error("Invalid code point")}return V}function Ke(M){const m=[];for(let w=0;w<M.length;++w)m.push(M.charCodeAt(w)&255);return m}function vn(M,m){let w,O,K;const V=[];for(let X=0;X<M.length&&!((m-=2)<0);++X)w=M.charCodeAt(X),O=w>>8,K=w%256,V.push(K),V.push(O);return V}function Ve(M){return t.toByteArray(Ye(M))}function He(M,m,w,O){let K;for(K=0;K<O&&!(K+w>=m.length||K>=M.length);++K)m[K+w]=M[K];return K}function Wt(M,m){return M instanceof m||M!=null&&M.constructor!=null&&M.constructor.name!=null&&M.constructor.name===m.name}function Ze(M){return M!==M}const et=function(){const M="0123456789abcdef",m=new Array(256);for(let w=0;w<16;++w){const O=w*16;for(let K=0;K<16;++K)m[O+K]=M[w]+M[K]}return m}();function zn(M){return typeof BigInt>"u"?it:M}function it(){throw new Error("BigInt not supported")}})($t);const mt=$t.Buffer,Gv=$t.Blob,Yv=$t.BlobOptions,Ae=$t.Buffer,Zv=$t.File,Qv=$t.FileOptions,Xv=$t.INSPECT_MAX_BYTES,Jv=$t.SlowBuffer,eb=$t.TranscodeEncoding,tb=$t.atob,nb=$t.btoa,rb=$t.constants,sb=$t.isAscii,ib=$t.isUtf8,ob=$t.kMaxLength,ab=$t.kStringMaxLength,lb=$t.resolveObjectURL,cb=$t.transcode,ub=Object.freeze(Object.defineProperty({__proto__:null,Blob:Gv,BlobOptions:Yv,Buffer:Ae,File:Zv,FileOptions:Qv,INSPECT_MAX_BYTES:Xv,SlowBuffer:Jv,TranscodeEncoding:eb,atob:tb,btoa:nb,constants:rb,default:mt,isAscii:sb,isUtf8:ib,kMaxLength:ob,kStringMaxLength:ab,resolveObjectURL:lb,transcode:cb},Symbol.toStringTag,{value:"Module"}));typeof globalThis.Buffer>"u"&&(globalThis.Buffer=Ae);typeof globalThis.process>"u"&&(globalThis.process={env:{NODE_ENV:"development"}});var Pg={exports:{}},Jn={},Lg={exports:{}},Og={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,T){var B=j.length;j.push(T);e:for(;0<B;){var I=B-1>>>1,h=j[I];if(0<s(h,T))j[I]=T,j[B]=h,B=I;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var T=j[0],B=j.pop();if(B!==T){j[0]=B;e:for(var I=0,h=j.length,A=h>>>1;I<A;){var $=2*(I+1)-1,W=j[$],H=$+1,te=j[H];if(0>s(W,B))H<h&&0>s(te,W)?(j[I]=te,j[H]=B,I=H):(j[I]=W,j[$]=B,I=$);else if(H<h&&0>s(te,B))j[I]=te,j[H]=B,I=H;else break e}}return T}function s(j,T){var B=j.sortIndex-T.sortIndex;return B!==0?B:j.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,p=null,x=3,N=!1,C=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(j){for(var T=n(u);T!==null;){if(T.callback===null)r(u);else if(T.startTime<=j)r(u),T.sortIndex=T.expirationTime,t(c,T);else break;T=n(u)}}function R(j){if(S=!1,g(j),!C)if(n(c)!==null)C=!0,_(z);else{var T=n(u);T!==null&&k(R,T.startTime-j)}}function z(j,T){C=!1,S&&(S=!1,v(D),D=-1),N=!0;var B=x;try{for(g(T),p=n(c);p!==null&&(!(p.expirationTime>T)||j&&!Z());){var I=p.callback;if(typeof I=="function"){p.callback=null,x=p.priorityLevel;var h=I(p.expirationTime<=T);T=e.unstable_now(),typeof h=="function"?p.callback=h:p===n(c)&&r(c),g(T)}else r(c);p=n(c)}if(p!==null)var A=!0;else{var $=n(u);$!==null&&k(R,$.startTime-T),A=!1}return A}finally{p=null,x=B,N=!1}}var U=!1,F=null,D=-1,q=5,G=-1;function Z(){return!(e.unstable_now()-G<q)}function ee(){if(F!==null){var j=e.unstable_now();G=j;var T=!0;try{T=F(!0,j)}finally{T?P():(U=!1,F=null)}}else U=!1}var P;if(typeof b=="function")P=function(){b(ee)};else if(typeof MessageChannel<"u"){var f=new MessageChannel,y=f.port2;f.port1.onmessage=ee,P=function(){y.postMessage(null)}}else P=function(){E(ee,0)};function _(j){F=j,U||(U=!0,P())}function k(j,T){D=E(function(){j(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){C||N||(C=!0,_(z))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(j){switch(x){case 1:case 2:case 3:var T=3;break;default:T=x}var B=x;x=T;try{return j()}finally{x=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,T){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var B=x;x=j;try{return T()}finally{x=B}},e.unstable_scheduleCallback=function(j,T,B){var I=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?I+B:I):B=I,j){case 1:var h=-1;break;case 2:h=250;break;case 5:h=1073741823;break;case 4:h=1e4;break;default:h=5e3}return h=B+h,j={id:d++,callback:T,priorityLevel:j,startTime:B,expirationTime:h,sortIndex:-1},B>I?(j.sortIndex=B,t(u,j),n(c)===null&&j===n(u)&&(S?(v(D),D=-1):S=!0,k(R,B-I))):(j.sortIndex=h,t(c,j),C||N||(C=!0,_(z))),j},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(j){var T=x;return function(){var B=x;x=T;try{return j.apply(this,arguments)}finally{x=B}}}})(Og);Lg.exports=Og;var db=Lg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fb=L,Zn=db;function ae(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ug=new Set,ua={};function bi(e,t){oo(e,t),oo(e+"Capture",t)}function oo(e,t){for(ua[e]=t,e=0;e<t.length;e++)Ug.add(t[e])}var es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gd=Object.prototype.hasOwnProperty,hb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,i0={},o0={};function pb(e){return Gd.call(o0,e)?!0:Gd.call(i0,e)?!1:hb.test(e)?o0[e]=!0:(i0[e]=!0,!1)}function mb(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function gb(e,t,n,r){if(t===null||typeof t>"u"||mb(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function kn(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var an={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){an[e]=new kn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];an[t]=new kn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){an[e]=new kn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){an[e]=new kn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){an[e]=new kn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){an[e]=new kn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){an[e]=new kn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){an[e]=new kn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){an[e]=new kn(e,5,!1,e.toLowerCase(),null,!1,!1)});var wh=/[\-:]([a-z])/g;function vh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(wh,vh);an[t]=new kn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(wh,vh);an[t]=new kn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(wh,vh);an[t]=new kn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){an[e]=new kn(e,1,!1,e.toLowerCase(),null,!1,!1)});an.xlinkHref=new kn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){an[e]=new kn(e,1,!1,e.toLowerCase(),null,!0,!0)});function bh(e,t,n,r){var s=an.hasOwnProperty(t)?an[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(gb(t,n,s,r)&&(n=null),r||s===null?pb(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var cs=fb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,el=Symbol.for("react.element"),Pi=Symbol.for("react.portal"),Li=Symbol.for("react.fragment"),Sh=Symbol.for("react.strict_mode"),Yd=Symbol.for("react.profiler"),zg=Symbol.for("react.provider"),Fg=Symbol.for("react.context"),Eh=Symbol.for("react.forward_ref"),Zd=Symbol.for("react.suspense"),Qd=Symbol.for("react.suspense_list"),Nh=Symbol.for("react.memo"),ys=Symbol.for("react.lazy"),Dg=Symbol.for("react.offscreen"),a0=Symbol.iterator;function Bo(e){return e===null||typeof e!="object"?null:(e=a0&&e[a0]||e["@@iterator"],typeof e=="function"?e:null)}var ht=Object.assign,Uu;function Ho(e){if(Uu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Uu=t&&t[1]||""}return`
`+Uu+e}var zu=!1;function Fu(e,t){if(!e||zu)return"";zu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{zu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ho(e):""}function yb(e){switch(e.tag){case 5:return Ho(e.type);case 16:return Ho("Lazy");case 13:return Ho("Suspense");case 19:return Ho("SuspenseList");case 0:case 2:case 15:return e=Fu(e.type,!1),e;case 11:return e=Fu(e.type.render,!1),e;case 1:return e=Fu(e.type,!0),e;default:return""}}function Xd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Li:return"Fragment";case Pi:return"Portal";case Yd:return"Profiler";case Sh:return"StrictMode";case Zd:return"Suspense";case Qd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Fg:return(e.displayName||"Context")+".Consumer";case zg:return(e._context.displayName||"Context")+".Provider";case Eh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nh:return t=e.displayName||null,t!==null?t:Xd(e.type)||"Memo";case ys:t=e._payload,e=e._init;try{return Xd(e(t))}catch{}}return null}function xb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xd(t);case 8:return t===Sh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $s(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $g(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wb(e){var t=$g(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function tl(e){e._valueTracker||(e._valueTracker=wb(e))}function Wg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$g(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function $l(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Jd(e,t){var n=t.checked;return ht({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function l0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=$s(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Kg(e,t){t=t.checked,t!=null&&bh(e,"checked",t,!1)}function ef(e,t){Kg(e,t);var n=$s(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?tf(e,t.type,n):t.hasOwnProperty("defaultValue")&&tf(e,t.type,$s(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function c0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function tf(e,t,n){(t!=="number"||$l(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Vo=Array.isArray;function Qi(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$s(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function nf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ae(91));return ht({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function u0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ae(92));if(Vo(n)){if(1<n.length)throw Error(ae(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:$s(n)}}function Hg(e,t){var n=$s(t.value),r=$s(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function d0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Vg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Vg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var nl,qg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(nl=nl||document.createElement("div"),nl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=nl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function da(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Xo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vb=["Webkit","ms","Moz","O"];Object.keys(Xo).forEach(function(e){vb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xo[t]=Xo[e]})});function Gg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Xo.hasOwnProperty(e)&&Xo[e]?(""+t).trim():t+"px"}function Yg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Gg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var bb=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sf(e,t){if(t){if(bb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ae(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ae(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ae(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ae(62))}}function of(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var af=null;function _h(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lf=null,Xi=null,Ji=null;function f0(e){if(e=Wa(e)){if(typeof lf!="function")throw Error(ae(280));var t=e.stateNode;t&&(t=Lc(t),lf(e.stateNode,e.type,t))}}function Zg(e){Xi?Ji?Ji.push(e):Ji=[e]:Xi=e}function Qg(){if(Xi){var e=Xi,t=Ji;if(Ji=Xi=null,f0(e),t)for(e=0;e<t.length;e++)f0(t[e])}}function Xg(e,t){return e(t)}function Jg(){}var Du=!1;function ey(e,t,n){if(Du)return e(t,n);Du=!0;try{return Xg(e,t,n)}finally{Du=!1,(Xi!==null||Ji!==null)&&(Jg(),Qg())}}function fa(e,t){var n=e.stateNode;if(n===null)return null;var r=Lc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ae(231,t,typeof n));return n}var cf=!1;if(es)try{var Po={};Object.defineProperty(Po,"passive",{get:function(){cf=!0}}),window.addEventListener("test",Po,Po),window.removeEventListener("test",Po,Po)}catch{cf=!1}function Sb(e,t,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Jo=!1,Wl=null,Kl=!1,uf=null,Eb={onError:function(e){Jo=!0,Wl=e}};function Nb(e,t,n,r,s,i,o,l,c){Jo=!1,Wl=null,Sb.apply(Eb,arguments)}function _b(e,t,n,r,s,i,o,l,c){if(Nb.apply(this,arguments),Jo){if(Jo){var u=Wl;Jo=!1,Wl=null}else throw Error(ae(198));Kl||(Kl=!0,uf=u)}}function Si(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ty(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h0(e){if(Si(e)!==e)throw Error(ae(188))}function kb(e){var t=e.alternate;if(!t){if(t=Si(e),t===null)throw Error(ae(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return h0(s),e;if(i===r)return h0(s),t;i=i.sibling}throw Error(ae(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(ae(189))}}if(n.alternate!==r)throw Error(ae(190))}if(n.tag!==3)throw Error(ae(188));return n.stateNode.current===n?e:t}function ny(e){return e=kb(e),e!==null?ry(e):null}function ry(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ry(e);if(t!==null)return t;e=e.sibling}return null}var sy=Zn.unstable_scheduleCallback,p0=Zn.unstable_cancelCallback,jb=Zn.unstable_shouldYield,Cb=Zn.unstable_requestPaint,wt=Zn.unstable_now,Ab=Zn.unstable_getCurrentPriorityLevel,kh=Zn.unstable_ImmediatePriority,iy=Zn.unstable_UserBlockingPriority,Hl=Zn.unstable_NormalPriority,Ib=Zn.unstable_LowPriority,oy=Zn.unstable_IdlePriority,Mc=null,Rr=null;function Tb(e){if(Rr&&typeof Rr.onCommitFiberRoot=="function")try{Rr.onCommitFiberRoot(Mc,e,void 0,(e.current.flags&128)===128)}catch{}}var br=Math.clz32?Math.clz32:Bb,Mb=Math.log,Rb=Math.LN2;function Bb(e){return e>>>=0,e===0?32:31-(Mb(e)/Rb|0)|0}var rl=64,sl=4194304;function qo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=qo(l):(i&=o,i!==0&&(r=qo(i)))}else o=n&~s,o!==0?r=qo(o):i!==0&&(r=qo(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-br(t),s=1<<n,r|=e[n],t&=~s;return r}function Pb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lb(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-br(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=Pb(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function df(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ay(){var e=rl;return rl<<=1,!(rl&4194240)&&(rl=64),e}function $u(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Da(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-br(t),e[t]=n}function Ob(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-br(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function jh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-br(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var qe=0;function ly(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cy,Ch,uy,dy,fy,ff=!1,il=[],Ts=null,Ms=null,Rs=null,ha=new Map,pa=new Map,vs=[],Ub="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function m0(e,t){switch(e){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Rs=null;break;case"pointerover":case"pointerout":ha.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pa.delete(t.pointerId)}}function Lo(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Wa(t),t!==null&&Ch(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function zb(e,t,n,r,s){switch(t){case"focusin":return Ts=Lo(Ts,e,t,n,r,s),!0;case"dragenter":return Ms=Lo(Ms,e,t,n,r,s),!0;case"mouseover":return Rs=Lo(Rs,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return ha.set(i,Lo(ha.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,pa.set(i,Lo(pa.get(i)||null,e,t,n,r,s)),!0}return!1}function hy(e){var t=ei(e.target);if(t!==null){var n=Si(t);if(n!==null){if(t=n.tag,t===13){if(t=ty(n),t!==null){e.blockedOn=t,fy(e.priority,function(){uy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=hf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);af=r,n.target.dispatchEvent(r),af=null}else return t=Wa(n),t!==null&&Ch(t),e.blockedOn=n,!1;t.shift()}return!0}function g0(e,t,n){Cl(e)&&n.delete(t)}function Fb(){ff=!1,Ts!==null&&Cl(Ts)&&(Ts=null),Ms!==null&&Cl(Ms)&&(Ms=null),Rs!==null&&Cl(Rs)&&(Rs=null),ha.forEach(g0),pa.forEach(g0)}function Oo(e,t){e.blockedOn===t&&(e.blockedOn=null,ff||(ff=!0,Zn.unstable_scheduleCallback(Zn.unstable_NormalPriority,Fb)))}function ma(e){function t(s){return Oo(s,e)}if(0<il.length){Oo(il[0],e);for(var n=1;n<il.length;n++){var r=il[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ts!==null&&Oo(Ts,e),Ms!==null&&Oo(Ms,e),Rs!==null&&Oo(Rs,e),ha.forEach(t),pa.forEach(t),n=0;n<vs.length;n++)r=vs[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<vs.length&&(n=vs[0],n.blockedOn===null);)hy(n),n.blockedOn===null&&vs.shift()}var eo=cs.ReactCurrentBatchConfig,ql=!0;function Db(e,t,n,r){var s=qe,i=eo.transition;eo.transition=null;try{qe=1,Ah(e,t,n,r)}finally{qe=s,eo.transition=i}}function $b(e,t,n,r){var s=qe,i=eo.transition;eo.transition=null;try{qe=4,Ah(e,t,n,r)}finally{qe=s,eo.transition=i}}function Ah(e,t,n,r){if(ql){var s=hf(e,t,n,r);if(s===null)Xu(e,t,r,Gl,n),m0(e,r);else if(zb(s,e,t,n,r))r.stopPropagation();else if(m0(e,r),t&4&&-1<Ub.indexOf(e)){for(;s!==null;){var i=Wa(s);if(i!==null&&cy(i),i=hf(e,t,n,r),i===null&&Xu(e,t,r,Gl,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Xu(e,t,r,null,n)}}var Gl=null;function hf(e,t,n,r){if(Gl=null,e=_h(r),e=ei(e),e!==null)if(t=Si(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ty(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gl=e,null}function py(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ab()){case kh:return 1;case iy:return 4;case Hl:case Ib:return 16;case oy:return 536870912;default:return 16}default:return 16}}var Es=null,Ih=null,Al=null;function my(){if(Al)return Al;var e,t=Ih,n=t.length,r,s="value"in Es?Es.value:Es.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Al=s.slice(e,1<r?1-r:void 0)}function Il(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ol(){return!0}function y0(){return!1}function er(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ol:y0,this.isPropagationStopped=y0,this}return ht(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ol)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ol)},persist:function(){},isPersistent:ol}),t}var _o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Th=er(_o),$a=ht({},_o,{view:0,detail:0}),Wb=er($a),Wu,Ku,Uo,Rc=ht({},$a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Uo&&(Uo&&e.type==="mousemove"?(Wu=e.screenX-Uo.screenX,Ku=e.screenY-Uo.screenY):Ku=Wu=0,Uo=e),Wu)},movementY:function(e){return"movementY"in e?e.movementY:Ku}}),x0=er(Rc),Kb=ht({},Rc,{dataTransfer:0}),Hb=er(Kb),Vb=ht({},$a,{relatedTarget:0}),Hu=er(Vb),qb=ht({},_o,{animationName:0,elapsedTime:0,pseudoElement:0}),Gb=er(qb),Yb=ht({},_o,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zb=er(Yb),Qb=ht({},_o,{data:0}),w0=er(Qb),Xb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=e2[e])?!!t[e]:!1}function Mh(){return t2}var n2=ht({},$a,{key:function(e){if(e.key){var t=Xb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Il(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mh,charCode:function(e){return e.type==="keypress"?Il(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Il(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),r2=er(n2),s2=ht({},Rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v0=er(s2),i2=ht({},$a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mh}),o2=er(i2),a2=ht({},_o,{propertyName:0,elapsedTime:0,pseudoElement:0}),l2=er(a2),c2=ht({},Rc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),u2=er(c2),d2=[9,13,27,32],Rh=es&&"CompositionEvent"in window,ea=null;es&&"documentMode"in document&&(ea=document.documentMode);var f2=es&&"TextEvent"in window&&!ea,gy=es&&(!Rh||ea&&8<ea&&11>=ea),b0=" ",S0=!1;function yy(e,t){switch(e){case"keyup":return d2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Oi=!1;function h2(e,t){switch(e){case"compositionend":return xy(t);case"keypress":return t.which!==32?null:(S0=!0,b0);case"textInput":return e=t.data,e===b0&&S0?null:e;default:return null}}function p2(e,t){if(Oi)return e==="compositionend"||!Rh&&yy(e,t)?(e=my(),Al=Ih=Es=null,Oi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gy&&t.locale!=="ko"?null:t.data;default:return null}}var m2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function E0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!m2[e.type]:t==="textarea"}function wy(e,t,n,r){Zg(r),t=Yl(t,"onChange"),0<t.length&&(n=new Th("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ta=null,ga=null;function g2(e){Iy(e,0)}function Bc(e){var t=Fi(e);if(Wg(t))return e}function y2(e,t){if(e==="change")return t}var vy=!1;if(es){var Vu;if(es){var qu="oninput"in document;if(!qu){var N0=document.createElement("div");N0.setAttribute("oninput","return;"),qu=typeof N0.oninput=="function"}Vu=qu}else Vu=!1;vy=Vu&&(!document.documentMode||9<document.documentMode)}function _0(){ta&&(ta.detachEvent("onpropertychange",by),ga=ta=null)}function by(e){if(e.propertyName==="value"&&Bc(ga)){var t=[];wy(t,ga,e,_h(e)),ey(g2,t)}}function x2(e,t,n){e==="focusin"?(_0(),ta=t,ga=n,ta.attachEvent("onpropertychange",by)):e==="focusout"&&_0()}function w2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bc(ga)}function v2(e,t){if(e==="click")return Bc(t)}function b2(e,t){if(e==="input"||e==="change")return Bc(t)}function S2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _r=typeof Object.is=="function"?Object.is:S2;function ya(e,t){if(_r(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Gd.call(t,s)||!_r(e[s],t[s]))return!1}return!0}function k0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function j0(e,t){var n=k0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=k0(n)}}function Sy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ey(){for(var e=window,t=$l();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=$l(e.document)}return t}function Bh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function E2(e){var t=Ey(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Sy(n.ownerDocument.documentElement,n)){if(r!==null&&Bh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=j0(n,i);var o=j0(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var N2=es&&"documentMode"in document&&11>=document.documentMode,Ui=null,pf=null,na=null,mf=!1;function C0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mf||Ui==null||Ui!==$l(r)||(r=Ui,"selectionStart"in r&&Bh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),na&&ya(na,r)||(na=r,r=Yl(pf,"onSelect"),0<r.length&&(t=new Th("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ui)))}function al(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zi={animationend:al("Animation","AnimationEnd"),animationiteration:al("Animation","AnimationIteration"),animationstart:al("Animation","AnimationStart"),transitionend:al("Transition","TransitionEnd")},Gu={},Ny={};es&&(Ny=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function Pc(e){if(Gu[e])return Gu[e];if(!zi[e])return e;var t=zi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ny)return Gu[e]=t[n];return e}var _y=Pc("animationend"),ky=Pc("animationiteration"),jy=Pc("animationstart"),Cy=Pc("transitionend"),Ay=new Map,A0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ks(e,t){Ay.set(e,t),bi(t,[e])}for(var Yu=0;Yu<A0.length;Yu++){var Zu=A0[Yu],_2=Zu.toLowerCase(),k2=Zu[0].toUpperCase()+Zu.slice(1);Ks(_2,"on"+k2)}Ks(_y,"onAnimationEnd");Ks(ky,"onAnimationIteration");Ks(jy,"onAnimationStart");Ks("dblclick","onDoubleClick");Ks("focusin","onFocus");Ks("focusout","onBlur");Ks(Cy,"onTransitionEnd");oo("onMouseEnter",["mouseout","mouseover"]);oo("onMouseLeave",["mouseout","mouseover"]);oo("onPointerEnter",["pointerout","pointerover"]);oo("onPointerLeave",["pointerout","pointerover"]);bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bi("onBeforeInput",["compositionend","keypress","textInput","paste"]);bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Go));function I0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,_b(r,t,void 0,e),e.currentTarget=null}function Iy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;I0(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;I0(s,l,u),i=c}}}if(Kl)throw e=uf,Kl=!1,uf=null,e}function nt(e,t){var n=t[vf];n===void 0&&(n=t[vf]=new Set);var r=e+"__bubble";n.has(r)||(Ty(t,e,2,!1),n.add(r))}function Qu(e,t,n){var r=0;t&&(r|=4),Ty(n,e,r,t)}var ll="_reactListening"+Math.random().toString(36).slice(2);function xa(e){if(!e[ll]){e[ll]=!0,Ug.forEach(function(n){n!=="selectionchange"&&(j2.has(n)||Qu(n,!1,e),Qu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ll]||(t[ll]=!0,Qu("selectionchange",!1,t))}}function Ty(e,t,n,r){switch(py(t)){case 1:var s=Db;break;case 4:s=$b;break;default:s=Ah}n=s.bind(null,t,n,e),s=void 0,!cf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Xu(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ei(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}ey(function(){var u=i,d=_h(n),p=[];e:{var x=Ay.get(e);if(x!==void 0){var N=Th,C=e;switch(e){case"keypress":if(Il(n)===0)break e;case"keydown":case"keyup":N=r2;break;case"focusin":C="focus",N=Hu;break;case"focusout":C="blur",N=Hu;break;case"beforeblur":case"afterblur":N=Hu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=x0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=Hb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=o2;break;case _y:case ky:case jy:N=Gb;break;case Cy:N=l2;break;case"scroll":N=Wb;break;case"wheel":N=u2;break;case"copy":case"cut":case"paste":N=Zb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=v0}var S=(t&4)!==0,E=!S&&e==="scroll",v=S?x!==null?x+"Capture":null:x;S=[];for(var b=u,g;b!==null;){g=b;var R=g.stateNode;if(g.tag===5&&R!==null&&(g=R,v!==null&&(R=fa(b,v),R!=null&&S.push(wa(b,R,g)))),E)break;b=b.return}0<S.length&&(x=new N(x,C,null,n,d),p.push({event:x,listeners:S}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",x&&n!==af&&(C=n.relatedTarget||n.fromElement)&&(ei(C)||C[ts]))break e;if((N||x)&&(x=d.window===d?d:(x=d.ownerDocument)?x.defaultView||x.parentWindow:window,N?(C=n.relatedTarget||n.toElement,N=u,C=C?ei(C):null,C!==null&&(E=Si(C),C!==E||C.tag!==5&&C.tag!==6)&&(C=null)):(N=null,C=u),N!==C)){if(S=x0,R="onMouseLeave",v="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(S=v0,R="onPointerLeave",v="onPointerEnter",b="pointer"),E=N==null?x:Fi(N),g=C==null?x:Fi(C),x=new S(R,b+"leave",N,n,d),x.target=E,x.relatedTarget=g,R=null,ei(d)===u&&(S=new S(v,b+"enter",C,n,d),S.target=g,S.relatedTarget=E,R=S),E=R,N&&C)t:{for(S=N,v=C,b=0,g=S;g;g=Ii(g))b++;for(g=0,R=v;R;R=Ii(R))g++;for(;0<b-g;)S=Ii(S),b--;for(;0<g-b;)v=Ii(v),g--;for(;b--;){if(S===v||v!==null&&S===v.alternate)break t;S=Ii(S),v=Ii(v)}S=null}else S=null;N!==null&&T0(p,x,N,S,!1),C!==null&&E!==null&&T0(p,E,C,S,!0)}}e:{if(x=u?Fi(u):window,N=x.nodeName&&x.nodeName.toLowerCase(),N==="select"||N==="input"&&x.type==="file")var z=y2;else if(E0(x))if(vy)z=b2;else{z=w2;var U=x2}else(N=x.nodeName)&&N.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(z=v2);if(z&&(z=z(e,u))){wy(p,z,n,d);break e}U&&U(e,x,u),e==="focusout"&&(U=x._wrapperState)&&U.controlled&&x.type==="number"&&tf(x,"number",x.value)}switch(U=u?Fi(u):window,e){case"focusin":(E0(U)||U.contentEditable==="true")&&(Ui=U,pf=u,na=null);break;case"focusout":na=pf=Ui=null;break;case"mousedown":mf=!0;break;case"contextmenu":case"mouseup":case"dragend":mf=!1,C0(p,n,d);break;case"selectionchange":if(N2)break;case"keydown":case"keyup":C0(p,n,d)}var F;if(Rh)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Oi?yy(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(gy&&n.locale!=="ko"&&(Oi||D!=="onCompositionStart"?D==="onCompositionEnd"&&Oi&&(F=my()):(Es=d,Ih="value"in Es?Es.value:Es.textContent,Oi=!0)),U=Yl(u,D),0<U.length&&(D=new w0(D,e,null,n,d),p.push({event:D,listeners:U}),F?D.data=F:(F=xy(n),F!==null&&(D.data=F)))),(F=f2?h2(e,n):p2(e,n))&&(u=Yl(u,"onBeforeInput"),0<u.length&&(d=new w0("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=F))}Iy(p,t)})}function wa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=fa(e,n),i!=null&&r.unshift(wa(e,i,s)),i=fa(e,t),i!=null&&r.push(wa(e,i,s))),e=e.return}return r}function Ii(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function T0(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=fa(n,i),c!=null&&o.unshift(wa(n,c,l))):s||(c=fa(n,i),c!=null&&o.push(wa(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var C2=/\r\n?/g,A2=/\u0000|\uFFFD/g;function M0(e){return(typeof e=="string"?e:""+e).replace(C2,`
`).replace(A2,"")}function cl(e,t,n){if(t=M0(t),M0(e)!==t&&n)throw Error(ae(425))}function Zl(){}var gf=null,yf=null;function xf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wf=typeof setTimeout=="function"?setTimeout:void 0,I2=typeof clearTimeout=="function"?clearTimeout:void 0,R0=typeof Promise=="function"?Promise:void 0,T2=typeof queueMicrotask=="function"?queueMicrotask:typeof R0<"u"?function(e){return R0.resolve(null).then(e).catch(M2)}:wf;function M2(e){setTimeout(function(){throw e})}function Ju(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ma(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ma(t)}function Bs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function B0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ko=Math.random().toString(36).slice(2),Mr="__reactFiber$"+ko,va="__reactProps$"+ko,ts="__reactContainer$"+ko,vf="__reactEvents$"+ko,R2="__reactListeners$"+ko,B2="__reactHandles$"+ko;function ei(e){var t=e[Mr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ts]||n[Mr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=B0(e);e!==null;){if(n=e[Mr])return n;e=B0(e)}return t}e=n,n=e.parentNode}return null}function Wa(e){return e=e[Mr]||e[ts],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ae(33))}function Lc(e){return e[va]||null}var bf=[],Di=-1;function Hs(e){return{current:e}}function st(e){0>Di||(e.current=bf[Di],bf[Di]=null,Di--)}function Je(e,t){Di++,bf[Di]=e.current,e.current=t}var Ws={},yn=Hs(Ws),Rn=Hs(!1),fi=Ws;function ao(e,t){var n=e.type.contextTypes;if(!n)return Ws;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Bn(e){return e=e.childContextTypes,e!=null}function Ql(){st(Rn),st(yn)}function P0(e,t,n){if(yn.current!==Ws)throw Error(ae(168));Je(yn,t),Je(Rn,n)}function My(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(ae(108,xb(e)||"Unknown",s));return ht({},n,r)}function Xl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ws,fi=yn.current,Je(yn,e),Je(Rn,Rn.current),!0}function L0(e,t,n){var r=e.stateNode;if(!r)throw Error(ae(169));n?(e=My(e,t,fi),r.__reactInternalMemoizedMergedChildContext=e,st(Rn),st(yn),Je(yn,e)):st(Rn),Je(Rn,n)}var Wr=null,Oc=!1,ed=!1;function Ry(e){Wr===null?Wr=[e]:Wr.push(e)}function P2(e){Oc=!0,Ry(e)}function Vs(){if(!ed&&Wr!==null){ed=!0;var e=0,t=qe;try{var n=Wr;for(qe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Wr=null,Oc=!1}catch(s){throw Wr!==null&&(Wr=Wr.slice(e+1)),sy(kh,Vs),s}finally{qe=t,ed=!1}}return null}var $i=[],Wi=0,Jl=null,ec=0,ar=[],lr=0,hi=null,Gr=1,Yr="";function Gs(e,t){$i[Wi++]=ec,$i[Wi++]=Jl,Jl=e,ec=t}function By(e,t,n){ar[lr++]=Gr,ar[lr++]=Yr,ar[lr++]=hi,hi=e;var r=Gr;e=Yr;var s=32-br(r)-1;r&=~(1<<s),n+=1;var i=32-br(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Gr=1<<32-br(t)+s|n<<s|r,Yr=i+e}else Gr=1<<i|n<<s|r,Yr=e}function Ph(e){e.return!==null&&(Gs(e,1),By(e,1,0))}function Lh(e){for(;e===Jl;)Jl=$i[--Wi],$i[Wi]=null,ec=$i[--Wi],$i[Wi]=null;for(;e===hi;)hi=ar[--lr],ar[lr]=null,Yr=ar[--lr],ar[lr]=null,Gr=ar[--lr],ar[lr]=null}var Gn=null,qn=null,lt=!1,vr=null;function Py(e,t){var n=ur(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function O0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Gn=e,qn=Bs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Gn=e,qn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=hi!==null?{id:Gr,overflow:Yr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ur(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Gn=e,qn=null,!0):!1;default:return!1}}function Sf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ef(e){if(lt){var t=qn;if(t){var n=t;if(!O0(e,t)){if(Sf(e))throw Error(ae(418));t=Bs(n.nextSibling);var r=Gn;t&&O0(e,t)?Py(r,n):(e.flags=e.flags&-4097|2,lt=!1,Gn=e)}}else{if(Sf(e))throw Error(ae(418));e.flags=e.flags&-4097|2,lt=!1,Gn=e}}}function U0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Gn=e}function ul(e){if(e!==Gn)return!1;if(!lt)return U0(e),lt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xf(e.type,e.memoizedProps)),t&&(t=qn)){if(Sf(e))throw Ly(),Error(ae(418));for(;t;)Py(e,t),t=Bs(t.nextSibling)}if(U0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ae(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){qn=Bs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}qn=null}}else qn=Gn?Bs(e.stateNode.nextSibling):null;return!0}function Ly(){for(var e=qn;e;)e=Bs(e.nextSibling)}function lo(){qn=Gn=null,lt=!1}function Oh(e){vr===null?vr=[e]:vr.push(e)}var L2=cs.ReactCurrentBatchConfig;function zo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ae(309));var r=n.stateNode}if(!r)throw Error(ae(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ae(284));if(!n._owner)throw Error(ae(290,e))}return e}function dl(e,t){throw e=Object.prototype.toString.call(t),Error(ae(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function z0(e){var t=e._init;return t(e._payload)}function Oy(e){function t(v,b){if(e){var g=v.deletions;g===null?(v.deletions=[b],v.flags|=16):g.push(b)}}function n(v,b){if(!e)return null;for(;b!==null;)t(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function s(v,b){return v=Us(v,b),v.index=0,v.sibling=null,v}function i(v,b,g){return v.index=g,e?(g=v.alternate,g!==null?(g=g.index,g<b?(v.flags|=2,b):g):(v.flags|=2,b)):(v.flags|=1048576,b)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,b,g,R){return b===null||b.tag!==6?(b=ad(g,v.mode,R),b.return=v,b):(b=s(b,g),b.return=v,b)}function c(v,b,g,R){var z=g.type;return z===Li?d(v,b,g.props.children,R,g.key):b!==null&&(b.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===ys&&z0(z)===b.type)?(R=s(b,g.props),R.ref=zo(v,b,g),R.return=v,R):(R=Ol(g.type,g.key,g.props,null,v.mode,R),R.ref=zo(v,b,g),R.return=v,R)}function u(v,b,g,R){return b===null||b.tag!==4||b.stateNode.containerInfo!==g.containerInfo||b.stateNode.implementation!==g.implementation?(b=ld(g,v.mode,R),b.return=v,b):(b=s(b,g.children||[]),b.return=v,b)}function d(v,b,g,R,z){return b===null||b.tag!==7?(b=li(g,v.mode,R,z),b.return=v,b):(b=s(b,g),b.return=v,b)}function p(v,b,g){if(typeof b=="string"&&b!==""||typeof b=="number")return b=ad(""+b,v.mode,g),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case el:return g=Ol(b.type,b.key,b.props,null,v.mode,g),g.ref=zo(v,null,b),g.return=v,g;case Pi:return b=ld(b,v.mode,g),b.return=v,b;case ys:var R=b._init;return p(v,R(b._payload),g)}if(Vo(b)||Bo(b))return b=li(b,v.mode,g,null),b.return=v,b;dl(v,b)}return null}function x(v,b,g,R){var z=b!==null?b.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return z!==null?null:l(v,b,""+g,R);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case el:return g.key===z?c(v,b,g,R):null;case Pi:return g.key===z?u(v,b,g,R):null;case ys:return z=g._init,x(v,b,z(g._payload),R)}if(Vo(g)||Bo(g))return z!==null?null:d(v,b,g,R,null);dl(v,g)}return null}function N(v,b,g,R,z){if(typeof R=="string"&&R!==""||typeof R=="number")return v=v.get(g)||null,l(b,v,""+R,z);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case el:return v=v.get(R.key===null?g:R.key)||null,c(b,v,R,z);case Pi:return v=v.get(R.key===null?g:R.key)||null,u(b,v,R,z);case ys:var U=R._init;return N(v,b,g,U(R._payload),z)}if(Vo(R)||Bo(R))return v=v.get(g)||null,d(b,v,R,z,null);dl(b,R)}return null}function C(v,b,g,R){for(var z=null,U=null,F=b,D=b=0,q=null;F!==null&&D<g.length;D++){F.index>D?(q=F,F=null):q=F.sibling;var G=x(v,F,g[D],R);if(G===null){F===null&&(F=q);break}e&&F&&G.alternate===null&&t(v,F),b=i(G,b,D),U===null?z=G:U.sibling=G,U=G,F=q}if(D===g.length)return n(v,F),lt&&Gs(v,D),z;if(F===null){for(;D<g.length;D++)F=p(v,g[D],R),F!==null&&(b=i(F,b,D),U===null?z=F:U.sibling=F,U=F);return lt&&Gs(v,D),z}for(F=r(v,F);D<g.length;D++)q=N(F,v,D,g[D],R),q!==null&&(e&&q.alternate!==null&&F.delete(q.key===null?D:q.key),b=i(q,b,D),U===null?z=q:U.sibling=q,U=q);return e&&F.forEach(function(Z){return t(v,Z)}),lt&&Gs(v,D),z}function S(v,b,g,R){var z=Bo(g);if(typeof z!="function")throw Error(ae(150));if(g=z.call(g),g==null)throw Error(ae(151));for(var U=z=null,F=b,D=b=0,q=null,G=g.next();F!==null&&!G.done;D++,G=g.next()){F.index>D?(q=F,F=null):q=F.sibling;var Z=x(v,F,G.value,R);if(Z===null){F===null&&(F=q);break}e&&F&&Z.alternate===null&&t(v,F),b=i(Z,b,D),U===null?z=Z:U.sibling=Z,U=Z,F=q}if(G.done)return n(v,F),lt&&Gs(v,D),z;if(F===null){for(;!G.done;D++,G=g.next())G=p(v,G.value,R),G!==null&&(b=i(G,b,D),U===null?z=G:U.sibling=G,U=G);return lt&&Gs(v,D),z}for(F=r(v,F);!G.done;D++,G=g.next())G=N(F,v,D,G.value,R),G!==null&&(e&&G.alternate!==null&&F.delete(G.key===null?D:G.key),b=i(G,b,D),U===null?z=G:U.sibling=G,U=G);return e&&F.forEach(function(ee){return t(v,ee)}),lt&&Gs(v,D),z}function E(v,b,g,R){if(typeof g=="object"&&g!==null&&g.type===Li&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case el:e:{for(var z=g.key,U=b;U!==null;){if(U.key===z){if(z=g.type,z===Li){if(U.tag===7){n(v,U.sibling),b=s(U,g.props.children),b.return=v,v=b;break e}}else if(U.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===ys&&z0(z)===U.type){n(v,U.sibling),b=s(U,g.props),b.ref=zo(v,U,g),b.return=v,v=b;break e}n(v,U);break}else t(v,U);U=U.sibling}g.type===Li?(b=li(g.props.children,v.mode,R,g.key),b.return=v,v=b):(R=Ol(g.type,g.key,g.props,null,v.mode,R),R.ref=zo(v,b,g),R.return=v,v=R)}return o(v);case Pi:e:{for(U=g.key;b!==null;){if(b.key===U)if(b.tag===4&&b.stateNode.containerInfo===g.containerInfo&&b.stateNode.implementation===g.implementation){n(v,b.sibling),b=s(b,g.children||[]),b.return=v,v=b;break e}else{n(v,b);break}else t(v,b);b=b.sibling}b=ld(g,v.mode,R),b.return=v,v=b}return o(v);case ys:return U=g._init,E(v,b,U(g._payload),R)}if(Vo(g))return C(v,b,g,R);if(Bo(g))return S(v,b,g,R);dl(v,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,b!==null&&b.tag===6?(n(v,b.sibling),b=s(b,g),b.return=v,v=b):(n(v,b),b=ad(g,v.mode,R),b.return=v,v=b),o(v)):n(v,b)}return E}var co=Oy(!0),Uy=Oy(!1),tc=Hs(null),nc=null,Ki=null,Uh=null;function zh(){Uh=Ki=nc=null}function Fh(e){var t=tc.current;st(tc),e._currentValue=t}function Nf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function to(e,t){nc=e,Uh=Ki=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Tn=!0),e.firstContext=null)}function hr(e){var t=e._currentValue;if(Uh!==e)if(e={context:e,memoizedValue:t,next:null},Ki===null){if(nc===null)throw Error(ae(308));Ki=e,nc.dependencies={lanes:0,firstContext:e}}else Ki=Ki.next=e;return t}var ti=null;function Dh(e){ti===null?ti=[e]:ti.push(e)}function zy(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Dh(t)):(n.next=s.next,s.next=n),t.interleaved=n,ns(e,r)}function ns(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var xs=!1;function $h(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ps(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Fe&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ns(e,n)}return s=r.interleaved,s===null?(t.next=t,Dh(r)):(t.next=s.next,s.next=t),r.interleaved=t,ns(e,n)}function Tl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jh(e,n)}}function F0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function rc(e,t,n,r){var s=e.updateQueue;xs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var p=s.baseState;o=0,d=u=c=null,l=i;do{var x=l.lane,N=l.eventTime;if((r&x)===x){d!==null&&(d=d.next={eventTime:N,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var C=e,S=l;switch(x=t,N=n,S.tag){case 1:if(C=S.payload,typeof C=="function"){p=C.call(N,p,x);break e}p=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=S.payload,x=typeof C=="function"?C.call(N,p,x):C,x==null)break e;p=ht({},p,x);break e;case 2:xs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,x=s.effects,x===null?s.effects=[l]:x.push(l))}else N={eventTime:N,lane:x,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=N,c=p):d=d.next=N,o|=x;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;x=l,l=x.next,x.next=null,s.lastBaseUpdate=x,s.shared.pending=null}}while(!0);if(d===null&&(c=p),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);mi|=o,e.lanes=o,e.memoizedState=p}}function D0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ae(191,s));s.call(r)}}}var Ka={},Br=Hs(Ka),ba=Hs(Ka),Sa=Hs(Ka);function ni(e){if(e===Ka)throw Error(ae(174));return e}function Wh(e,t){switch(Je(Sa,t),Je(ba,e),Je(Br,Ka),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:rf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=rf(t,e)}st(Br),Je(Br,t)}function uo(){st(Br),st(ba),st(Sa)}function Dy(e){ni(Sa.current);var t=ni(Br.current),n=rf(t,e.type);t!==n&&(Je(ba,e),Je(Br,n))}function Kh(e){ba.current===e&&(st(Br),st(ba))}var ct=Hs(0);function sc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var td=[];function Hh(){for(var e=0;e<td.length;e++)td[e]._workInProgressVersionPrimary=null;td.length=0}var Ml=cs.ReactCurrentDispatcher,nd=cs.ReactCurrentBatchConfig,pi=0,ft=null,Ft=null,Vt=null,ic=!1,ra=!1,Ea=0,O2=0;function ln(){throw Error(ae(321))}function Vh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_r(e[n],t[n]))return!1;return!0}function qh(e,t,n,r,s,i){if(pi=i,ft=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ml.current=e===null||e.memoizedState===null?D2:$2,e=n(r,s),ra){i=0;do{if(ra=!1,Ea=0,25<=i)throw Error(ae(301));i+=1,Vt=Ft=null,t.updateQueue=null,Ml.current=W2,e=n(r,s)}while(ra)}if(Ml.current=oc,t=Ft!==null&&Ft.next!==null,pi=0,Vt=Ft=ft=null,ic=!1,t)throw Error(ae(300));return e}function Gh(){var e=Ea!==0;return Ea=0,e}function Ir(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?ft.memoizedState=Vt=e:Vt=Vt.next=e,Vt}function pr(){if(Ft===null){var e=ft.alternate;e=e!==null?e.memoizedState:null}else e=Ft.next;var t=Vt===null?ft.memoizedState:Vt.next;if(t!==null)Vt=t,Ft=e;else{if(e===null)throw Error(ae(310));Ft=e,e={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Vt===null?ft.memoizedState=Vt=e:Vt=Vt.next=e}return Vt}function Na(e,t){return typeof t=="function"?t(e):t}function rd(e){var t=pr(),n=t.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=e;var r=Ft,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((pi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=p,o=r):c=c.next=p,ft.lanes|=d,mi|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,_r(r,t.memoizedState)||(Tn=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ft.lanes|=i,mi|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function sd(e){var t=pr(),n=t.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);_r(i,t.memoizedState)||(Tn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function $y(){}function Wy(e,t){var n=ft,r=pr(),s=t(),i=!_r(r.memoizedState,s);if(i&&(r.memoizedState=s,Tn=!0),r=r.queue,Yh(Vy.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Vt!==null&&Vt.memoizedState.tag&1){if(n.flags|=2048,_a(9,Hy.bind(null,n,r,s,t),void 0,null),Yt===null)throw Error(ae(349));pi&30||Ky(n,t,s)}return s}function Ky(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ft.updateQueue,t===null?(t={lastEffect:null,stores:null},ft.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Hy(e,t,n,r){t.value=n,t.getSnapshot=r,qy(t)&&Gy(e)}function Vy(e,t,n){return n(function(){qy(t)&&Gy(e)})}function qy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_r(e,n)}catch{return!0}}function Gy(e){var t=ns(e,1);t!==null&&Sr(t,e,1,-1)}function $0(e){var t=Ir();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:e},t.queue=e,e=e.dispatch=F2.bind(null,ft,e),[t.memoizedState,e]}function _a(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ft.updateQueue,t===null?(t={lastEffect:null,stores:null},ft.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Yy(){return pr().memoizedState}function Rl(e,t,n,r){var s=Ir();ft.flags|=e,s.memoizedState=_a(1|t,n,void 0,r===void 0?null:r)}function Uc(e,t,n,r){var s=pr();r=r===void 0?null:r;var i=void 0;if(Ft!==null){var o=Ft.memoizedState;if(i=o.destroy,r!==null&&Vh(r,o.deps)){s.memoizedState=_a(t,n,i,r);return}}ft.flags|=e,s.memoizedState=_a(1|t,n,i,r)}function W0(e,t){return Rl(8390656,8,e,t)}function Yh(e,t){return Uc(2048,8,e,t)}function Zy(e,t){return Uc(4,2,e,t)}function Qy(e,t){return Uc(4,4,e,t)}function Xy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Jy(e,t,n){return n=n!=null?n.concat([e]):null,Uc(4,4,Xy.bind(null,t,e),n)}function Zh(){}function e1(e,t){var n=pr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function t1(e,t){var n=pr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function n1(e,t,n){return pi&21?(_r(n,t)||(n=ay(),ft.lanes|=n,mi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Tn=!0),e.memoizedState=n)}function U2(e,t){var n=qe;qe=n!==0&&4>n?n:4,e(!0);var r=nd.transition;nd.transition={};try{e(!1),t()}finally{qe=n,nd.transition=r}}function r1(){return pr().memoizedState}function z2(e,t,n){var r=Os(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},s1(e))i1(t,n);else if(n=zy(e,t,n,r),n!==null){var s=En();Sr(n,e,r,s),o1(n,t,r)}}function F2(e,t,n){var r=Os(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(s1(e))i1(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,_r(l,o)){var c=t.interleaved;c===null?(s.next=s,Dh(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=zy(e,t,s,r),n!==null&&(s=En(),Sr(n,e,r,s),o1(n,t,r))}}function s1(e){var t=e.alternate;return e===ft||t!==null&&t===ft}function i1(e,t){ra=ic=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function o1(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jh(e,n)}}var oc={readContext:hr,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},D2={readContext:hr,useCallback:function(e,t){return Ir().memoizedState=[e,t===void 0?null:t],e},useContext:hr,useEffect:W0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Rl(4194308,4,Xy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Rl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rl(4,2,e,t)},useMemo:function(e,t){var n=Ir();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ir();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=z2.bind(null,ft,e),[r.memoizedState,e]},useRef:function(e){var t=Ir();return e={current:e},t.memoizedState=e},useState:$0,useDebugValue:Zh,useDeferredValue:function(e){return Ir().memoizedState=e},useTransition:function(){var e=$0(!1),t=e[0];return e=U2.bind(null,e[1]),Ir().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ft,s=Ir();if(lt){if(n===void 0)throw Error(ae(407));n=n()}else{if(n=t(),Yt===null)throw Error(ae(349));pi&30||Ky(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,W0(Vy.bind(null,r,i,e),[e]),r.flags|=2048,_a(9,Hy.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ir(),t=Yt.identifierPrefix;if(lt){var n=Yr,r=Gr;n=(r&~(1<<32-br(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ea++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=O2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$2={readContext:hr,useCallback:e1,useContext:hr,useEffect:Yh,useImperativeHandle:Jy,useInsertionEffect:Zy,useLayoutEffect:Qy,useMemo:t1,useReducer:rd,useRef:Yy,useState:function(){return rd(Na)},useDebugValue:Zh,useDeferredValue:function(e){var t=pr();return n1(t,Ft.memoizedState,e)},useTransition:function(){var e=rd(Na)[0],t=pr().memoizedState;return[e,t]},useMutableSource:$y,useSyncExternalStore:Wy,useId:r1,unstable_isNewReconciler:!1},W2={readContext:hr,useCallback:e1,useContext:hr,useEffect:Yh,useImperativeHandle:Jy,useInsertionEffect:Zy,useLayoutEffect:Qy,useMemo:t1,useReducer:sd,useRef:Yy,useState:function(){return sd(Na)},useDebugValue:Zh,useDeferredValue:function(e){var t=pr();return Ft===null?t.memoizedState=e:n1(t,Ft.memoizedState,e)},useTransition:function(){var e=sd(Na)[0],t=pr().memoizedState;return[e,t]},useMutableSource:$y,useSyncExternalStore:Wy,useId:r1,unstable_isNewReconciler:!1};function yr(e,t){if(e&&e.defaultProps){t=ht({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function _f(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ht({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var zc={isMounted:function(e){return(e=e._reactInternals)?Si(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=En(),s=Os(e),i=Xr(r,s);i.payload=t,n!=null&&(i.callback=n),t=Ps(e,i,s),t!==null&&(Sr(t,e,s,r),Tl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=En(),s=Os(e),i=Xr(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ps(e,i,s),t!==null&&(Sr(t,e,s,r),Tl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=En(),r=Os(e),s=Xr(n,r);s.tag=2,t!=null&&(s.callback=t),t=Ps(e,s,r),t!==null&&(Sr(t,e,r,n),Tl(t,e,r))}};function K0(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!ya(n,r)||!ya(s,i):!0}function a1(e,t,n){var r=!1,s=Ws,i=t.contextType;return typeof i=="object"&&i!==null?i=hr(i):(s=Bn(t)?fi:yn.current,r=t.contextTypes,i=(r=r!=null)?ao(e,s):Ws),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function H0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zc.enqueueReplaceState(t,t.state,null)}function kf(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},$h(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=hr(i):(i=Bn(t)?fi:yn.current,s.context=ao(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(_f(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&zc.enqueueReplaceState(s,s.state,null),rc(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function fo(e,t){try{var n="",r=t;do n+=yb(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function id(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function jf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var K2=typeof WeakMap=="function"?WeakMap:Map;function l1(e,t,n){n=Xr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){lc||(lc=!0,Of=r),jf(e,t)},n}function c1(e,t,n){n=Xr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){jf(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){jf(e,t),typeof r!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function V0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new K2;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=sS.bind(null,e,t,n),t.then(e,e))}function q0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function G0(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Xr(-1,1),t.tag=2,Ps(n,t,1))),n.lanes|=1),e)}var H2=cs.ReactCurrentOwner,Tn=!1;function bn(e,t,n,r){t.child=e===null?Uy(t,null,n,r):co(t,e.child,n,r)}function Y0(e,t,n,r,s){n=n.render;var i=t.ref;return to(t,s),r=qh(e,t,n,r,i,s),n=Gh(),e!==null&&!Tn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,rs(e,t,s)):(lt&&n&&Ph(t),t.flags|=1,bn(e,t,r,s),t.child)}function Z0(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!sp(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,u1(e,t,i,r,s)):(e=Ol(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ya,n(o,r)&&e.ref===t.ref)return rs(e,t,s)}return t.flags|=1,e=Us(i,r),e.ref=t.ref,e.return=t,t.child=e}function u1(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(ya(i,r)&&e.ref===t.ref)if(Tn=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Tn=!0);else return t.lanes=e.lanes,rs(e,t,s)}return Cf(e,t,n,r,s)}function d1(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(Vi,Dn),Dn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Je(Vi,Dn),Dn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Je(Vi,Dn),Dn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Je(Vi,Dn),Dn|=r;return bn(e,t,s,n),t.child}function f1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cf(e,t,n,r,s){var i=Bn(n)?fi:yn.current;return i=ao(t,i),to(t,s),n=qh(e,t,n,r,i,s),r=Gh(),e!==null&&!Tn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,rs(e,t,s)):(lt&&r&&Ph(t),t.flags|=1,bn(e,t,n,s),t.child)}function Q0(e,t,n,r,s){if(Bn(n)){var i=!0;Xl(t)}else i=!1;if(to(t,s),t.stateNode===null)Bl(e,t),a1(t,n,r),kf(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=hr(u):(u=Bn(n)?fi:yn.current,u=ao(t,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&H0(t,o,r,u),xs=!1;var x=t.memoizedState;o.state=x,rc(t,r,o,s),c=t.memoizedState,l!==r||x!==c||Rn.current||xs?(typeof d=="function"&&(_f(t,n,d,r),c=t.memoizedState),(l=xs||K0(t,n,l,r,x,c,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Fy(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:yr(t.type,l),o.props=u,p=t.pendingProps,x=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=hr(c):(c=Bn(n)?fi:yn.current,c=ao(t,c));var N=n.getDerivedStateFromProps;(d=typeof N=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||x!==c)&&H0(t,o,r,c),xs=!1,x=t.memoizedState,o.state=x,rc(t,r,o,s);var C=t.memoizedState;l!==p||x!==C||Rn.current||xs?(typeof N=="function"&&(_f(t,n,N,r),C=t.memoizedState),(u=xs||K0(t,n,u,r,x,C,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,C,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,C,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=C),o.props=r,o.state=C,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),r=!1)}return Af(e,t,n,r,i,s)}function Af(e,t,n,r,s,i){f1(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&L0(t,n,!1),rs(e,t,i);r=t.stateNode,H2.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=co(t,e.child,null,i),t.child=co(t,null,l,i)):bn(e,t,l,i),t.memoizedState=r.state,s&&L0(t,n,!0),t.child}function h1(e){var t=e.stateNode;t.pendingContext?P0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&P0(e,t.context,!1),Wh(e,t.containerInfo)}function X0(e,t,n,r,s){return lo(),Oh(s),t.flags|=256,bn(e,t,n,r),t.child}var If={dehydrated:null,treeContext:null,retryLane:0};function Tf(e){return{baseLanes:e,cachePool:null,transitions:null}}function p1(e,t,n){var r=t.pendingProps,s=ct.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Je(ct,s&1),e===null)return Ef(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=$c(o,r,0,null),e=li(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Tf(n),t.memoizedState=If,e):Qh(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return V2(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Us(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Us(l,i):(i=li(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Tf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=If,r}return i=e.child,e=i.sibling,r=Us(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Qh(e,t){return t=$c({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fl(e,t,n,r){return r!==null&&Oh(r),co(t,e.child,null,n),e=Qh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function V2(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=id(Error(ae(422))),fl(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=$c({mode:"visible",children:r.children},s,0,null),i=li(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&co(t,e.child,null,o),t.child.memoizedState=Tf(o),t.memoizedState=If,i);if(!(t.mode&1))return fl(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(ae(419)),r=id(i,r,void 0),fl(e,t,o,r)}if(l=(o&e.childLanes)!==0,Tn||l){if(r=Yt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ns(e,s),Sr(r,e,s,-1))}return rp(),r=id(Error(ae(421))),fl(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=iS.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,qn=Bs(s.nextSibling),Gn=t,lt=!0,vr=null,e!==null&&(ar[lr++]=Gr,ar[lr++]=Yr,ar[lr++]=hi,Gr=e.id,Yr=e.overflow,hi=t),t=Qh(t,r.children),t.flags|=4096,t)}function J0(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Nf(e.return,t,n)}function od(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function m1(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(bn(e,t,r.children,n),r=ct.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&J0(e,n,t);else if(e.tag===19)J0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Je(ct,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&sc(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),od(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&sc(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}od(t,!0,n,null,i);break;case"together":od(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function rs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),mi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ae(153));if(t.child!==null){for(e=t.child,n=Us(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Us(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function q2(e,t,n){switch(t.tag){case 3:h1(t),lo();break;case 5:Dy(t);break;case 1:Bn(t.type)&&Xl(t);break;case 4:Wh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Je(tc,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Je(ct,ct.current&1),t.flags|=128,null):n&t.child.childLanes?p1(e,t,n):(Je(ct,ct.current&1),e=rs(e,t,n),e!==null?e.sibling:null);Je(ct,ct.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return m1(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Je(ct,ct.current),r)break;return null;case 22:case 23:return t.lanes=0,d1(e,t,n)}return rs(e,t,n)}var g1,Mf,y1,x1;g1=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mf=function(){};y1=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,ni(Br.current);var i=null;switch(n){case"input":s=Jd(e,s),r=Jd(e,r),i=[];break;case"select":s=ht({},s,{value:void 0}),r=ht({},r,{value:void 0}),i=[];break;case"textarea":s=nf(e,s),r=nf(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Zl)}sf(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ua.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ua.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&nt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};x1=function(e,t,n,r){n!==r&&(t.flags|=4)};function Fo(e,t){if(!lt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function cn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function G2(e,t,n){var r=t.pendingProps;switch(Lh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(t),null;case 1:return Bn(t.type)&&Ql(),cn(t),null;case 3:return r=t.stateNode,uo(),st(Rn),st(yn),Hh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ul(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vr!==null&&(Ff(vr),vr=null))),Mf(e,t),cn(t),null;case 5:Kh(t);var s=ni(Sa.current);if(n=t.type,e!==null&&t.stateNode!=null)y1(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ae(166));return cn(t),null}if(e=ni(Br.current),ul(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Mr]=t,r[va]=i,e=(t.mode&1)!==0,n){case"dialog":nt("cancel",r),nt("close",r);break;case"iframe":case"object":case"embed":nt("load",r);break;case"video":case"audio":for(s=0;s<Go.length;s++)nt(Go[s],r);break;case"source":nt("error",r);break;case"img":case"image":case"link":nt("error",r),nt("load",r);break;case"details":nt("toggle",r);break;case"input":l0(r,i),nt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},nt("invalid",r);break;case"textarea":u0(r,i),nt("invalid",r)}sf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&cl(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&cl(r.textContent,l,e),s=["children",""+l]):ua.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&nt("scroll",r)}switch(n){case"input":tl(r),c0(r,i,!0);break;case"textarea":tl(r),d0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Zl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Vg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Mr]=t,e[va]=r,g1(e,t,!1,!1),t.stateNode=e;e:{switch(o=of(n,r),n){case"dialog":nt("cancel",e),nt("close",e),s=r;break;case"iframe":case"object":case"embed":nt("load",e),s=r;break;case"video":case"audio":for(s=0;s<Go.length;s++)nt(Go[s],e);s=r;break;case"source":nt("error",e),s=r;break;case"img":case"image":case"link":nt("error",e),nt("load",e),s=r;break;case"details":nt("toggle",e),s=r;break;case"input":l0(e,r),s=Jd(e,r),nt("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ht({},r,{value:void 0}),nt("invalid",e);break;case"textarea":u0(e,r),s=nf(e,r),nt("invalid",e);break;default:s=r}sf(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Yg(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&qg(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&da(e,c):typeof c=="number"&&da(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ua.hasOwnProperty(i)?c!=null&&i==="onScroll"&&nt("scroll",e):c!=null&&bh(e,i,c,o))}switch(n){case"input":tl(e),c0(e,r,!1);break;case"textarea":tl(e),d0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+$s(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Qi(e,!!r.multiple,i,!1):r.defaultValue!=null&&Qi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Zl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return cn(t),null;case 6:if(e&&t.stateNode!=null)x1(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ae(166));if(n=ni(Sa.current),ni(Br.current),ul(t)){if(r=t.stateNode,n=t.memoizedProps,r[Mr]=t,(i=r.nodeValue!==n)&&(e=Gn,e!==null))switch(e.tag){case 3:cl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&cl(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mr]=t,t.stateNode=r}return cn(t),null;case 13:if(st(ct),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(lt&&qn!==null&&t.mode&1&&!(t.flags&128))Ly(),lo(),t.flags|=98560,i=!1;else if(i=ul(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(ae(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ae(317));i[Mr]=t}else lo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;cn(t),i=!1}else vr!==null&&(Ff(vr),vr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ct.current&1?Dt===0&&(Dt=3):rp())),t.updateQueue!==null&&(t.flags|=4),cn(t),null);case 4:return uo(),Mf(e,t),e===null&&xa(t.stateNode.containerInfo),cn(t),null;case 10:return Fh(t.type._context),cn(t),null;case 17:return Bn(t.type)&&Ql(),cn(t),null;case 19:if(st(ct),i=t.memoizedState,i===null)return cn(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Fo(i,!1);else{if(Dt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=sc(e),o!==null){for(t.flags|=128,Fo(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Je(ct,ct.current&1|2),t.child}e=e.sibling}i.tail!==null&&wt()>ho&&(t.flags|=128,r=!0,Fo(i,!1),t.lanes=4194304)}else{if(!r)if(e=sc(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Fo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!lt)return cn(t),null}else 2*wt()-i.renderingStartTime>ho&&n!==1073741824&&(t.flags|=128,r=!0,Fo(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=wt(),t.sibling=null,n=ct.current,Je(ct,r?n&1|2:n&1),t):(cn(t),null);case 22:case 23:return np(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Dn&1073741824&&(cn(t),t.subtreeFlags&6&&(t.flags|=8192)):cn(t),null;case 24:return null;case 25:return null}throw Error(ae(156,t.tag))}function Y2(e,t){switch(Lh(t),t.tag){case 1:return Bn(t.type)&&Ql(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return uo(),st(Rn),st(yn),Hh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Kh(t),null;case 13:if(st(ct),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ae(340));lo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return st(ct),null;case 4:return uo(),null;case 10:return Fh(t.type._context),null;case 22:case 23:return np(),null;case 24:return null;default:return null}}var hl=!1,pn=!1,Z2=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Hi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yt(e,t,r)}else n.current=null}function Rf(e,t,n){try{n()}catch(r){yt(e,t,r)}}var em=!1;function Q2(e,t){if(gf=ql,e=Ey(),Bh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,p=e,x=null;t:for(;;){for(var N;p!==n||s!==0&&p.nodeType!==3||(l=o+s),p!==i||r!==0&&p.nodeType!==3||(c=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(N=p.firstChild)!==null;)x=p,p=N;for(;;){if(p===e)break t;if(x===n&&++u===s&&(l=o),x===i&&++d===r&&(c=o),(N=p.nextSibling)!==null)break;p=x,x=p.parentNode}p=N}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(yf={focusedElem:e,selectionRange:n},ql=!1,ge=t;ge!==null;)if(t=ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ge=e;else for(;ge!==null;){t=ge;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var S=C.memoizedProps,E=C.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?S:yr(t.type,S),E);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(R){yt(t,t.return,R)}if(e=t.sibling,e!==null){e.return=t.return,ge=e;break}ge=t.return}return C=em,em=!1,C}function sa(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Rf(t,n,i)}s=s.next}while(s!==r)}}function Fc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Bf(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function w1(e){var t=e.alternate;t!==null&&(e.alternate=null,w1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mr],delete t[va],delete t[vf],delete t[R2],delete t[B2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function v1(e){return e.tag===5||e.tag===3||e.tag===4}function tm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||v1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Zl));else if(r!==4&&(e=e.child,e!==null))for(Pf(e,t,n),e=e.sibling;e!==null;)Pf(e,t,n),e=e.sibling}function Lf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Lf(e,t,n),e=e.sibling;e!==null;)Lf(e,t,n),e=e.sibling}var Xt=null,wr=!1;function ds(e,t,n){for(n=n.child;n!==null;)b1(e,t,n),n=n.sibling}function b1(e,t,n){if(Rr&&typeof Rr.onCommitFiberUnmount=="function")try{Rr.onCommitFiberUnmount(Mc,n)}catch{}switch(n.tag){case 5:pn||Hi(n,t);case 6:var r=Xt,s=wr;Xt=null,ds(e,t,n),Xt=r,wr=s,Xt!==null&&(wr?(e=Xt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Xt.removeChild(n.stateNode));break;case 18:Xt!==null&&(wr?(e=Xt,n=n.stateNode,e.nodeType===8?Ju(e.parentNode,n):e.nodeType===1&&Ju(e,n),ma(e)):Ju(Xt,n.stateNode));break;case 4:r=Xt,s=wr,Xt=n.stateNode.containerInfo,wr=!0,ds(e,t,n),Xt=r,wr=s;break;case 0:case 11:case 14:case 15:if(!pn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Rf(n,t,o),s=s.next}while(s!==r)}ds(e,t,n);break;case 1:if(!pn&&(Hi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){yt(n,t,l)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:n.mode&1?(pn=(r=pn)||n.memoizedState!==null,ds(e,t,n),pn=r):ds(e,t,n);break;default:ds(e,t,n)}}function nm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Z2),t.forEach(function(r){var s=oS.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function mr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Xt=l.stateNode,wr=!1;break e;case 3:Xt=l.stateNode.containerInfo,wr=!0;break e;case 4:Xt=l.stateNode.containerInfo,wr=!0;break e}l=l.return}if(Xt===null)throw Error(ae(160));b1(i,o,s),Xt=null,wr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){yt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)S1(t,e),t=t.sibling}function S1(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mr(t,e),Cr(e),r&4){try{sa(3,e,e.return),Fc(3,e)}catch(S){yt(e,e.return,S)}try{sa(5,e,e.return)}catch(S){yt(e,e.return,S)}}break;case 1:mr(t,e),Cr(e),r&512&&n!==null&&Hi(n,n.return);break;case 5:if(mr(t,e),Cr(e),r&512&&n!==null&&Hi(n,n.return),e.flags&32){var s=e.stateNode;try{da(s,"")}catch(S){yt(e,e.return,S)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Kg(s,i),of(l,o);var u=of(l,i);for(o=0;o<c.length;o+=2){var d=c[o],p=c[o+1];d==="style"?Yg(s,p):d==="dangerouslySetInnerHTML"?qg(s,p):d==="children"?da(s,p):bh(s,d,p,u)}switch(l){case"input":ef(s,i);break;case"textarea":Hg(s,i);break;case"select":var x=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var N=i.value;N!=null?Qi(s,!!i.multiple,N,!1):x!==!!i.multiple&&(i.defaultValue!=null?Qi(s,!!i.multiple,i.defaultValue,!0):Qi(s,!!i.multiple,i.multiple?[]:"",!1))}s[va]=i}catch(S){yt(e,e.return,S)}}break;case 6:if(mr(t,e),Cr(e),r&4){if(e.stateNode===null)throw Error(ae(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(S){yt(e,e.return,S)}}break;case 3:if(mr(t,e),Cr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ma(t.containerInfo)}catch(S){yt(e,e.return,S)}break;case 4:mr(t,e),Cr(e);break;case 13:mr(t,e),Cr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ep=wt())),r&4&&nm(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(pn=(u=pn)||d,mr(t,e),pn=u):mr(t,e),Cr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ge=e,d=e.child;d!==null;){for(p=ge=d;ge!==null;){switch(x=ge,N=x.child,x.tag){case 0:case 11:case 14:case 15:sa(4,x,x.return);break;case 1:Hi(x,x.return);var C=x.stateNode;if(typeof C.componentWillUnmount=="function"){r=x,n=x.return;try{t=r,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(S){yt(r,n,S)}}break;case 5:Hi(x,x.return);break;case 22:if(x.memoizedState!==null){sm(p);continue}}N!==null?(N.return=x,ge=N):sm(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Gg("display",o))}catch(S){yt(e,e.return,S)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(S){yt(e,e.return,S)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:mr(t,e),Cr(e),r&4&&nm(e);break;case 21:break;default:mr(t,e),Cr(e)}}function Cr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(v1(n)){var r=n;break e}n=n.return}throw Error(ae(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(da(s,""),r.flags&=-33);var i=tm(e);Lf(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=tm(e);Pf(e,l,o);break;default:throw Error(ae(161))}}catch(c){yt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function X2(e,t,n){ge=e,E1(e)}function E1(e,t,n){for(var r=(e.mode&1)!==0;ge!==null;){var s=ge,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||hl;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||pn;l=hl;var u=pn;if(hl=o,(pn=c)&&!u)for(ge=s;ge!==null;)o=ge,c=o.child,o.tag===22&&o.memoizedState!==null?im(s):c!==null?(c.return=o,ge=c):im(s);for(;i!==null;)ge=i,E1(i),i=i.sibling;ge=s,hl=l,pn=u}rm(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ge=i):rm(e)}}function rm(e){for(;ge!==null;){var t=ge;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pn||Fc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!pn)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:yr(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&D0(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}D0(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&ma(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}pn||t.flags&512&&Bf(t)}catch(x){yt(t,t.return,x)}}if(t===e){ge=null;break}if(n=t.sibling,n!==null){n.return=t.return,ge=n;break}ge=t.return}}function sm(e){for(;ge!==null;){var t=ge;if(t===e){ge=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ge=n;break}ge=t.return}}function im(e){for(;ge!==null;){var t=ge;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Fc(4,t)}catch(c){yt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){yt(t,s,c)}}var i=t.return;try{Bf(t)}catch(c){yt(t,i,c)}break;case 5:var o=t.return;try{Bf(t)}catch(c){yt(t,o,c)}}}catch(c){yt(t,t.return,c)}if(t===e){ge=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ge=l;break}ge=t.return}}var J2=Math.ceil,ac=cs.ReactCurrentDispatcher,Xh=cs.ReactCurrentOwner,dr=cs.ReactCurrentBatchConfig,Fe=0,Yt=null,Ut=null,sn=0,Dn=0,Vi=Hs(0),Dt=0,ka=null,mi=0,Dc=0,Jh=0,ia=null,An=null,ep=0,ho=1/0,$r=null,lc=!1,Of=null,Ls=null,pl=!1,Ns=null,cc=0,oa=0,Uf=null,Pl=-1,Ll=0;function En(){return Fe&6?wt():Pl!==-1?Pl:Pl=wt()}function Os(e){return e.mode&1?Fe&2&&sn!==0?sn&-sn:L2.transition!==null?(Ll===0&&(Ll=ay()),Ll):(e=qe,e!==0||(e=window.event,e=e===void 0?16:py(e.type)),e):1}function Sr(e,t,n,r){if(50<oa)throw oa=0,Uf=null,Error(ae(185));Da(e,n,r),(!(Fe&2)||e!==Yt)&&(e===Yt&&(!(Fe&2)&&(Dc|=n),Dt===4&&bs(e,sn)),Pn(e,r),n===1&&Fe===0&&!(t.mode&1)&&(ho=wt()+500,Oc&&Vs()))}function Pn(e,t){var n=e.callbackNode;Lb(e,t);var r=Vl(e,e===Yt?sn:0);if(r===0)n!==null&&p0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&p0(n),t===1)e.tag===0?P2(om.bind(null,e)):Ry(om.bind(null,e)),T2(function(){!(Fe&6)&&Vs()}),n=null;else{switch(ly(r)){case 1:n=kh;break;case 4:n=iy;break;case 16:n=Hl;break;case 536870912:n=oy;break;default:n=Hl}n=T1(n,N1.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function N1(e,t){if(Pl=-1,Ll=0,Fe&6)throw Error(ae(327));var n=e.callbackNode;if(no()&&e.callbackNode!==n)return null;var r=Vl(e,e===Yt?sn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=uc(e,r);else{t=r;var s=Fe;Fe|=2;var i=k1();(Yt!==e||sn!==t)&&($r=null,ho=wt()+500,ai(e,t));do try{nS();break}catch(l){_1(e,l)}while(!0);zh(),ac.current=i,Fe=s,Ut!==null?t=0:(Yt=null,sn=0,t=Dt)}if(t!==0){if(t===2&&(s=df(e),s!==0&&(r=s,t=zf(e,s))),t===1)throw n=ka,ai(e,0),bs(e,r),Pn(e,wt()),n;if(t===6)bs(e,r);else{if(s=e.current.alternate,!(r&30)&&!eS(s)&&(t=uc(e,r),t===2&&(i=df(e),i!==0&&(r=i,t=zf(e,i))),t===1))throw n=ka,ai(e,0),bs(e,r),Pn(e,wt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(ae(345));case 2:Ys(e,An,$r);break;case 3:if(bs(e,r),(r&130023424)===r&&(t=ep+500-wt(),10<t)){if(Vl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){En(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=wf(Ys.bind(null,e,An,$r),t);break}Ys(e,An,$r);break;case 4:if(bs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-br(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=wt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*J2(r/1960))-r,10<r){e.timeoutHandle=wf(Ys.bind(null,e,An,$r),r);break}Ys(e,An,$r);break;case 5:Ys(e,An,$r);break;default:throw Error(ae(329))}}}return Pn(e,wt()),e.callbackNode===n?N1.bind(null,e):null}function zf(e,t){var n=ia;return e.current.memoizedState.isDehydrated&&(ai(e,t).flags|=256),e=uc(e,t),e!==2&&(t=An,An=n,t!==null&&Ff(t)),e}function Ff(e){An===null?An=e:An.push.apply(An,e)}function eS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!_r(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bs(e,t){for(t&=~Jh,t&=~Dc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-br(t),r=1<<n;e[n]=-1,t&=~r}}function om(e){if(Fe&6)throw Error(ae(327));no();var t=Vl(e,0);if(!(t&1))return Pn(e,wt()),null;var n=uc(e,t);if(e.tag!==0&&n===2){var r=df(e);r!==0&&(t=r,n=zf(e,r))}if(n===1)throw n=ka,ai(e,0),bs(e,t),Pn(e,wt()),n;if(n===6)throw Error(ae(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ys(e,An,$r),Pn(e,wt()),null}function tp(e,t){var n=Fe;Fe|=1;try{return e(t)}finally{Fe=n,Fe===0&&(ho=wt()+500,Oc&&Vs())}}function gi(e){Ns!==null&&Ns.tag===0&&!(Fe&6)&&no();var t=Fe;Fe|=1;var n=dr.transition,r=qe;try{if(dr.transition=null,qe=1,e)return e()}finally{qe=r,dr.transition=n,Fe=t,!(Fe&6)&&Vs()}}function np(){Dn=Vi.current,st(Vi)}function ai(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,I2(n)),Ut!==null)for(n=Ut.return;n!==null;){var r=n;switch(Lh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ql();break;case 3:uo(),st(Rn),st(yn),Hh();break;case 5:Kh(r);break;case 4:uo();break;case 13:st(ct);break;case 19:st(ct);break;case 10:Fh(r.type._context);break;case 22:case 23:np()}n=n.return}if(Yt=e,Ut=e=Us(e.current,null),sn=Dn=t,Dt=0,ka=null,Jh=Dc=mi=0,An=ia=null,ti!==null){for(t=0;t<ti.length;t++)if(n=ti[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ti=null}return e}function _1(e,t){do{var n=Ut;try{if(zh(),Ml.current=oc,ic){for(var r=ft.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ic=!1}if(pi=0,Vt=Ft=ft=null,ra=!1,Ea=0,Xh.current=null,n===null||n.return===null){Dt=1,ka=t,Ut=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=sn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var x=d.alternate;x?(d.updateQueue=x.updateQueue,d.memoizedState=x.memoizedState,d.lanes=x.lanes):(d.updateQueue=null,d.memoizedState=null)}var N=q0(o);if(N!==null){N.flags&=-257,G0(N,o,l,i,t),N.mode&1&&V0(i,u,t),t=N,c=u;var C=t.updateQueue;if(C===null){var S=new Set;S.add(c),t.updateQueue=S}else C.add(c);break e}else{if(!(t&1)){V0(i,u,t),rp();break e}c=Error(ae(426))}}else if(lt&&l.mode&1){var E=q0(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),G0(E,o,l,i,t),Oh(fo(c,l));break e}}i=c=fo(c,l),Dt!==4&&(Dt=2),ia===null?ia=[i]:ia.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=l1(i,c,t);F0(i,v);break e;case 1:l=c;var b=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ls===null||!Ls.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var R=c1(i,l,t);F0(i,R);break e}}i=i.return}while(i!==null)}C1(n)}catch(z){t=z,Ut===n&&n!==null&&(Ut=n=n.return);continue}break}while(!0)}function k1(){var e=ac.current;return ac.current=oc,e===null?oc:e}function rp(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Yt===null||!(mi&268435455)&&!(Dc&268435455)||bs(Yt,sn)}function uc(e,t){var n=Fe;Fe|=2;var r=k1();(Yt!==e||sn!==t)&&($r=null,ai(e,t));do try{tS();break}catch(s){_1(e,s)}while(!0);if(zh(),Fe=n,ac.current=r,Ut!==null)throw Error(ae(261));return Yt=null,sn=0,Dt}function tS(){for(;Ut!==null;)j1(Ut)}function nS(){for(;Ut!==null&&!jb();)j1(Ut)}function j1(e){var t=I1(e.alternate,e,Dn);e.memoizedProps=e.pendingProps,t===null?C1(e):Ut=t,Xh.current=null}function C1(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Y2(n,t),n!==null){n.flags&=32767,Ut=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dt=6,Ut=null;return}}else if(n=G2(n,t,Dn),n!==null){Ut=n;return}if(t=t.sibling,t!==null){Ut=t;return}Ut=t=e}while(t!==null);Dt===0&&(Dt=5)}function Ys(e,t,n){var r=qe,s=dr.transition;try{dr.transition=null,qe=1,rS(e,t,n,r)}finally{dr.transition=s,qe=r}return null}function rS(e,t,n,r){do no();while(Ns!==null);if(Fe&6)throw Error(ae(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ae(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Ob(e,i),e===Yt&&(Ut=Yt=null,sn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pl||(pl=!0,T1(Hl,function(){return no(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=dr.transition,dr.transition=null;var o=qe;qe=1;var l=Fe;Fe|=4,Xh.current=null,Q2(e,n),S1(n,e),E2(yf),ql=!!gf,yf=gf=null,e.current=n,X2(n),Cb(),Fe=l,qe=o,dr.transition=i}else e.current=n;if(pl&&(pl=!1,Ns=e,cc=s),i=e.pendingLanes,i===0&&(Ls=null),Tb(n.stateNode),Pn(e,wt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(lc)throw lc=!1,e=Of,Of=null,e;return cc&1&&e.tag!==0&&no(),i=e.pendingLanes,i&1?e===Uf?oa++:(oa=0,Uf=e):oa=0,Vs(),null}function no(){if(Ns!==null){var e=ly(cc),t=dr.transition,n=qe;try{if(dr.transition=null,qe=16>e?16:e,Ns===null)var r=!1;else{if(e=Ns,Ns=null,cc=0,Fe&6)throw Error(ae(331));var s=Fe;for(Fe|=4,ge=e.current;ge!==null;){var i=ge,o=i.child;if(ge.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ge=u;ge!==null;){var d=ge;switch(d.tag){case 0:case 11:case 15:sa(8,d,i)}var p=d.child;if(p!==null)p.return=d,ge=p;else for(;ge!==null;){d=ge;var x=d.sibling,N=d.return;if(w1(d),d===u){ge=null;break}if(x!==null){x.return=N,ge=x;break}ge=N}}}var C=i.alternate;if(C!==null){var S=C.child;if(S!==null){C.child=null;do{var E=S.sibling;S.sibling=null,S=E}while(S!==null)}}ge=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ge=o;else e:for(;ge!==null;){if(i=ge,i.flags&2048)switch(i.tag){case 0:case 11:case 15:sa(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,ge=v;break e}ge=i.return}}var b=e.current;for(ge=b;ge!==null;){o=ge;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,ge=g;else e:for(o=b;ge!==null;){if(l=ge,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Fc(9,l)}}catch(z){yt(l,l.return,z)}if(l===o){ge=null;break e}var R=l.sibling;if(R!==null){R.return=l.return,ge=R;break e}ge=l.return}}if(Fe=s,Vs(),Rr&&typeof Rr.onPostCommitFiberRoot=="function")try{Rr.onPostCommitFiberRoot(Mc,e)}catch{}r=!0}return r}finally{qe=n,dr.transition=t}}return!1}function am(e,t,n){t=fo(n,t),t=l1(e,t,1),e=Ps(e,t,1),t=En(),e!==null&&(Da(e,1,t),Pn(e,t))}function yt(e,t,n){if(e.tag===3)am(e,e,n);else for(;t!==null;){if(t.tag===3){am(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ls===null||!Ls.has(r))){e=fo(n,e),e=c1(t,e,1),t=Ps(t,e,1),e=En(),t!==null&&(Da(t,1,e),Pn(t,e));break}}t=t.return}}function sS(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=En(),e.pingedLanes|=e.suspendedLanes&n,Yt===e&&(sn&n)===n&&(Dt===4||Dt===3&&(sn&130023424)===sn&&500>wt()-ep?ai(e,0):Jh|=n),Pn(e,t)}function A1(e,t){t===0&&(e.mode&1?(t=sl,sl<<=1,!(sl&130023424)&&(sl=4194304)):t=1);var n=En();e=ns(e,t),e!==null&&(Da(e,t,n),Pn(e,n))}function iS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),A1(e,n)}function oS(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ae(314))}r!==null&&r.delete(t),A1(e,n)}var I1;I1=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Rn.current)Tn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Tn=!1,q2(e,t,n);Tn=!!(e.flags&131072)}else Tn=!1,lt&&t.flags&1048576&&By(t,ec,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bl(e,t),e=t.pendingProps;var s=ao(t,yn.current);to(t,n),s=qh(null,t,r,e,s,n);var i=Gh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bn(r)?(i=!0,Xl(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$h(t),s.updater=zc,t.stateNode=s,s._reactInternals=t,kf(t,r,e,n),t=Af(null,t,r,!0,i,n)):(t.tag=0,lt&&i&&Ph(t),bn(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bl(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=lS(r),e=yr(r,e),s){case 0:t=Cf(null,t,r,e,n);break e;case 1:t=Q0(null,t,r,e,n);break e;case 11:t=Y0(null,t,r,e,n);break e;case 14:t=Z0(null,t,r,yr(r.type,e),n);break e}throw Error(ae(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yr(r,s),Cf(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yr(r,s),Q0(e,t,r,s,n);case 3:e:{if(h1(t),e===null)throw Error(ae(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Fy(e,t),rc(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=fo(Error(ae(423)),t),t=X0(e,t,r,n,s);break e}else if(r!==s){s=fo(Error(ae(424)),t),t=X0(e,t,r,n,s);break e}else for(qn=Bs(t.stateNode.containerInfo.firstChild),Gn=t,lt=!0,vr=null,n=Uy(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(lo(),r===s){t=rs(e,t,n);break e}bn(e,t,r,n)}t=t.child}return t;case 5:return Dy(t),e===null&&Ef(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,xf(r,s)?o=null:i!==null&&xf(r,i)&&(t.flags|=32),f1(e,t),bn(e,t,o,n),t.child;case 6:return e===null&&Ef(t),null;case 13:return p1(e,t,n);case 4:return Wh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=co(t,null,r,n):bn(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yr(r,s),Y0(e,t,r,s,n);case 7:return bn(e,t,t.pendingProps,n),t.child;case 8:return bn(e,t,t.pendingProps.children,n),t.child;case 12:return bn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Je(tc,r._currentValue),r._currentValue=o,i!==null)if(_r(i.value,o)){if(i.children===s.children&&!Rn.current){t=rs(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Xr(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Nf(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ae(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Nf(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}bn(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,to(t,n),s=hr(s),r=r(s),t.flags|=1,bn(e,t,r,n),t.child;case 14:return r=t.type,s=yr(r,t.pendingProps),s=yr(r.type,s),Z0(e,t,r,s,n);case 15:return u1(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yr(r,s),Bl(e,t),t.tag=1,Bn(r)?(e=!0,Xl(t)):e=!1,to(t,n),a1(t,r,s),kf(t,r,s,n),Af(null,t,r,!0,e,n);case 19:return m1(e,t,n);case 22:return d1(e,t,n)}throw Error(ae(156,t.tag))};function T1(e,t){return sy(e,t)}function aS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(e,t,n,r){return new aS(e,t,n,r)}function sp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lS(e){if(typeof e=="function")return sp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Eh)return 11;if(e===Nh)return 14}return 2}function Us(e,t){var n=e.alternate;return n===null?(n=ur(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ol(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")sp(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Li:return li(n.children,s,i,t);case Sh:o=8,s|=8;break;case Yd:return e=ur(12,n,t,s|2),e.elementType=Yd,e.lanes=i,e;case Zd:return e=ur(13,n,t,s),e.elementType=Zd,e.lanes=i,e;case Qd:return e=ur(19,n,t,s),e.elementType=Qd,e.lanes=i,e;case Dg:return $c(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zg:o=10;break e;case Fg:o=9;break e;case Eh:o=11;break e;case Nh:o=14;break e;case ys:o=16,r=null;break e}throw Error(ae(130,e==null?e:typeof e,""))}return t=ur(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function li(e,t,n,r){return e=ur(7,e,r,t),e.lanes=n,e}function $c(e,t,n,r){return e=ur(22,e,r,t),e.elementType=Dg,e.lanes=n,e.stateNode={isHidden:!1},e}function ad(e,t,n){return e=ur(6,e,null,t),e.lanes=n,e}function ld(e,t,n){return t=ur(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cS(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$u(0),this.expirationTimes=$u(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$u(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ip(e,t,n,r,s,i,o,l,c){return e=new cS(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ur(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$h(i),e}function uS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function M1(e){if(!e)return Ws;e=e._reactInternals;e:{if(Si(e)!==e||e.tag!==1)throw Error(ae(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ae(171))}if(e.tag===1){var n=e.type;if(Bn(n))return My(e,n,t)}return t}function R1(e,t,n,r,s,i,o,l,c){return e=ip(n,r,!0,e,s,i,o,l,c),e.context=M1(null),n=e.current,r=En(),s=Os(n),i=Xr(r,s),i.callback=t??null,Ps(n,i,s),e.current.lanes=s,Da(e,s,r),Pn(e,r),e}function Wc(e,t,n,r){var s=t.current,i=En(),o=Os(s);return n=M1(n),t.context===null?t.context=n:t.pendingContext=n,t=Xr(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ps(s,t,o),e!==null&&(Sr(e,s,o,i),Tl(e,s,o)),o}function dc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function op(e,t){lm(e,t),(e=e.alternate)&&lm(e,t)}function dS(){return null}var B1=typeof reportError=="function"?reportError:function(e){console.error(e)};function ap(e){this._internalRoot=e}Kc.prototype.render=ap.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ae(409));Wc(e,t,null,null)};Kc.prototype.unmount=ap.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gi(function(){Wc(null,e,null,null)}),t[ts]=null}};function Kc(e){this._internalRoot=e}Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=dy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vs.length&&t!==0&&t<vs[n].priority;n++);vs.splice(n,0,e),n===0&&hy(e)}};function lp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cm(){}function fS(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=dc(o);i.call(u)}}var o=R1(t,r,e,0,null,!1,!1,"",cm);return e._reactRootContainer=o,e[ts]=o.current,xa(e.nodeType===8?e.parentNode:e),gi(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=dc(c);l.call(u)}}var c=ip(e,0,!1,null,null,!1,!1,"",cm);return e._reactRootContainer=c,e[ts]=c.current,xa(e.nodeType===8?e.parentNode:e),gi(function(){Wc(t,c,n,r)}),c}function Vc(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=dc(o);l.call(c)}}Wc(t,o,e,s)}else o=fS(n,t,e,s,r);return dc(o)}cy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=qo(t.pendingLanes);n!==0&&(jh(t,n|1),Pn(t,wt()),!(Fe&6)&&(ho=wt()+500,Vs()))}break;case 13:gi(function(){var r=ns(e,1);if(r!==null){var s=En();Sr(r,e,1,s)}}),op(e,1)}};Ch=function(e){if(e.tag===13){var t=ns(e,134217728);if(t!==null){var n=En();Sr(t,e,134217728,n)}op(e,134217728)}};uy=function(e){if(e.tag===13){var t=Os(e),n=ns(e,t);if(n!==null){var r=En();Sr(n,e,t,r)}op(e,t)}};dy=function(){return qe};fy=function(e,t){var n=qe;try{return qe=e,t()}finally{qe=n}};lf=function(e,t,n){switch(t){case"input":if(ef(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Lc(r);if(!s)throw Error(ae(90));Wg(r),ef(r,s)}}}break;case"textarea":Hg(e,n);break;case"select":t=n.value,t!=null&&Qi(e,!!n.multiple,t,!1)}};Xg=tp;Jg=gi;var hS={usingClientEntryPoint:!1,Events:[Wa,Fi,Lc,Zg,Qg,tp]},Do={findFiberByHostInstance:ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pS={bundleType:Do.bundleType,version:Do.version,rendererPackageName:Do.rendererPackageName,rendererConfig:Do.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ny(e),e===null?null:e.stateNode},findFiberByHostInstance:Do.findFiberByHostInstance||dS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ml.isDisabled&&ml.supportsFiber)try{Mc=ml.inject(pS),Rr=ml}catch{}}Jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hS;Jn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lp(t))throw Error(ae(200));return uS(e,t,null,n)};Jn.createRoot=function(e,t){if(!lp(e))throw Error(ae(299));var n=!1,r="",s=B1;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ip(e,1,!1,null,null,n,!1,r,s),e[ts]=t.current,xa(e.nodeType===8?e.parentNode:e),new ap(t)};Jn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ae(188)):(e=Object.keys(e).join(","),Error(ae(268,e)));return e=ny(t),e=e===null?null:e.stateNode,e};Jn.flushSync=function(e){return gi(e)};Jn.hydrate=function(e,t,n){if(!Hc(t))throw Error(ae(200));return Vc(null,e,t,!0,n)};Jn.hydrateRoot=function(e,t,n){if(!lp(e))throw Error(ae(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=B1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=R1(t,null,e,1,n??null,s,!1,i,o),e[ts]=t.current,xa(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Kc(t)};Jn.render=function(e,t,n){if(!Hc(t))throw Error(ae(200));return Vc(null,e,t,!1,n)};Jn.unmountComponentAtNode=function(e){if(!Hc(e))throw Error(ae(40));return e._reactRootContainer?(gi(function(){Vc(null,null,e,!1,function(){e._reactRootContainer=null,e[ts]=null})}),!0):!1};Jn.unstable_batchedUpdates=tp;Jn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Hc(n))throw Error(ae(200));if(e==null||e._reactInternals===void 0)throw Error(ae(38));return Vc(e,t,n,!1,r)};Jn.version="18.3.1-next-f1338f8080-20240426";function P1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(P1)}catch(e){console.error(e)}}P1(),Pg.exports=Jn;var L1=Pg.exports;const mS=ls(L1);/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ja(){return ja=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ja.apply(this,arguments)}var _s;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(_s||(_s={}));const um="popstate";function gS(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:l}=r.location;return Df("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:fc(s)}return xS(t,n,null,e)}function zt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function O1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yS(){return Math.random().toString(36).substr(2,8)}function dm(e,t){return{usr:e.state,key:e.key,idx:t}}function Df(e,t,n,r){return n===void 0&&(n=null),ja({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?jo(t):t,{state:n,key:t&&t.key||r||yS()})}function fc(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function jo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function xS(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=_s.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(ja({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function p(){l=_s.Pop;let E=d(),v=E==null?null:E-u;u=E,c&&c({action:l,location:S.location,delta:v})}function x(E,v){l=_s.Push;let b=Df(S.location,E,v);u=d()+1;let g=dm(b,u),R=S.createHref(b);try{o.pushState(g,"",R)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;s.location.assign(R)}i&&c&&c({action:l,location:S.location,delta:1})}function N(E,v){l=_s.Replace;let b=Df(S.location,E,v);u=d();let g=dm(b,u),R=S.createHref(b);o.replaceState(g,"",R),i&&c&&c({action:l,location:S.location,delta:0})}function C(E){let v=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof E=="string"?E:fc(E);return b=b.replace(/ $/,"%20"),zt(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let S={get action(){return l},get location(){return e(s,o)},listen(E){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(um,p),c=E,()=>{s.removeEventListener(um,p),c=null}},createHref(E){return t(s,E)},createURL:C,encodeLocation(E){let v=C(E);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:x,replace:N,go(E){return o.go(E)}};return S}var fm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(fm||(fm={}));function wS(e,t,n){return n===void 0&&(n="/"),vS(e,t,n,!1)}function vS(e,t,n,r){let s=typeof t=="string"?jo(t):t,i=cp(s.pathname||"/",n);if(i==null)return null;let o=U1(e);bS(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=MS(i);l=IS(o[c],u,r)}return l}function U1(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(zt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=zs([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(zt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),U1(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:CS(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of z1(i.path))s(i,o,c)}),t}function z1(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=z1(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function bS(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:AS(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const SS=/^:[\w-]+$/,ES=3,NS=2,_S=1,kS=10,jS=-2,hm=e=>e==="*";function CS(e,t){let n=e.split("/"),r=n.length;return n.some(hm)&&(r+=jS),t&&(r+=NS),n.filter(s=>!hm(s)).reduce((s,i)=>s+(SS.test(i)?ES:i===""?_S:kS),r)}function AS(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function IS(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",p=pm({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),x=c.route;if(!p&&u&&n&&!r[r.length-1].route.index&&(p=pm({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:zs([i,p.pathname]),pathnameBase:LS(zs([i,p.pathnameBase])),route:x}),p.pathnameBase!=="/"&&(i=zs([i,p.pathnameBase]))}return o}function pm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=TS(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,p)=>{let{paramName:x,isOptional:N}=d;if(x==="*"){let S=l[p]||"";o=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const C=l[p];return N&&!C?u[x]=void 0:u[x]=(C||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function TS(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),O1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function MS(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return O1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function cp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function RS(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?jo(e):e;return{pathname:n?n.startsWith("/")?n:BS(n,t):t,search:OS(r),hash:US(s)}}function BS(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function cd(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function PS(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function F1(e,t){let n=PS(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function D1(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=jo(e):(s=ja({},e),zt(!s.pathname||!s.pathname.includes("?"),cd("?","pathname","search",s)),zt(!s.pathname||!s.pathname.includes("#"),cd("#","pathname","hash",s)),zt(!s.search||!s.search.includes("#"),cd("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),p-=1;s.pathname=x.join("/")}l=p>=0?t[p]:"/"}let c=RS(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const zs=e=>e.join("/").replace(/\/\/+/g,"/"),LS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),OS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,US=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function zS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const $1=["post","put","patch","delete"];new Set($1);const FS=["get",...$1];new Set(FS);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ca(){return Ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ca.apply(this,arguments)}const up=L.createContext(null),DS=L.createContext(null),Ei=L.createContext(null),qc=L.createContext(null),Ni=L.createContext({outlet:null,matches:[],isDataRoute:!1}),W1=L.createContext(null);function $S(e,t){let{relative:n}=t===void 0?{}:t;Ha()||zt(!1);let{basename:r,navigator:s}=L.useContext(Ei),{hash:i,pathname:o,search:l}=H1(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:zs([r,o])),s.createHref({pathname:c,search:l,hash:i})}function Ha(){return L.useContext(qc)!=null}function us(){return Ha()||zt(!1),L.useContext(qc).location}function K1(e){L.useContext(Ei).static||L.useLayoutEffect(e)}function Un(){let{isDataRoute:e}=L.useContext(Ni);return e?tE():WS()}function WS(){Ha()||zt(!1);let e=L.useContext(up),{basename:t,future:n,navigator:r}=L.useContext(Ei),{matches:s}=L.useContext(Ni),{pathname:i}=us(),o=JSON.stringify(F1(s,n.v7_relativeSplatPath)),l=L.useRef(!1);return K1(()=>{l.current=!0}),L.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let p=D1(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:zs([t,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[t,r,o,i,e])}function H1(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=L.useContext(Ei),{matches:s}=L.useContext(Ni),{pathname:i}=us(),o=JSON.stringify(F1(s,r.v7_relativeSplatPath));return L.useMemo(()=>D1(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function KS(e,t){return HS(e,t)}function HS(e,t,n,r){Ha()||zt(!1);let{navigator:s,static:i}=L.useContext(Ei),{matches:o}=L.useContext(Ni),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let d=us(),p;if(t){var x;let v=typeof t=="string"?jo(t):t;u==="/"||(x=v.pathname)!=null&&x.startsWith(u)||zt(!1),p=v}else p=d;let N=p.pathname||"/",C=N;if(u!=="/"){let v=u.replace(/^\//,"").split("/");C="/"+N.replace(/^\//,"").split("/").slice(v.length).join("/")}let S=!i&&n&&n.matches&&n.matches.length>0?n.matches:wS(e,{pathname:C}),E=ZS(S&&S.map(v=>Object.assign({},v,{params:Object.assign({},c,v.params),pathname:zs([u,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?u:zs([u,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,n,r);return t&&E?L.createElement(qc.Provider,{value:{location:Ca({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:_s.Pop}},E):E}function VS(){let e=eE(),t=zS(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),n?L.createElement("pre",{style:s},n):null,null)}const qS=L.createElement(VS,null);class GS extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?L.createElement(Ni.Provider,{value:this.props.routeContext},L.createElement(W1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function YS(e){let{routeContext:t,match:n,children:r}=e,s=L.useContext(up);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),L.createElement(Ni.Provider,{value:t},r)}function ZS(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);d>=0||zt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=d),p.route.id){let{loaderData:x,errors:N}=n,C=p.route.loader&&x[p.route.id]===void 0&&(!N||N[p.route.id]===void 0);if(p.route.lazy||C){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,p,x)=>{let N,C=!1,S=null,E=null;n&&(N=l&&p.route.id?l[p.route.id]:void 0,S=p.route.errorElement||qS,c&&(u<0&&x===0?(C=!0,E=null):u===x&&(C=!0,E=p.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,x+1)),b=()=>{let g;return N?g=S:C?g=E:p.route.Component?g=L.createElement(p.route.Component,null):p.route.element?g=p.route.element:g=d,L.createElement(YS,{match:p,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:g})};return n&&(p.route.ErrorBoundary||p.route.errorElement||x===0)?L.createElement(GS,{location:n.location,revalidation:n.revalidation,component:S,error:N,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var V1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(V1||{}),hc=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(hc||{});function QS(e){let t=L.useContext(up);return t||zt(!1),t}function XS(e){let t=L.useContext(DS);return t||zt(!1),t}function JS(e){let t=L.useContext(Ni);return t||zt(!1),t}function q1(e){let t=JS(),n=t.matches[t.matches.length-1];return n.route.id||zt(!1),n.route.id}function eE(){var e;let t=L.useContext(W1),n=XS(hc.UseRouteError),r=q1(hc.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function tE(){let{router:e}=QS(V1.UseNavigateStable),t=q1(hc.UseNavigateStable),n=L.useRef(!1);return K1(()=>{n.current=!0}),L.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ca({fromRouteId:t},i)))},[e,t])}function nE(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Mi(e){zt(!1)}function rE(e){let{basename:t="/",children:n=null,location:r,navigationType:s=_s.Pop,navigator:i,static:o=!1,future:l}=e;Ha()&&zt(!1);let c=t.replace(/^\/*/,"/"),u=L.useMemo(()=>({basename:c,navigator:i,static:o,future:Ca({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=jo(r));let{pathname:d="/",search:p="",hash:x="",state:N=null,key:C="default"}=r,S=L.useMemo(()=>{let E=cp(d,c);return E==null?null:{location:{pathname:E,search:p,hash:x,state:N,key:C},navigationType:s}},[c,d,p,x,N,C,s]);return S==null?null:L.createElement(Ei.Provider,{value:u},L.createElement(qc.Provider,{children:n,value:S}))}function sE(e){let{children:t,location:n}=e;return KS($f(t),n)}new Promise(()=>{});function $f(e,t){t===void 0&&(t=[]);let n=[];return L.Children.forEach(e,(r,s)=>{if(!L.isValidElement(r))return;let i=[...t,s];if(r.type===L.Fragment){n.push.apply(n,$f(r.props.children,i));return}r.type!==Mi&&zt(!1),!r.props.index||!r.props.children||zt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=$f(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wf(){return Wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wf.apply(this,arguments)}function iE(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function oE(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function aE(e,t){return e.button===0&&(!t||t==="_self")&&!oE(e)}const lE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],cE="6";try{window.__reactRouterVersion=cE}catch{}const uE="startTransition",mm=Rv[uE];function dE(e){let{basename:t,children:n,future:r,window:s}=e,i=L.useRef();i.current==null&&(i.current=gS({window:s,v5Compat:!0}));let o=i.current,[l,c]=L.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=L.useCallback(p=>{u&&mm?mm(()=>c(p)):c(p)},[c,u]);return L.useLayoutEffect(()=>o.listen(d),[o,d]),L.useEffect(()=>nE(r),[r]),L.createElement(rE,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const fE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ud=L.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:p}=t,x=iE(t,lE),{basename:N}=L.useContext(Ei),C,S=!1;if(typeof u=="string"&&hE.test(u)&&(C=u,fE))try{let g=new URL(window.location.href),R=u.startsWith("//")?new URL(g.protocol+u):new URL(u),z=cp(R.pathname,N);R.origin===g.origin&&z!=null?u=z+R.search+R.hash:S=!0}catch{}let E=$S(u,{relative:s}),v=pE(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:p});function b(g){r&&r(g),g.defaultPrevented||v(g)}return L.createElement("a",Wf({},x,{href:C||E,onClick:S||i?r:b,ref:n,target:c}))});var gm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(gm||(gm={}));var ym;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ym||(ym={}));function pE(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Un(),u=us(),d=H1(e,{relative:o});return L.useCallback(p=>{if(aE(p,n)){p.preventDefault();let x=r!==void 0?r:fc(u)===fc(d);c(e,{replace:x,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,r,s,n,e,i,o,l])}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Be=(e,t)=>{const n=L.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>L.createElement("svg",{ref:d,...mE,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${gE(e)}`,l].join(" "),...u},[...t.map(([p,x])=>L.createElement(p,x)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=Be("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=Be("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=Be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=Be("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=Be("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=Be("Cat",[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=Be("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=Be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=Be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=Be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=Be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=Be("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=Be("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=Be("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=Be("Diamond",[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=Be("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=Be("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=Be("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=Be("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=Be("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=Be("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=Be("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=Be("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=Be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=Be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=Be("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=Be("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=Be("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=Be("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=Be("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=Be("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=Be("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=Be("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=Be("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=Be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=Be("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=Be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=Be("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),wm=["idle","run","jump","attack","dash","sleep","sneak"];function RE(){const[e,t]=L.useState("idle");return L.useEffect(()=>{const n=setInterval(()=>{const r=wm[Math.floor(Math.random()*wm.length)];t(r)},3e3);return()=>clearInterval(n)},[]),a.jsx("div",{className:"relative w-96 h-96",style:{imageRendering:"pixelated"},children:a.jsx("img",{src:`/collection.svg`,alt:"Hero Dog",className:"w-full h-full object-contain"})})}const vm=8,BE=1e4,dd={idle:{fps:8,duration:1e3},idle_blink:{fps:8,duration:1e3},attack:{fps:12,duration:1e3},crouch:{fps:8,duration:1e3},dash:{fps:12,duration:800},die:{fps:12,duration:1200},fall:{fps:12,duration:800},fright:{fps:12,duration:1e3},hurt:{fps:12,duration:800},jump:{fps:12,duration:1e3},land:{fps:12,duration:500},ledgeclimb:{fps:12,duration:1500},ledgeclimb_struggle:{fps:12,duration:2e3},ledgegrab:{fps:12,duration:1e3},ledgeidle:{fps:8,duration:1e3},liedown:{fps:8,duration:3e3},run:{fps:12,duration:800},sit:{fps:8,duration:1e3},sleep:{fps:8,duration:2e3},sneak:{fps:8,duration:1200},walk:{fps:8,duration:1200},wallclimb:{fps:8,duration:1200},wallgrab:{fps:8,duration:1e3}},fd={};function PE(e){return new Promise((t,n)=>{if(fd[e]){t(fd[e]);return}const r=new Image;r.onload=()=>{fd[e]=r,t(r)},r.onerror=n,r.src=e})}function Ln({pet:e,state:t,disableInteraction:n=!1,forcedAnimation:r}){const[s,i]=L.useState(r||"idle"),[o,l]=L.useState(!1),[c,u]=L.useState(!1),[d,p]=L.useState(!1),x=L.useRef(),N=L.useRef(!1),C=L.useRef(null),S=L.useCallback(()=>{!d&&!r&&(i("idle"),u(!1))},[d,r]),E=L.useCallback(()=>{x.current&&clearTimeout(x.current),!N.current&&!n&&!r&&(x.current=setTimeout(()=>{i("sleep"),p(!0)},BE))},[n,r]);L.useEffect(()=>{r&&i(r)},[r]);const v=F=>({"#F9B087":1,"#463E3F":2,"#e17d17":3,"#707c99":4,"#000000":5})[F]||1,b=F=>{const D=v(e.color),{fps:q}=dd[F];return`/catset_gifs/cat0${D}-gifs/cat0${D}_${F}_${q}fps.gif`},g=L.useCallback(F=>{const D=b(F);return PE(D)},[e.color]);L.useEffect(()=>{const F=["idle","sleep","jump","attack","dash","run"];return Promise.all(F.map(D=>g(D))),()=>{}},[g,e.color]);const R=async()=>{if(n||c||N.current||r)return;p(!1),E();const F=["jump","attack","dash","run"],D=F[Math.floor(Math.random()*F.length)];try{await g(D),i(D),l(Math.random()>.5),D==="jump"&&u(!0),N.current=!0,setTimeout(async()=>{N.current=!1,await g("idle"),S(),E()},dd[D].duration)}catch(q){console.error("Failed to load animation:",q),S()}},z=async()=>{if(!(n||N.current||r)){p(!1),E();try{await g("sleep"),i("sleep"),N.current=!0,setTimeout(async()=>{N.current=!1,await g("idle"),S(),E()},dd.sleepvertyland.duration)}catch(F){console.error("Failed to load animation:",F),S()}}},U=async()=>{if(!(n||r)){if(d)try{await g("idle"),p(!1),S()}catch(F){console.error("Failed to load idle animation:",F)}E()}};return a.jsx("div",{className:`relative select-none ${!n&&"cursor-pointer"}`,style:{width:32*vm,height:32*vm},onClick:R,onDoubleClick:z,onMouseMove:U,children:a.jsx("text",{ref:C,src:b(s),alt:`${e.name} ${s}`,className:`w-full h-full object-contain ${o?"scale-x-[-1]":""} ${c?"animate-bounce":""}`,style:{imageRendering:"pixelated"}})})}function LE({pet:e}){return a.jsx("div",{className:"flex items-start justify-center w-full pt-8 pointer-events-none select-none opacity-90",children:a.jsxs("div",{className:"pixel-panel w-[32rem]",children:[a.jsxs("div",{className:"text-center mb-8 relative",children:[a.jsx("div",{className:"flex justify-center items-center h-48 mb-4",children:a.jsx(Ln,{pet:e,state:"idle",disableInteraction:!0})}),a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("h2",{className:"text-xl pixel-text",children:e.name}),a.jsx("span",{className:"pixel-button px-2 py-1 text-xs",style:{backgroundColor:"#ffec27",color:"#181425",textShadow:"none"},children:e.rarity})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-xs pixel-text",children:"Happiness"}),a.jsxs("span",{className:"text-xs pixel-text",children:[e.happiness,"%"]})]}),a.jsx("div",{className:"pixel-progress",children:a.jsx("div",{className:"pixel-progress-bar",style:{width:`${e.happiness}%`}})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-xs pixel-text",children:"Hunger"}),a.jsxs("span",{className:"text-xs pixel-text",children:[e.hunger,"%"]})]}),a.jsx("div",{className:"pixel-progress",children:a.jsx("div",{className:"pixel-progress-bar",style:{width:`${e.hunger}%`,background:`repeating-linear-gradient(
                    45deg,
                    #ffa300,
                    #ffa300 10px,
                    #ffec27 10px,
                    #ffec27 20px
                  )`}})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-xs pixel-text",children:"Energy"}),a.jsxs("span",{className:"text-xs pixel-text",children:[e.energy,"%"]})]}),a.jsx("div",{className:"pixel-progress",children:a.jsx("div",{className:"pixel-progress-bar",style:{width:`${e.energy}%`,background:`repeating-linear-gradient(
                    45deg,
                    #00ffff,
                    #00ffff 10px,
                    #00ffaa 10px,
                    #00ffaa 20px
                  )`}})})]})]})]})})}const OE="TBD",UE=OE,zE={id:"sample",wallet_address:"sample",name:"Demo Pet",color:"#000000",accessory:"none",happiness:100,hunger:100,energy:100,speed:75,strength:85,natural_speed:80,natural_strength:90,rarity:"Legendary",last_fed:new Date().toISOString(),last_played:new Date().toISOString(),last_trained:new Date().toISOString(),last_energy_restored:new Date().toISOString(),last_stats_decay:new Date().toISOString(),created_at:new Date().toISOString()};function FE(){const e=Un();return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#181425] to-[#2a233c]",children:a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsx("div",{className:"pixel-panel mb-16",children:a.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-8 lg:gap-16",children:[a.jsx("div",{className:"lg:w-1/2 flex justify-center",children:a.jsx(RE,{})}),a.jsxs("div",{className:"lg:w-1/2 text-center lg:text-left",children:[a.jsxs("h1",{className:"text-4xl lg:text-5xl pixel-text mb-6",children:["Welcome to",a.jsx("br",{}),a.jsx("span",{className:"text-[#ff77a8]",children:"bonkland"})]}),a.jsx("p",{className:"text-sm pixel-text text-gray-300 mb-8 leading-relaxed",children:"Own, nurture, and train unique pixel bonkland. Compete in races, engage in battles, and breed new generations of extraordinary companions!"}),a.jsx("div",{className:"mb-6",children:a.jsx("button",{onClick:()=>e("/bonkland"),className:"pixel-button bg-[#ff77a8] hover:bg-[#ff004d] text-white px-8 py-4",children:"Start Your Journey"})}),a.jsxs("div",{className:"px-4 py-2 bg-[#181425] rounded pixel-border inline-block",children:[a.jsx("p",{className:"text-xs pixel-text text-gray-400",children:"Token Contract:"}),a.jsx("p",{className:"text-xs pixel-text text-[#ff77a8] break-all",children:UE})]})]})]})}),a.jsx("div",{className:"mb-16",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[a.jsxs("div",{className:"space-y-8",children:[a.jsxs("h2",{className:"text-3xl pixel-text",children:["Your Digital",a.jsx("br",{}),a.jsx("span",{className:"text-[#ff77a8]",children:"Companion"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("p",{className:"text-sm pixel-text text-gray-300",children:"Each bonkland Pet is a unique NFT and digital companion with its own personality, traits, and abilities. Train them, compete with other players, and watch them grow!"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-8 h-8 bg-[#ff77a8] flex items-center justify-center pixel-border",children:a.jsx("span",{className:"pixel-text",children:"1"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm pixel-text mb-2",children:"Unique Stats"}),a.jsx("p",{className:"text-xs pixel-text text-gray-400",children:"Every pet has natural speed and strength abilities that affect their training potential"})]})]}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-8 h-8 bg-[#ff77a8] flex items-center justify-center pixel-border",children:a.jsx("span",{className:"pixel-text",children:"2"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm pixel-text mb-2",children:"Rarity System"}),a.jsx("p",{className:"text-xs pixel-text text-gray-400",children:"Rarer bonkland have lower stat decay rates, making them more valuable for competitive play"})]})]}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-8 h-8 bg-[#ff77a8] flex items-center justify-center pixel-border",children:a.jsx("span",{className:"pixel-text",children:"3"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm pixel-text mb-2",children:"Real Growth"}),a.jsx("p",{className:"text-xs pixel-text text-gray-400",children:"Train your pet's abilities and maintain their stats through regular care and exercise"})]})]})]})]})]}),a.jsx("div",{children:a.jsx(LE,{pet:zE})})]})}),a.jsxs("div",{className:"mb-16",children:[a.jsx("h2",{className:"text-2xl pixel-text text-center mb-8",children:"Your Pet on the Blockchain"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"pixel-panel p-6",children:[a.jsx("div",{className:"mb-4 flex justify-center",children:a.jsx(J1,{className:"w-8 h-8 text-[#ff77a8]"})}),a.jsx("h3",{className:"text-sm pixel-text mb-2",children:"True Ownership"}),a.jsx("p",{className:"text-xs pixel-text text-gray-400",children:"Each pet is a unique NFT that you truly own. Store it in your wallet and take it anywhere."})]}),a.jsxs("div",{className:"pixel-panel p-6",children:[a.jsx("div",{className:"mb-4 flex justify-center",children:a.jsx(_E,{className:"w-8 h-8 text-[#ff77a8]"})}),a.jsx("h3",{className:"text-sm pixel-text mb-2",children:"Web3"}),a.jsx("p",{className:"text-xs pixel-text text-gray-400",children:"Pet traits, stats, and history are permanently stored on the blockchain."})]}),a.jsxs("div",{className:"pixel-panel p-6",children:[a.jsx("div",{className:"mb-4 flex justify-center",children:a.jsx(Aa,{className:"w-8 h-8 text-[#ff77a8]"})}),a.jsx("h3",{className:"text-sm pixel-text mb-2",children:"Trade & Market"}),a.jsx("p",{className:"text-xs pixel-text text-gray-400",children:"Buy, sell, or trade your bonkland on NFT marketplaces."})]})]})]}),a.jsxs("div",{className:"mb-16",children:[a.jsx("h2",{className:"text-2xl pixel-text text-center mb-8",children:"Train Your Pet and Challenge Your Friends"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"pixel-panel",children:[a.jsx("h3",{className:"text-xl pixel-text mb-6 text-center",children:"Epic Battles"}),a.jsxs("div",{className:"aspect-video bg-[#181425] rounded-lg mb-6 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0",children:[a.jsx("text",{src:"/assets/fight/mountain_background.png",alt:"Battle Arena",className:"absolute inset-0 w-full h-full object-cover",style:{imageRendering:"pixelated"}}),a.jsxs("div",{className:"absolute inset-x-0 bottom-[20%] transition-transform duration-100 flex -mx-[15%]",style:{transform:"translateX(calc(1 * 0.4}px - 15%))",height:"45%",width:"130%"},children:[a.jsx("text",{src:"/assets/fight/fight_pines_bg.png",alt:"Pine Trees",className:"h-full object-contain marginRight: '-1px'",style:{imageRendering:"pixelated",width:"100%",objectPosition:"bottom"}}),a.jsx("text",{src:"/assets/fight/fight_pines_bg.png",alt:"Pine Trees",className:"h-full object-contain marginLeft: '-1px'",style:{imageRendering:"pixelated",width:"100%",objectPosition:"bottom"}})]}),a.jsx("text",{src:"/assets/fight/fight_ground.png",alt:"Ground",className:"absolute inset-x-0 bottom-0",style:{imageRendering:"pixelated",height:"120px"}})]}),a.jsx("div",{className:"absolute left-[30%] bottom-[18%] z-10",style:{transform:"translateX(-50%) scale(2)"},children:a.jsx("text",{src:"/catset_gifs/cat05-gifs/cat05_attack_12fps.gif",alt:"Player Pet",className:"w-32 h-32 object-contain",style:{imageRendering:"pixelated"}})}),a.jsx("div",{className:"absolute left-[70%] bottom-[18%] z-10",style:{transform:"translateX(-50%) scaleX(-1) scale(2)"},children:a.jsx("text",{src:"/catset_gifs/cat03-gifs/cat03_hurt_12fps.gif",alt:"Opponent Pet",className:"w-32 h-32 object-contain",style:{imageRendering:"pixelated"}})}),a.jsxs("div",{className:"absolute top-4 left-4 right-4 flex justify-between gap-4",children:[a.jsxs("div",{className:"w-1/3",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("span",{className:"text-xs pixel-text text-white",children:"Player"}),a.jsx("span",{className:"text-xs pixel-text text-white",children:"85%"})]}),a.jsx("div",{className:"pixel-progress h-3",children:a.jsx("div",{className:"pixel-progress-bar",style:{width:"85%",background:`repeating-linear-gradient(
                            45deg,
rgb(55, 255, 0),
rgb(0, 255, 0) 10px,
rgb(151, 255, 119) 10px,
rgb(146, 255, 119) 20px
                          )`}})})]}),a.jsxs("div",{className:"w-1/3",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("span",{className:"text-xs pixel-text text-white",children:"Opponent"}),a.jsx("span",{className:"text-xs pixel-text text-white",children:"60%"})]}),a.jsx("div",{className:"pixel-progress h-3",children:a.jsx("div",{className:"pixel-progress-bar",style:{width:"60%",background:`repeating-linear-gradient(
                            45deg,
                            #463E3F,
                            #463E3F 10px,
                            #666666 10px,
                            #666666 20px
                          )`}})})]})]})]}),a.jsx("p",{className:"text-sm pixel-text text-center",children:"Strategic turn-based battles with unique abilities and combos"}),a.jsxs("button",{onClick:()=>e("/bonkland"),className:"pixel-button w-full mt-4 flex items-center justify-center gap-2",children:[a.jsx(Xn,{className:"w-4 h-4"}),"Enter Battle Arena"]})]}),a.jsxs("div",{className:"pixel-panel",children:[a.jsx("h3",{className:"text-xl pixel-text mb-6 text-center",children:"High-Speed Races"}),a.jsxs("div",{className:"aspect-video bg-[#181425] rounded-lg mb-6 relative overflow-hidden",children:[a.jsx("text",{src:"/assets/competition/start.png",alt:"Race Track",className:"absolute inset-0 w-full h-full object-cover",style:{imageRendering:"pixelated"}}),a.jsx("div",{className:"absolute left-[65%] bottom-[15%]",style:{transform:"translateX(-50%) scale(2)"},children:a.jsx("text",{src:"/catset_gifs/cat05-gifs/cat05_run_12fps.gif",alt:"Player Pet",className:"w-32 h-32 object-contain",style:{imageRendering:"pixelated"}})}),a.jsx("div",{className:"absolute left-[40%] bottom-[35%]",style:{transform:"translateX(-50%) scale(2)"},children:a.jsx("text",{src:"/catset_gifs/cat02-gifs/cat02_run_12fps.gif",alt:"Opponent Pet",className:"w-32 h-32 object-contain",style:{imageRendering:"pixelated"}})}),a.jsx("div",{className:"absolute inset-y-0 w-1 right-[5%]",style:{backgroundImage:"repeating-linear-gradient(0deg, black 0px, black 4px, white 4px, white 8px)"}}),a.jsxs("div",{className:"absolute top-4 left-4 right-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("span",{className:"text-xs pixel-text text-white",children:"Race Progress"}),a.jsx("span",{className:"text-xs pixel-text text-white",children:"65%"})]}),a.jsx("div",{className:"pixel-progress h-3",children:a.jsx("div",{className:"pixel-progress-bar",style:{width:"65%",background:`repeating-linear-gradient(
                          45deg,
                          #00ff9d,
                          #00ff9d 10px,
                          #00ffdd 10px,
                          #00ffdd 20px
                        )`}})})]})]}),a.jsx("p",{className:"text-sm pixel-text text-center",children:"Test your pet's speed in real-time races against friends and rivals"}),a.jsxs("button",{onClick:()=>e("/bonkland"),className:"pixel-button w-full mt-4 flex items-center justify-center gap-2",children:[a.jsx(Qn,{className:"w-4 h-4"}),"Enter Race Arena"]})]})]})]}),a.jsxs("div",{className:"mb-16",children:[a.jsx("h2",{className:"text-2xl pixel-text text-center mb-8",children:"Compete & Earn"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"pixel-panel p-8",children:[a.jsx("div",{className:"mb-6 flex justify-center",children:a.jsx(Qn,{className:"w-12 h-12 text-[#ff77a8]"})}),a.jsx("h3",{className:"text-xl pixel-text mb-4 text-center",children:"Race Arena"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm pixel-text text-gray-300",children:"Challenge other players to high-speed races where your pet's speed and training determine victory!"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-[#ff77a8]"}),a.jsx("p",{className:"text-xs pixel-text text-gray-400",children:"Speed-based matchmaking"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-[#ff77a8]"}),a.jsx("p",{className:"text-xs pixel-text text-gray-400",children:"Win tokens and rare accessories"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-[#ff77a8]"}),a.jsx("p",{className:"text-xs pixel-text text-gray-400",children:"Climb the global leaderboard"})]})]})]})]}),a.jsxs("div",{className:"pixel-panel p-8",children:[a.jsx("div",{className:"mb-6 flex justify-center",children:a.jsx(Xn,{className:"w-12 h-12 text-[#ff77a8]"})}),a.jsx("h3",{className:"text-xl pixel-text mb-4 text-center",children:"Battle Arena"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm pixel-text text-gray-300",children:"Test your pet's strength in strategic battles. Use special abilities and tactics to defeat opponents!"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-[#ff77a8]"}),a.jsx("p",{className:"text-xs pixel-text text-gray-400",children:"Strength-based combat system"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-[#ff77a8]"}),a.jsx("p",{className:"text-xs pixel-text text-gray-400",children:"Earn battle rewards and titles"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-[#ff77a8]"}),a.jsx("p",{className:"text-xs pixel-text text-gray-400",children:"Join tournaments for bigger prizes"})]})]})]})]})]})]}),a.jsxs("div",{className:"mb-16",children:[a.jsx("h2",{className:"text-2xl pixel-text text-center mb-8",children:"Pet Rarity System"}),a.jsxs("div",{className:"pixel-panel p-8",children:[a.jsx("p",{className:"text-sm pixel-text text-center mb-8",children:"Each pet has a rarity level that affects its natural abilities, training potential, and stat decay rate."}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-center mb-2",children:a.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center",style:{backgroundColor:"#A0A0A0"},children:a.jsx(xm,{className:"w-8 h-8 text-[#181425]"})})}),a.jsx("h3",{className:"text-center text-sm pixel-text mb-2",children:"Common"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-xs pixel-text",children:[a.jsx("span",{children:"Chance:"}),a.jsx("span",{children:"50%"})]}),a.jsxs("div",{className:"flex justify-between text-xs pixel-text",children:[a.jsx("span",{children:"Daily Decay:"}),a.jsx("span",{children:"-5%"})]}),a.jsxs("div",{className:"flex justify-between text-xs pixel-text",children:[a.jsx("span",{children:"Natural Stats:"}),a.jsx("span",{children:"10-60%"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-center mb-2",children:a.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center",style:{backgroundColor:"#00ff9d"},children:a.jsx(xm,{className:"w-8 h-8 text-[#181425]"})})}),a.jsx("h3",{className:"text-center text-sm pixel-text mb-2",children:"Uncommon"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-xs pixel-text",children:[a.jsx("span",{children:"Chance:"}),a.jsx("span",{children:"30%"})]}),a.jsxs("div",{className:"flex justify-between text-xs pixel-text",children:[a.jsx("span",{children:"Daily Decay:"}),a.jsx("span",{children:"-3%"})]}),a.jsxs("div",{className:"flex justify-between text-xs pixel-text",children:[a.jsx("span",{children:"Natural Stats:"}),a.jsx("span",{children:"30-70%"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-center mb-2",children:a.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center",style:{backgroundColor:"#ff77a8"},children:a.jsx(CE,{className:"w-8 h-8 text-[#181425]"})})}),a.jsx("h3",{className:"text-center text-sm pixel-text mb-2",children:"Rare"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-xs pixel-text",children:[a.jsx("span",{children:"Chance:"}),a.jsx("span",{children:"15%"})]}),a.jsxs("div",{className:"flex justify-between text-xs pixel-text",children:[a.jsx("span",{children:"Daily Decay:"}),a.jsx("span",{children:"-2%"})]}),a.jsxs("div",{className:"flex justify-between text-xs pixel-text",children:[a.jsx("span",{children:"Natural Stats:"}),a.jsx("span",{children:"50-85%"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-center mb-2",children:a.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center",style:{backgroundColor:"#ffec27"},children:a.jsx(kE,{className:"w-8 h-8 text-[#181425]"})})}),a.jsx("h3",{className:"text-center text-sm pixel-text mb-2",children:"Legendary"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-xs pixel-text",children:[a.jsx("span",{children:"Chance:"}),a.jsx("span",{children:"5%"})]}),a.jsxs("div",{className:"flex justify-between text-xs pixel-text",children:[a.jsx("span",{children:"Daily Decay:"}),a.jsx("span",{children:"-1%"})]}),a.jsxs("div",{className:"flex justify-between text-xs pixel-text",children:[a.jsx("span",{children:"Natural Stats:"}),a.jsx("span",{children:"70-100%"})]})]})]})]}),a.jsxs("div",{className:"mt-8 pt-6 border-t border-white/20",children:[a.jsx("h3",{className:"text-sm pixel-text mb-4 text-center",children:"Why Rarity Matters"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-xs pixel-text font-semibold",children:"Training Efficiency"}),a.jsx("p",{className:"text-xs pixel-text text-gray-400",children:"Higher rarity bonkland have better natural stats, which act as multipliers during training sessions."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-xs pixel-text font-semibold",children:"Stat Retention"}),a.jsx("p",{className:"text-xs pixel-text text-gray-400",children:"Legendary bonkland lose only 1% of their stats daily, while Common bonkland lose 5%, making rare bonkland easier to maintain."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-xs pixel-text font-semibold",children:"Market Value"}),a.jsx("p",{className:"text-xs pixel-text text-gray-400",children:"Rarer bonkland command higher prices on the marketplace due to their superior genetics and competitive advantage."})]})]})]})]})]}),a.jsxs("div",{className:"mb-16",children:[a.jsx("h2",{className:"text-2xl pixel-text text-center mb-8",children:"Pet Lifecycle & Mortality"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"pixel-panel p-8",children:[a.jsx("div",{className:"mb-6 flex justify-center",children:a.jsx(G1,{className:"w-12 h-12 text-[#ff004d]"})}),a.jsx("h3",{className:"text-xl pixel-text mb-4 text-center",children:"Neglect & Consequences"}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("p",{className:"text-sm pixel-text text-center",children:"Your pet requires regular care and attention. Neglect can lead to serious consequences!"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs pixel-text",children:"Hunger Warning"}),a.jsx("span",{className:"text-xs pixel-text text-[#ff004d]",children:"Critical below 20%"})]}),a.jsx("div",{className:"pixel-progress",children:a.jsx("div",{className:"pixel-progress-bar",style:{width:"15%",background:`repeating-linear-gradient(
                            45deg,
                            #ff004d,
                            #ff004d 10px,
                            #ff77a8 10px,
                            #ff77a8 20px
                          )`}})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs pixel-text",children:"Happiness Warning"}),a.jsx("span",{className:"text-xs pixel-text text-[#ff004d]",children:"Critical below 10%"})]}),a.jsx("div",{className:"pixel-progress",children:a.jsx("div",{className:"pixel-progress-bar",style:{width:"5%",background:`repeating-linear-gradient(
                            45deg,
                            #ff004d,
                            #ff004d 10px,
                            #ff77a8 10px,
                            #ff77a8 20px
                          )`}})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-xs pixel-text font-semibold",children:"Warning Signs:"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-[#ff004d] mt-1.5"}),a.jsx("p",{className:"text-xs pixel-text text-gray-300",children:"Your pet will appear hungry and lethargic when hunger drops below 30%"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-[#ff004d] mt-1.5"}),a.jsx("p",{className:"text-xs pixel-text text-gray-300",children:"Happiness below 20% will cause your pet to become unresponsive to training"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-[#ff004d] mt-1.5"}),a.jsx("p",{className:"text-xs pixel-text text-gray-300",children:"Critical levels of both stats will trigger a health emergency"})]})]})]})]})]}),a.jsxs("div",{className:"pixel-panel p-8",children:[a.jsx("div",{className:"mb-6 flex justify-center",children:a.jsx(TE,{className:"w-12 h-12 text-[#ff004d]"})}),a.jsx("h3",{className:"text-xl pixel-text mb-4 text-center",children:"Pet Mortality"}),a.jsxs("div",{className:"aspect-video bg-[#181425] rounded-lg mb-6 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("text",{src:"/catset_gifs/cat05-gifs/cat05_die_12fps.gif",alt:"Pet Death Animation",className:"w-64 h-64 object-contain",style:{imageRendering:"pixelated"}})}),a.jsx("div",{className:"absolute bottom-4 left-0 right-0 text-center",children:a.jsx("p",{className:"text-sm pixel-text text-[#ff004d]",children:"Pet has passed away due to neglect"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs pixel-text text-center",children:"If both hunger and happiness remain at critical levels (below 5%) for more than 7 days, your pet will permanently pass away."}),a.jsxs("div",{className:"bg-[#181425]/50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-xs pixel-text font-semibold mb-2",children:"Revival Options:"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-[#ffec27] mt-1.5"}),a.jsx("p",{className:"text-xs pixel-text text-gray-300",children:"Revival Token (10 SOL) - Brings your pet back with 50% of original stats"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-[#ffec27] mt-1.5"}),a.jsx("p",{className:"text-xs pixel-text text-gray-300",children:"Memorial NFT - Transform your deceased pet into a memorial collectible"})]})]})]}),a.jsx("p",{className:"text-xs pixel-text text-center text-[#ff77a8]",children:"Remember: The best strategy is prevention through regular care!"})]})]})]})]}),a.jsx("div",{className:"mb-16",children:a.jsxs("div",{className:"pixel-panel p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"mb-6 flex justify-center",children:a.jsx(yE,{className:"w-12 h-12 text-[#ff77a8]"})}),a.jsx("h2",{className:"text-2xl pixel-text mb-2",children:"Breeding System"}),a.jsx("p",{className:"text-sm pixel-text text-[#ff77a8]",children:"Coming Soon!"})]}),a.jsxs("div",{className:"mb-12",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"pixel-panel p-4 bg-[#181425]/50",children:[a.jsxs("div",{className:"text-center mb-3",children:[a.jsx("h3",{className:"text-sm pixel-text mb-1",children:"Parent 1"}),a.jsx("div",{className:"flex justify-center items-center gap-2",children:a.jsx("span",{className:"pixel-button px-2 py-1 text-xs",style:{backgroundColor:"#ff77a8",color:"#181425",textShadow:"none"},children:"Rare"})})]}),a.jsx("div",{className:"aspect-square bg-[#181425] rounded-lg mb-3 relative overflow-hidden flex items-center justify-center",children:a.jsx("div",{style:{transform:"scale(1.5)"},children:a.jsx("text",{src:"/catset_gifs/cat05-gifs/cat05_idle_8fps.gif",alt:"Parent 1",className:"w-48 h-48 object-contain",style:{imageRendering:"pixelated"}})})}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between text-xs pixel-text",children:[a.jsx("span",{children:"Speed:"}),a.jsx("span",{children:"85/100"})]}),a.jsxs("div",{className:"flex justify-between text-xs pixel-text",children:[a.jsx("span",{children:"Strength:"}),a.jsx("span",{children:"70/100"})]}),a.jsxs("div",{className:"flex justify-between text-xs pixel-text",children:[a.jsx("span",{children:"Color:"}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#ff77a8"}}),"Pink"]})]})]})]}),a.jsxs("div",{className:"flex flex-col items-center justify-center",children:[a.jsxs("div",{className:"hidden lg:flex items-center gap-4 mb-4",children:[a.jsx("div",{className:"h-px w-16 bg-[#ff77a8]"}),a.jsx(Y1,{className:"w-8 h-8 text-[#ff77a8]"}),a.jsx("div",{className:"h-px w-16 bg-[#ff77a8]"})]}),a.jsx("div",{className:"lg:hidden flex justify-center my-4",children:a.jsx("div",{className:"h-16 w-px bg-[#ff77a8]"})}),a.jsxs("div",{className:"bg-[#181425]/30 p-4 rounded-lg text-center",children:[a.jsx("p",{className:"text-xs pixel-text mb-2",children:"Probability Table"}),a.jsxs("div",{className:"space-y-1 mb-3",children:[a.jsxs("div",{className:"flex justify-between text-xs pixel-text",children:[a.jsx("span",{children:"Common:"}),a.jsx("span",{children:"15%"})]}),a.jsxs("div",{className:"flex justify-between text-xs pixel-text",children:[a.jsx("span",{children:"Uncommon:"}),a.jsx("span",{children:"35%"})]}),a.jsxs("div",{className:"flex justify-between text-xs pixel-text",children:[a.jsx("span",{children:"Rare:"}),a.jsx("span",{children:"40%"})]}),a.jsxs("div",{className:"flex justify-between text-xs pixel-text",children:[a.jsx("span",{children:"Legendary:"}),a.jsx("span",{children:"10%"})]})]}),a.jsx("button",{className:"pixel-button w-full bg-[#ff77a8] hover:bg-[#ff004d] text-white px-4 py-2 opacity-50 cursor-not-allowed text-xs",children:"Breed (Coming Soon)"})]}),a.jsx("div",{className:"lg:hidden flex justify-center my-4",children:a.jsx("div",{className:"h-16 w-px bg-[#ff77a8]"})})]}),a.jsxs("div",{className:"pixel-panel p-4 bg-[#181425]/50",children:[a.jsxs("div",{className:"text-center mb-3",children:[a.jsx("h3",{className:"text-sm pixel-text mb-1",children:"Parent 2"}),a.jsx("div",{className:"flex justify-center items-center gap-2",children:a.jsx("span",{className:"pixel-button px-2 py-1 text-xs",style:{backgroundColor:"#00ff9d",color:"#181425",textShadow:"none"},children:"Uncommon"})})]}),a.jsx("div",{className:"aspect-square bg-[#181425] rounded-lg mb-3 relative overflow-hidden flex items-center justify-center",children:a.jsx("div",{style:{transform:"scale(1.5)"},children:a.jsx("text",{src:"/catset_gifs/cat02-gifs/cat02_idle_8fps.gif",alt:"Parent 2",className:"w-48 h-48 object-contain",style:{imageRendering:"pixelated"}})})}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between text-xs pixel-text",children:[a.jsx("span",{children:"Speed:"}),a.jsx("span",{children:"65/100"})]}),a.jsxs("div",{className:"flex justify-between text-xs pixel-text",children:[a.jsx("span",{children:"Strength:"}),a.jsx("span",{children:"90/100"})]}),a.jsxs("div",{className:"flex justify-between text-xs pixel-text",children:[a.jsx("span",{children:"Color:"}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#00ff9d"}}),"Green"]})]})]})]})]}),a.jsxs("div",{className:"mt-4 lg:mt-8 flex flex-col items-center",children:[a.jsx("div",{className:"h-16 w-px bg-[#ff77a8] mb-4"}),a.jsxs("div",{className:"pixel-panel p-4 bg-[#181425]/50 max-w-sm mx-auto",children:[a.jsxs("div",{className:"text-center mb-3",children:[a.jsx("h3",{className:"text-sm pixel-text mb-1",children:"Potential Offspring"}),a.jsxs("div",{className:"flex justify-center items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-[#ffec27]"}),a.jsx("p",{className:"text-xs pixel-text",children:"? Unknown Rarity ?"})]})]}),a.jsx("div",{className:"aspect-square bg-[#181425] rounded-lg mb-3 relative overflow-hidden flex items-center justify-center",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("span",{className:"text-5xl pixel-text text-[#ff77a8]",children:"?"}),a.jsx("div",{className:"mt-2 px-3 py-1 bg-[#181425]/70 rounded",children:a.jsx("p",{className:"text-xs pixel-text",children:"Mystery Breed"})})]})}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between text-xs pixel-text",children:[a.jsx("span",{children:"Speed:"}),a.jsx("span",{children:"?/100"})]}),a.jsxs("div",{className:"flex justify-between text-xs pixel-text",children:[a.jsx("span",{children:"Strength:"}),a.jsx("span",{children:"?/100"})]}),a.jsxs("div",{className:"flex justify-between text-xs pixel-text",children:[a.jsx("span",{children:"Color:"}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-[#ff77a8] to-[#00ff9d]"}),"Unknown"]})]})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-sm pixel-text",children:"Genetics"}),a.jsx("p",{className:"text-xs pixel-text text-gray-400",children:"Offspring inherit traits from both parents. Higher rarity parents have a better chance of producing rare bonkland with exceptional natural abilities."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-sm pixel-text",children:"Combinations"}),a.jsx("p",{className:"text-xs pixel-text text-gray-400",children:"Experiment with different parent combinations to discover unique color patterns and unlock special traits that can only be obtained through breeding."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-sm pixel-text",children:"Evolution"}),a.jsx("p",{className:"text-xs pixel-text text-gray-400",children:"Each generation can become stronger than the last. Create a lineage of exceptional bonkland through selective breeding and careful training."})]})]})]})}),a.jsx("div",{className:"mb-16",children:a.jsxs("div",{className:"pixel-panel p-8 bg-gradient-to-br from-[#181425]/80 to-[#ff77a8]/10 overflow-hidden relative",children:[a.jsx("div",{className:"absolute top-10 right-10 w-32 h-32 opacity-20",children:a.jsx("text",{src:"/catset_gifs/cat05-gifs/cat05_run_12fps.gif",alt:"",className:"w-full h-full",style:{imageRendering:"pixelated"}})}),a.jsx("div",{className:"absolute bottom-10 left-10 w-32 h-32 opacity-20",children:a.jsx("text",{src:"/catset_gifs/cat02-gifs/cat02_idle_8fps.gif",alt:"Idle Dog",className:"w-full h-full",style:{imageRendering:"pixelated"}})}),a.jsxs("div",{className:"text-center max-w-3xl mx-auto relative z-10",children:[a.jsxs("h2",{className:"text-3xl lg:text-4xl pixel-text mb-6",children:["Begin Your ",a.jsx("span",{className:"text-[#ff77a8]",children:"bonkland"})," Adventure"]}),a.jsx("p",{className:"text-sm pixel-text text-gray-300 mb-8 leading-relaxed",children:"Train, compete, and care for your very own digital companion. Join thousands of players in the world's first blockchain pet simulator with real gameplay and social features."}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10",children:[a.jsxs("div",{className:"bg-[#181425]/50 rounded p-4 flex flex-col items-center",children:[a.jsx(fp,{className:"w-8 h-8 text-[#ff77a8] mb-3"}),a.jsx("p",{className:"text-xs pixel-text",children:"Connect Your Wallet"})]}),a.jsxs("div",{className:"bg-[#181425]/50 rounded p-4 flex flex-col items-center",children:[a.jsx(dp,{className:"w-8 h-8 text-[#ff77a8] mb-3"}),a.jsx("p",{className:"text-xs pixel-text",children:"Mint Your First Pet"})]}),a.jsxs("div",{className:"bg-[#181425]/50 rounded p-4 flex flex-col items-center",children:[a.jsx(ME,{className:"w-8 h-8 text-[#ff77a8] mb-3"}),a.jsx("p",{className:"text-xs pixel-text",children:"Explore"})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[a.jsx("button",{onClick:()=>e("/bonkland"),className:"pixel-button bg-[#ff77a8] hover:bg-[#ff004d] text-white px-8 py-4 text-base",children:"Start Your Journey"}),a.jsxs("button",{onClick:()=>window.open("https://x.com/bonkland__sol","_blank"),className:"pixel-button bg-[#181425] hover:bg-[#242234] text-white px-8 py-4 text-base flex items-center justify-center gap-2",children:[a.jsx(X1,{className:"w-4 h-4"}),"Join Community"]})]})]})]})}),a.jsx("div",{className:"text-center",children:a.jsx("div",{className:"text-xs pixel-text text-gray-400",children:"Powered by Solana • Made with ♥ in 2025"})})]})})}function bm(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function DE(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Gc(e,...t){if(!DE(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function $E(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");bm(e.outputLen),bm(e.blockLen)}function mc(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function WE(e,t){Gc(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Ti=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function hd(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Ar(e,t){return e<<32-t|e>>>t}function KE(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function hp(e){return typeof e=="string"&&(e=KE(e)),Gc(e),e}function HE(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Gc(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}class sx{clone(){return this._cloneInto()}}function ix(e){const t=r=>e().update(hp(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function ox(e=32){if(Ti&&typeof Ti.getRandomValues=="function")return Ti.getRandomValues(new Uint8Array(e));if(Ti&&typeof Ti.randomBytes=="function")return Ti.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function VE(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),l=Number(n&i),c=r?4:0,u=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+u,l,r)}function qE(e,t,n){return e&t^~e&n}function GE(e,t,n){return e&t^e&n^t&n}class ax extends sx{constructor(t,n,r,s){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=hd(this.buffer)}update(t){mc(this);const{view:n,buffer:r,blockLen:s}=this;t=hp(t);const i=t.length;for(let o=0;o<i;){const l=Math.min(s-this.pos,i-o);if(l===s){const c=hd(t);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(t.subarray(o,o+l),this.pos),this.pos+=l,o+=l,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){mc(this),WE(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let p=o;p<s;p++)n[p]=0;VE(r,s-8,BigInt(this.length*8),i),this.process(r,0);const l=hd(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<u;p++)l.setUint32(4*p,d[p],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:l}=this;return t.length=s,t.pos=l,t.finished=i,t.destroyed=o,s%n&&t.buffer.set(r),t}}const gl=BigInt(2**32-1),Kf=BigInt(32);function lx(e,t=!1){return t?{h:Number(e&gl),l:Number(e>>Kf&gl)}:{h:Number(e>>Kf&gl)|0,l:Number(e&gl)|0}}function YE(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:i,l:o}=lx(e[s],t);[n[s],r[s]]=[i,o]}return[n,r]}const ZE=(e,t)=>BigInt(e>>>0)<<Kf|BigInt(t>>>0),QE=(e,t,n)=>e>>>n,XE=(e,t,n)=>e<<32-n|t>>>n,JE=(e,t,n)=>e>>>n|t<<32-n,eN=(e,t,n)=>e<<32-n|t>>>n,tN=(e,t,n)=>e<<64-n|t>>>n-32,nN=(e,t,n)=>e>>>n-32|t<<64-n,rN=(e,t)=>t,sN=(e,t)=>e,iN=(e,t,n)=>e<<n|t>>>32-n,oN=(e,t,n)=>t<<n|e>>>32-n,aN=(e,t,n)=>t<<n-32|e>>>64-n,lN=(e,t,n)=>e<<n-32|t>>>64-n;function cN(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const uN=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),dN=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,fN=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),hN=(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,pN=(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0),mN=(e,t,n,r,s,i)=>t+n+r+s+i+(e/2**32|0)|0,Me={fromBig:lx,split:YE,toBig:ZE,shrSH:QE,shrSL:XE,rotrSH:JE,rotrSL:eN,rotrBH:tN,rotrBL:nN,rotr32H:rN,rotr32L:sN,rotlSH:iN,rotlSL:oN,rotlBH:aN,rotlBL:lN,add:cN,add3L:uN,add3H:dN,add4L:fN,add4H:hN,add5H:mN,add5L:pN},[gN,yN]=Me.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),fs=new Uint32Array(80),hs=new Uint32Array(80);class xN extends ax{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:l,Dl:c,Eh:u,El:d,Fh:p,Fl:x,Gh:N,Gl:C,Hh:S,Hl:E}=this;return[t,n,r,s,i,o,l,c,u,d,p,x,N,C,S,E]}set(t,n,r,s,i,o,l,c,u,d,p,x,N,C,S,E){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=l|0,this.Dl=c|0,this.Eh=u|0,this.El=d|0,this.Fh=p|0,this.Fl=x|0,this.Gh=N|0,this.Gl=C|0,this.Hh=S|0,this.Hl=E|0}process(t,n){for(let g=0;g<16;g++,n+=4)fs[g]=t.getUint32(n),hs[g]=t.getUint32(n+=4);for(let g=16;g<80;g++){const R=fs[g-15]|0,z=hs[g-15]|0,U=Me.rotrSH(R,z,1)^Me.rotrSH(R,z,8)^Me.shrSH(R,z,7),F=Me.rotrSL(R,z,1)^Me.rotrSL(R,z,8)^Me.shrSL(R,z,7),D=fs[g-2]|0,q=hs[g-2]|0,G=Me.rotrSH(D,q,19)^Me.rotrBH(D,q,61)^Me.shrSH(D,q,6),Z=Me.rotrSL(D,q,19)^Me.rotrBL(D,q,61)^Me.shrSL(D,q,6),ee=Me.add4L(F,Z,hs[g-7],hs[g-16]),P=Me.add4H(ee,U,G,fs[g-7],fs[g-16]);fs[g]=P|0,hs[g]=ee|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:l,Cl:c,Dh:u,Dl:d,Eh:p,El:x,Fh:N,Fl:C,Gh:S,Gl:E,Hh:v,Hl:b}=this;for(let g=0;g<80;g++){const R=Me.rotrSH(p,x,14)^Me.rotrSH(p,x,18)^Me.rotrBH(p,x,41),z=Me.rotrSL(p,x,14)^Me.rotrSL(p,x,18)^Me.rotrBL(p,x,41),U=p&N^~p&S,F=x&C^~x&E,D=Me.add5L(b,z,F,yN[g],hs[g]),q=Me.add5H(D,v,R,U,gN[g],fs[g]),G=D|0,Z=Me.rotrSH(r,s,28)^Me.rotrBH(r,s,34)^Me.rotrBH(r,s,39),ee=Me.rotrSL(r,s,28)^Me.rotrBL(r,s,34)^Me.rotrBL(r,s,39),P=r&i^r&l^i&l,f=s&o^s&c^o&c;v=S|0,b=E|0,S=N|0,E=C|0,N=p|0,C=x|0,{h:p,l:x}=Me.add(u|0,d|0,q|0,G|0),u=l|0,d=c|0,l=i|0,c=o|0,i=r|0,o=s|0;const y=Me.add3L(G,ee,f);r=Me.add3H(y,q,Z,P),s=y|0}({h:r,l:s}=Me.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Me.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:l,l:c}=Me.add(this.Ch|0,this.Cl|0,l|0,c|0),{h:u,l:d}=Me.add(this.Dh|0,this.Dl|0,u|0,d|0),{h:p,l:x}=Me.add(this.Eh|0,this.El|0,p|0,x|0),{h:N,l:C}=Me.add(this.Fh|0,this.Fl|0,N|0,C|0),{h:S,l:E}=Me.add(this.Gh|0,this.Gl|0,S|0,E|0),{h:v,l:b}=Me.add(this.Hh|0,this.Hl|0,v|0,b|0),this.set(r,s,i,o,l,c,u,d,p,x,N,C,S,E,v,b)}roundClean(){fs.fill(0),hs.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const wN=ix(()=>new xN);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Yc=BigInt(0),Zc=BigInt(1),vN=BigInt(2);function xi(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function qa(e){if(!xi(e))throw new Error("Uint8Array expected")}function Jr(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}const bN=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function wi(e){qa(e);let t="";for(let n=0;n<e.length;n++)t+=bN[e[n]];return t}function qi(e){const t=e.toString(16);return t.length&1?"0"+t:t}function pp(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Yc:BigInt("0x"+e)}const Dr={_0:48,_9:57,A:65,F:70,a:97,f:102};function Sm(e){if(e>=Dr._0&&e<=Dr._9)return e-Dr._0;if(e>=Dr.A&&e<=Dr.F)return e-(Dr.A-10);if(e>=Dr.a&&e<=Dr.f)return e-(Dr.a-10)}function po(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=Sm(e.charCodeAt(i)),l=Sm(e.charCodeAt(i+1));if(o===void 0||l===void 0){const c=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+l}return r}function ci(e){return pp(wi(e))}function ro(e){return qa(e),pp(wi(Uint8Array.from(e).reverse()))}function mo(e,t){return po(e.toString(16).padStart(t*2,"0"))}function Ta(e,t){return mo(e,t).reverse()}function SN(e){return po(qi(e))}function Lt(e,t,n){let r;if(typeof t=="string")try{r=po(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(xi(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function vi(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];qa(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}function EN(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}function NN(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}const pd=e=>typeof e=="bigint"&&Yc<=e;function Qc(e,t,n){return pd(e)&&pd(t)&&pd(n)&&t<=e&&e<n}function cr(e,t,n,r){if(!Qc(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function cx(e){let t;for(t=0;e>Yc;e>>=Zc,t+=1);return t}function _N(e,t){return e>>BigInt(t)&Zc}function kN(e,t,n){return e|(n?Zc:Yc)<<BigInt(t)}const mp=e=>(vN<<BigInt(e-1))-Zc,md=e=>new Uint8Array(e),Em=e=>Uint8Array.from(e);function ux(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=md(e),s=md(e),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},l=(...p)=>n(s,r,...p),c=(p=md())=>{s=l(Em([0]),p),r=l(),p.length!==0&&(s=l(Em([1]),p),r=l())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const x=[];for(;p<t;){r=l();const N=r.slice();x.push(N),p+=r.length}return vi(...x)};return(p,x)=>{o(),c(p);let N;for(;!(N=x(u()));)c();return o(),N}}const jN={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||xi(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Co(e,t,n={}){const r=(s,i,o)=>{const l=jN[i];if(typeof l!="function")throw new Error("invalid validator function");const c=e[s];if(!(o&&c===void 0)&&!l(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(t))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return e}const CN=()=>{throw new Error("not implemented")};function Ma(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const i=e(n,...r);return t.set(n,i),i}}const AN=Object.freeze(Object.defineProperty({__proto__:null,aInRange:cr,abool:Jr,abytes:qa,bitGet:_N,bitLen:cx,bitMask:mp,bitSet:kN,bytesToHex:wi,bytesToNumberBE:ci,bytesToNumberLE:ro,concatBytes:vi,createHmacDrbg:ux,ensureBytes:Lt,equalBytes:EN,hexToBytes:po,hexToNumber:pp,inRange:Qc,isBytes:xi,memoized:Ma,notImplemented:CN,numberToBytesBE:mo,numberToBytesLE:Ta,numberToHexUnpadded:qi,numberToVarBytesBE:SN,utf8ToBytes:NN,validateObject:Co},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Gt=BigInt(0),dt=BigInt(1),Qs=BigInt(2),IN=BigInt(3),Hf=BigInt(4),Nm=BigInt(5),_m=BigInt(8);function at(e,t){const n=e%t;return n>=Gt?n:t+n}function TN(e,t,n){if(t<Gt)throw new Error("invalid exponent, negatives unsupported");if(n<=Gt)throw new Error("invalid modulus");if(n===dt)return Gt;let r=dt;for(;t>Gt;)t&dt&&(r=r*e%n),e=e*e%n,t>>=dt;return r}function gt(e,t,n){let r=e;for(;t-- >Gt;)r*=r,r%=n;return r}function Vf(e,t){if(e===Gt)throw new Error("invert: expected non-zero number");if(t<=Gt)throw new Error("invert: expected positive modulus, got "+t);let n=at(e,t),r=t,s=Gt,i=dt;for(;n!==Gt;){const l=r/n,c=r%n,u=s-i*l;r=n,n=c,s=i,i=u}if(r!==dt)throw new Error("invert: does not exist");return at(s,t)}function MN(e){const t=(e-dt)/Qs;let n,r,s;for(n=e-dt,r=0;n%Qs===Gt;n/=Qs,r++);for(s=Qs;s<e&&TN(s,t,e)!==e-dt;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(e+dt)/Hf;return function(c,u){const d=c.pow(u,o);if(!c.eql(c.sqr(d),u))throw new Error("Cannot find square root");return d}}const i=(n+dt)/Qs;return function(l,c){if(l.pow(c,t)===l.neg(l.ONE))throw new Error("Cannot find square root");let u=r,d=l.pow(l.mul(l.ONE,s),n),p=l.pow(c,i),x=l.pow(c,n);for(;!l.eql(x,l.ONE);){if(l.eql(x,l.ZERO))return l.ZERO;let N=1;for(let S=l.sqr(x);N<u&&!l.eql(S,l.ONE);N++)S=l.sqr(S);const C=l.pow(d,dt<<BigInt(u-N-1));d=l.sqr(C),p=l.mul(p,C),x=l.mul(x,d),u=N}return p}}function RN(e){if(e%Hf===IN){const t=(e+dt)/Hf;return function(r,s){const i=r.pow(s,t);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(e%_m===Nm){const t=(e-Nm)/_m;return function(r,s){const i=r.mul(s,Qs),o=r.pow(i,t),l=r.mul(s,o),c=r.mul(r.mul(l,Qs),o),u=r.mul(l,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return MN(e)}const BN=(e,t)=>(at(e,t)&dt)===dt,PN=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function LN(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=PN.reduce((r,s)=>(r[s]="function",r),t);return Co(e,n)}function ON(e,t,n){if(n<Gt)throw new Error("invalid exponent, negatives unsupported");if(n===Gt)return e.ONE;if(n===dt)return t;let r=e.ONE,s=t;for(;n>Gt;)n&dt&&(r=e.mul(r,s)),s=e.sqr(s),n>>=dt;return r}function UN(e,t){const n=new Array(t.length),r=t.reduce((i,o,l)=>e.is0(o)?i:(n[l]=i,e.mul(i,o)),e.ONE),s=e.inv(r);return t.reduceRight((i,o,l)=>e.is0(o)?i:(n[l]=e.mul(i,n[l]),e.mul(i,o)),s),n}function dx(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Xc(e,t,n=!1,r={}){if(e<=Gt)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:i}=dx(e,t);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const l=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:i,MASK:mp(s),ZERO:Gt,ONE:dt,create:c=>at(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Gt<=c&&c<e},is0:c=>c===Gt,isOdd:c=>(c&dt)===dt,neg:c=>at(-c,e),eql:(c,u)=>c===u,sqr:c=>at(c*c,e),add:(c,u)=>at(c+u,e),sub:(c,u)=>at(c-u,e),mul:(c,u)=>at(c*u,e),pow:(c,u)=>ON(l,c,u),div:(c,u)=>at(c*Vf(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Vf(c,e),sqrt:r.sqrt||(c=>(o||(o=RN(e)),o(l,c))),invertBatch:c=>UN(l,c),cmov:(c,u,d)=>d?u:c,toBytes:c=>n?Ta(c,i):mo(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?ro(c):ci(c)}});return Object.freeze(l)}function fx(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function hx(e){const t=fx(e);return t+Math.ceil(t/2)}function zN(e,t,n=!1){const r=e.length,s=fx(t),i=hx(t);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?ro(e):ci(e),l=at(o,t-dt)+dt;return n?Ta(l,s):mo(l,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const km=BigInt(0),yl=BigInt(1);function gd(e,t){const n=t.negate();return e?n:t}function px(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function yd(e,t){px(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1);return{windows:n,windowSize:r}}function FN(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function DN(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const xd=new WeakMap,mx=new WeakMap;function wd(e){return mx.get(e)||1}function gx(e,t){return{constTimeNegate:gd,hasPrecomputes(n){return wd(n)!==1},unsafeLadder(n,r,s=e.ZERO){let i=n;for(;r>km;)r&yl&&(s=s.add(i)),i=i.double(),r>>=yl;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=yd(r,t),o=[];let l=n,c=l;for(let u=0;u<s;u++){c=l,o.push(c);for(let d=1;d<i;d++)c=c.add(l),o.push(c);l=c.double()}return o},wNAF(n,r,s){const{windows:i,windowSize:o}=yd(n,t);let l=e.ZERO,c=e.BASE;const u=BigInt(2**n-1),d=2**n,p=BigInt(n);for(let x=0;x<i;x++){const N=x*o;let C=Number(s&u);s>>=p,C>o&&(C-=d,s+=yl);const S=N,E=N+Math.abs(C)-1,v=x%2!==0,b=C<0;C===0?c=c.add(gd(v,r[S])):l=l.add(gd(b,r[E]))}return{p:l,f:c}},wNAFUnsafe(n,r,s,i=e.ZERO){const{windows:o,windowSize:l}=yd(n,t),c=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let p=0;p<o;p++){const x=p*l;if(s===km)break;let N=Number(s&c);if(s>>=d,N>l&&(N-=u,s+=yl),N===0)continue;let C=r[x+Math.abs(N)-1];N<0&&(C=C.negate()),i=i.add(C)}return i},getPrecomputes(n,r,s){let i=xd.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&xd.set(r,s(i))),i},wNAFCached(n,r,s){const i=wd(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=wd(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){px(r,t),mx.set(n,r),xd.delete(n)}}}function yx(e,t,n,r){if(FN(n,e),DN(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=e.ZERO,i=cx(BigInt(n.length)),o=i>12?i-3:i>4?i-2:i?2:1,l=(1<<o)-1,c=new Array(l+1).fill(s),u=Math.floor((t.BITS-1)/o)*o;let d=s;for(let p=u;p>=0;p-=o){c.fill(s);for(let N=0;N<r.length;N++){const C=r[N],S=Number(C>>BigInt(p)&BigInt(l));c[S]=c[S].add(n[N])}let x=s;for(let N=c.length-1,C=s;N>0;N--)C=C.add(c[N]),x=x.add(C);if(d=d.add(x),p!==0)for(let N=0;N<o;N++)d=d.double()}return d}function gp(e){return LN(e.Fp),Co(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...dx(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gr=BigInt(0),jn=BigInt(1),xl=BigInt(2),$N=BigInt(8),WN={zip215:!0};function KN(e){const t=gp(e);return Co(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function HN(e){const t=KN(e),{Fp:n,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:l,h:c}=t,u=xl<<BigInt(l*8)-jn,d=n.create,p=Xc(t.n,t.nBitLength),x=t.uvRatio||((_,k)=>{try{return{isValid:!0,value:n.sqrt(_*n.inv(k))}}catch{return{isValid:!1,value:gr}}}),N=t.adjustScalarBytes||(_=>_),C=t.domain||((_,k,j)=>{if(Jr("phflag",j),k.length||j)throw new Error("Contexts/pre-hash are not supported");return _});function S(_,k){cr("coordinate "+_,k,gr,u)}function E(_){if(!(_ instanceof g))throw new Error("ExtendedPoint expected")}const v=Ma((_,k)=>{const{ex:j,ey:T,ez:B}=_,I=_.is0();k==null&&(k=I?$N:n.inv(B));const h=d(j*k),A=d(T*k),$=d(B*k);if(I)return{x:gr,y:jn};if($!==jn)throw new Error("invZ was invalid");return{x:h,y:A}}),b=Ma(_=>{const{a:k,d:j}=t;if(_.is0())throw new Error("bad point: ZERO");const{ex:T,ey:B,ez:I,et:h}=_,A=d(T*T),$=d(B*B),W=d(I*I),H=d(W*W),te=d(A*k),J=d(W*d(te+$)),re=d(H+d(j*d(A*$)));if(J!==re)throw new Error("bad point: equation left != right (1)");const me=d(T*B),fe=d(I*h);if(me!==fe)throw new Error("bad point: equation left != right (2)");return!0});class g{constructor(k,j,T,B){this.ex=k,this.ey=j,this.ez=T,this.et=B,S("x",k),S("y",j),S("z",T),S("t",B),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof g)throw new Error("extended point not allowed");const{x:j,y:T}=k||{};return S("x",j),S("y",T),new g(j,T,jn,d(j*T))}static normalizeZ(k){const j=n.invertBatch(k.map(T=>T.ez));return k.map((T,B)=>T.toAffine(j[B])).map(g.fromAffine)}static msm(k,j){return yx(g,p,k,j)}_setWindowSize(k){U.setWindowSize(this,k)}assertValidity(){b(this)}equals(k){E(k);const{ex:j,ey:T,ez:B}=this,{ex:I,ey:h,ez:A}=k,$=d(j*A),W=d(I*B),H=d(T*A),te=d(h*B);return $===W&&H===te}is0(){return this.equals(g.ZERO)}negate(){return new g(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){const{a:k}=t,{ex:j,ey:T,ez:B}=this,I=d(j*j),h=d(T*T),A=d(xl*d(B*B)),$=d(k*I),W=j+T,H=d(d(W*W)-I-h),te=$+h,J=te-A,re=$-h,me=d(H*J),fe=d(te*re),ye=d(H*re),Oe=d(J*te);return new g(me,fe,Oe,ye)}add(k){E(k);const{a:j,d:T}=t,{ex:B,ey:I,ez:h,et:A}=this,{ex:$,ey:W,ez:H,et:te}=k;if(j===BigInt(-1)){const _e=d((I-B)*(W+$)),Ke=d((I+B)*(W-$)),vn=d(Ke-_e);if(vn===gr)return this.double();const Ve=d(h*xl*te),He=d(A*xl*H),Wt=He+Ve,Ze=Ke+_e,et=He-Ve,zn=d(Wt*vn),it=d(Ze*et),M=d(Wt*et),m=d(vn*Ze);return new g(zn,it,m,M)}const J=d(B*$),re=d(I*W),me=d(A*T*te),fe=d(h*H),ye=d((B+I)*($+W)-J-re),Oe=fe-me,ne=fe+me,ie=d(re-j*J),we=d(ye*Oe),he=d(ne*ie),Se=d(ye*ie),Ye=d(Oe*ne);return new g(we,he,Ye,Se)}subtract(k){return this.add(k.negate())}wNAF(k){return U.wNAFCached(this,k,g.normalizeZ)}multiply(k){const j=k;cr("scalar",j,jn,r);const{p:T,f:B}=this.wNAF(j);return g.normalizeZ([T,B])[0]}multiplyUnsafe(k,j=g.ZERO){const T=k;return cr("scalar",T,gr,r),T===gr?z:this.is0()||T===jn?this:U.wNAFCachedUnsafe(this,T,g.normalizeZ,j)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return U.unsafeLadder(this,r).is0()}toAffine(k){return v(this,k)}clearCofactor(){const{h:k}=t;return k===jn?this:this.multiplyUnsafe(k)}static fromHex(k,j=!1){const{d:T,a:B}=t,I=n.BYTES;k=Lt("pointHex",k,I),Jr("zip215",j);const h=k.slice(),A=k[I-1];h[I-1]=A&-129;const $=ro(h),W=j?u:n.ORDER;cr("pointHex.y",$,gr,W);const H=d($*$),te=d(H-jn),J=d(T*H-B);let{isValid:re,value:me}=x(te,J);if(!re)throw new Error("Point.fromHex: invalid y coordinate");const fe=(me&jn)===jn,ye=(A&128)!==0;if(!j&&me===gr&&ye)throw new Error("Point.fromHex: x=0 and x_0=1");return ye!==fe&&(me=d(-me)),g.fromAffine({x:me,y:$})}static fromPrivateKey(k){return q(k).point}toRawBytes(){const{x:k,y:j}=this.toAffine(),T=Ta(j,n.BYTES);return T[T.length-1]|=k&jn?128:0,T}toHex(){return wi(this.toRawBytes())}}g.BASE=new g(t.Gx,t.Gy,jn,d(t.Gx*t.Gy)),g.ZERO=new g(gr,jn,jn,gr);const{BASE:R,ZERO:z}=g,U=gx(g,l*8);function F(_){return at(_,r)}function D(_){return F(ro(_))}function q(_){const k=n.BYTES;_=Lt("private key",_,k);const j=Lt("hashed private key",i(_),2*k),T=N(j.slice(0,k)),B=j.slice(k,2*k),I=D(T),h=R.multiply(I),A=h.toRawBytes();return{head:T,prefix:B,scalar:I,point:h,pointBytes:A}}function G(_){return q(_).pointBytes}function Z(_=new Uint8Array,...k){const j=vi(...k);return D(i(C(j,Lt("context",_),!!s)))}function ee(_,k,j={}){_=Lt("message",_),s&&(_=s(_));const{prefix:T,scalar:B,pointBytes:I}=q(k),h=Z(j.context,T,_),A=R.multiply(h).toRawBytes(),$=Z(j.context,A,I,_),W=F(h+$*B);cr("signature.s",W,gr,r);const H=vi(A,Ta(W,n.BYTES));return Lt("result",H,n.BYTES*2)}const P=WN;function f(_,k,j,T=P){const{context:B,zip215:I}=T,h=n.BYTES;_=Lt("signature",_,2*h),k=Lt("message",k),j=Lt("publicKey",j,h),I!==void 0&&Jr("zip215",I),s&&(k=s(k));const A=ro(_.slice(h,2*h));let $,W,H;try{$=g.fromHex(j,I),W=g.fromHex(_.slice(0,h),I),H=R.multiplyUnsafe(A)}catch{return!1}if(!I&&$.isSmallOrder())return!1;const te=Z(B,W.toRawBytes(),$.toRawBytes(),k);return W.add($.multiplyUnsafe(te)).subtract(H).clearCofactor().equals(g.ZERO)}return R._setWindowSize(8),{CURVE:t,getPublicKey:G,sign:ee,verify:f,ExtendedPoint:g,utils:{getExtendedPublicKey:q,randomPrivateKey:()=>o(n.BYTES),precompute(_=8,k=g.BASE){return k._setWindowSize(_),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const yp=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),jm=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const VN=BigInt(1),Cm=BigInt(2);BigInt(3);const qN=BigInt(5),GN=BigInt(8);function YN(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=yp,l=e*e%i*e%i,c=gt(l,Cm,i)*l%i,u=gt(c,VN,i)*e%i,d=gt(u,qN,i)*u%i,p=gt(d,t,i)*d%i,x=gt(p,n,i)*p%i,N=gt(x,r,i)*x%i,C=gt(N,s,i)*N%i,S=gt(C,s,i)*N%i,E=gt(S,t,i)*d%i;return{pow_p_5_8:gt(E,Cm,i)*e%i,b2:l}}function ZN(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function QN(e,t){const n=yp,r=at(t*t*t,n),s=at(r*r*t,n),i=YN(e*s).pow_p_5_8;let o=at(e*r*i,n);const l=at(t*o*o,n),c=o,u=at(o*jm,n),d=l===e,p=l===at(-e,n),x=l===at(-e*jm,n);return d&&(o=c),(p||x)&&(o=u),BN(o,n)&&(o=at(-o,n)),{isValid:d||p,value:o}}const XN=Xc(yp,void 0,!0),JN={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:XN,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:GN,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:wN,randomBytes:ox,adjustScalarBytes:ZN,uvRatio:QN},xp=HN(JN);var wp={exports:{}};const vp=hh(ub);wp.exports;(function(e){(function(t,n){function r(P,f){if(!P)throw new Error(f||"Assertion failed")}function s(P,f){P.super_=f;var y=function(){};y.prototype=f.prototype,P.prototype=new y,P.prototype.constructor=P}function i(P,f,y){if(i.isBN(P))return P;this.negative=0,this.words=null,this.length=0,this.red=null,P!==null&&((f==="le"||f==="be")&&(y=f,f=10),this._init(P||0,f||10,y||"be"))}typeof t=="object"?t.exports=i:n.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=vp.Buffer}catch{}i.isBN=function(f){return f instanceof i?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===i.wordSize&&Array.isArray(f.words)},i.max=function(f,y){return f.cmp(y)>0?f:y},i.min=function(f,y){return f.cmp(y)<0?f:y},i.prototype._init=function(f,y,_){if(typeof f=="number")return this._initNumber(f,y,_);if(typeof f=="object")return this._initArray(f,y,_);y==="hex"&&(y=16),r(y===(y|0)&&y>=2&&y<=36),f=f.toString().replace(/\s+/g,"");var k=0;f[0]==="-"&&(k++,this.negative=1),k<f.length&&(y===16?this._parseHex(f,k,_):(this._parseBase(f,y,k),_==="le"&&this._initArray(this.toArray(),y,_)))},i.prototype._initNumber=function(f,y,_){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),y,_)},i.prototype._initArray=function(f,y,_){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var j,T,B=0;if(_==="be")for(k=f.length-1,j=0;k>=0;k-=3)T=f[k]|f[k-1]<<8|f[k-2]<<16,this.words[j]|=T<<B&67108863,this.words[j+1]=T>>>26-B&67108863,B+=24,B>=26&&(B-=26,j++);else if(_==="le")for(k=0,j=0;k<f.length;k+=3)T=f[k]|f[k+1]<<8|f[k+2]<<16,this.words[j]|=T<<B&67108863,this.words[j+1]=T>>>26-B&67108863,B+=24,B>=26&&(B-=26,j++);return this._strip()};function l(P,f){var y=P.charCodeAt(f);if(y>=48&&y<=57)return y-48;if(y>=65&&y<=70)return y-55;if(y>=97&&y<=102)return y-87;r(!1,"Invalid character in "+P)}function c(P,f,y){var _=l(P,y);return y-1>=f&&(_|=l(P,y-1)<<4),_}i.prototype._parseHex=function(f,y,_){this.length=Math.ceil((f.length-y)/6),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var j=0,T=0,B;if(_==="be")for(k=f.length-1;k>=y;k-=2)B=c(f,y,k)<<j,this.words[T]|=B&67108863,j>=18?(j-=18,T+=1,this.words[T]|=B>>>26):j+=8;else{var I=f.length-y;for(k=I%2===0?y+1:y;k<f.length;k+=2)B=c(f,y,k)<<j,this.words[T]|=B&67108863,j>=18?(j-=18,T+=1,this.words[T]|=B>>>26):j+=8}this._strip()};function u(P,f,y,_){for(var k=0,j=0,T=Math.min(P.length,y),B=f;B<T;B++){var I=P.charCodeAt(B)-48;k*=_,I>=49?j=I-49+10:I>=17?j=I-17+10:j=I,r(I>=0&&j<_,"Invalid character"),k+=j}return k}i.prototype._parseBase=function(f,y,_){this.words=[0],this.length=1;for(var k=0,j=1;j<=67108863;j*=y)k++;k--,j=j/y|0;for(var T=f.length-_,B=T%k,I=Math.min(T,T-B)+_,h=0,A=_;A<I;A+=k)h=u(f,A,A+k,y),this.imuln(j),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(B!==0){var $=1;for(h=u(f,A,f.length,y),A=0;A<B;A++)$*=y;this.imuln($),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},i.prototype.copy=function(f){f.words=new Array(this.length);for(var y=0;y<this.length;y++)f.words[y]=this.words[y];f.length=this.length,f.negative=this.negative,f.red=this.red};function d(P,f){P.words=f.words,P.length=f.length,P.negative=f.negative,P.red=f.red}if(i.prototype._move=function(f){d(f,this)},i.prototype.clone=function(){var f=new i(null);return this.copy(f),f},i.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{i.prototype.inspect=p}else i.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],N=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],C=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(f,y){f=f||10,y=y|0||1;var _;if(f===16||f==="hex"){_="";for(var k=0,j=0,T=0;T<this.length;T++){var B=this.words[T],I=((B<<k|j)&16777215).toString(16);j=B>>>24-k&16777215,k+=2,k>=26&&(k-=26,T--),j!==0||T!==this.length-1?_=x[6-I.length]+I+_:_=I+_}for(j!==0&&(_=j.toString(16)+_);_.length%y!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(f===(f|0)&&f>=2&&f<=36){var h=N[f],A=C[f];_="";var $=this.clone();for($.negative=0;!$.isZero();){var W=$.modrn(A).toString(f);$=$.idivn(A),$.isZero()?_=W+_:_=x[h-W.length]+W+_}for(this.isZero()&&(_="0"+_);_.length%y!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(f,y){return this.toArrayLike(o,f,y)}),i.prototype.toArray=function(f,y){return this.toArrayLike(Array,f,y)};var S=function(f,y){return f.allocUnsafe?f.allocUnsafe(y):new f(y)};i.prototype.toArrayLike=function(f,y,_){this._strip();var k=this.byteLength(),j=_||Math.max(1,k);r(k<=j,"byte array longer than desired length"),r(j>0,"Requested array length <= 0");var T=S(f,j),B=y==="le"?"LE":"BE";return this["_toArrayLike"+B](T,k),T},i.prototype._toArrayLikeLE=function(f,y){for(var _=0,k=0,j=0,T=0;j<this.length;j++){var B=this.words[j]<<T|k;f[_++]=B&255,_<f.length&&(f[_++]=B>>8&255),_<f.length&&(f[_++]=B>>16&255),T===6?(_<f.length&&(f[_++]=B>>24&255),k=0,T=0):(k=B>>>24,T+=2)}if(_<f.length)for(f[_++]=k;_<f.length;)f[_++]=0},i.prototype._toArrayLikeBE=function(f,y){for(var _=f.length-1,k=0,j=0,T=0;j<this.length;j++){var B=this.words[j]<<T|k;f[_--]=B&255,_>=0&&(f[_--]=B>>8&255),_>=0&&(f[_--]=B>>16&255),T===6?(_>=0&&(f[_--]=B>>24&255),k=0,T=0):(k=B>>>24,T+=2)}if(_>=0)for(f[_--]=k;_>=0;)f[_--]=0},Math.clz32?i.prototype._countBits=function(f){return 32-Math.clz32(f)}:i.prototype._countBits=function(f){var y=f,_=0;return y>=4096&&(_+=13,y>>>=13),y>=64&&(_+=7,y>>>=7),y>=8&&(_+=4,y>>>=4),y>=2&&(_+=2,y>>>=2),_+y},i.prototype._zeroBits=function(f){if(f===0)return 26;var y=f,_=0;return y&8191||(_+=13,y>>>=13),y&127||(_+=7,y>>>=7),y&15||(_+=4,y>>>=4),y&3||(_+=2,y>>>=2),y&1||_++,_},i.prototype.bitLength=function(){var f=this.words[this.length-1],y=this._countBits(f);return(this.length-1)*26+y};function E(P){for(var f=new Array(P.bitLength()),y=0;y<f.length;y++){var _=y/26|0,k=y%26;f[y]=P.words[_]>>>k&1}return f}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,y=0;y<this.length;y++){var _=this._zeroBits(this.words[y]);if(f+=_,_!==26)break}return f},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},i.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var y=0;y<f.length;y++)this.words[y]=this.words[y]|f.words[y];return this._strip()},i.prototype.ior=function(f){return r((this.negative|f.negative)===0),this.iuor(f)},i.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},i.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},i.prototype.iuand=function(f){var y;this.length>f.length?y=f:y=this;for(var _=0;_<y.length;_++)this.words[_]=this.words[_]&f.words[_];return this.length=y.length,this._strip()},i.prototype.iand=function(f){return r((this.negative|f.negative)===0),this.iuand(f)},i.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},i.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},i.prototype.iuxor=function(f){var y,_;this.length>f.length?(y=this,_=f):(y=f,_=this);for(var k=0;k<_.length;k++)this.words[k]=y.words[k]^_.words[k];if(this!==y)for(;k<y.length;k++)this.words[k]=y.words[k];return this.length=y.length,this._strip()},i.prototype.ixor=function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},i.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},i.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},i.prototype.inotn=function(f){r(typeof f=="number"&&f>=0);var y=Math.ceil(f/26)|0,_=f%26;this._expand(y),_>0&&y--;for(var k=0;k<y;k++)this.words[k]=~this.words[k]&67108863;return _>0&&(this.words[k]=~this.words[k]&67108863>>26-_),this._strip()},i.prototype.notn=function(f){return this.clone().inotn(f)},i.prototype.setn=function(f,y){r(typeof f=="number"&&f>=0);var _=f/26|0,k=f%26;return this._expand(_+1),y?this.words[_]=this.words[_]|1<<k:this.words[_]=this.words[_]&~(1<<k),this._strip()},i.prototype.iadd=function(f){var y;if(this.negative!==0&&f.negative===0)return this.negative=0,y=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,y=this.isub(f),f.negative=1,y._normSign();var _,k;this.length>f.length?(_=this,k=f):(_=f,k=this);for(var j=0,T=0;T<k.length;T++)y=(_.words[T]|0)+(k.words[T]|0)+j,this.words[T]=y&67108863,j=y>>>26;for(;j!==0&&T<_.length;T++)y=(_.words[T]|0)+j,this.words[T]=y&67108863,j=y>>>26;if(this.length=_.length,j!==0)this.words[this.length]=j,this.length++;else if(_!==this)for(;T<_.length;T++)this.words[T]=_.words[T];return this},i.prototype.add=function(f){var y;return f.negative!==0&&this.negative===0?(f.negative=0,y=this.sub(f),f.negative^=1,y):f.negative===0&&this.negative!==0?(this.negative=0,y=f.sub(this),this.negative=1,y):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},i.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var y=this.iadd(f);return f.negative=1,y._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var _=this.cmp(f);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;var k,j;_>0?(k=this,j=f):(k=f,j=this);for(var T=0,B=0;B<j.length;B++)y=(k.words[B]|0)-(j.words[B]|0)+T,T=y>>26,this.words[B]=y&67108863;for(;T!==0&&B<k.length;B++)y=(k.words[B]|0)+T,T=y>>26,this.words[B]=y&67108863;if(T===0&&B<k.length&&k!==this)for(;B<k.length;B++)this.words[B]=k.words[B];return this.length=Math.max(this.length,B),k!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(f){return this.clone().isub(f)};function v(P,f,y){y.negative=f.negative^P.negative;var _=P.length+f.length|0;y.length=_,_=_-1|0;var k=P.words[0]|0,j=f.words[0]|0,T=k*j,B=T&67108863,I=T/67108864|0;y.words[0]=B;for(var h=1;h<_;h++){for(var A=I>>>26,$=I&67108863,W=Math.min(h,f.length-1),H=Math.max(0,h-P.length+1);H<=W;H++){var te=h-H|0;k=P.words[te]|0,j=f.words[H]|0,T=k*j+$,A+=T/67108864|0,$=T&67108863}y.words[h]=$|0,I=A|0}return I!==0?y.words[h]=I|0:y.length--,y._strip()}var b=function(f,y,_){var k=f.words,j=y.words,T=_.words,B=0,I,h,A,$=k[0]|0,W=$&8191,H=$>>>13,te=k[1]|0,J=te&8191,re=te>>>13,me=k[2]|0,fe=me&8191,ye=me>>>13,Oe=k[3]|0,ne=Oe&8191,ie=Oe>>>13,we=k[4]|0,he=we&8191,Se=we>>>13,Ye=k[5]|0,_e=Ye&8191,Ke=Ye>>>13,vn=k[6]|0,Ve=vn&8191,He=vn>>>13,Wt=k[7]|0,Ze=Wt&8191,et=Wt>>>13,zn=k[8]|0,it=zn&8191,M=zn>>>13,m=k[9]|0,w=m&8191,O=m>>>13,K=j[0]|0,V=K&8191,X=K>>>13,Te=j[1]|0,Ce=Te&8191,je=Te>>>13,tt=j[2]|0,ke=tt&8191,vt=tt>>>13,Yp=j[3]|0,bt=Yp&8191,St=Yp>>>13,Zp=j[4]|0,Et=Zp&8191,Nt=Zp>>>13,Qp=j[5]|0,_t=Qp&8191,kt=Qp>>>13,Xp=j[6]|0,jt=Xp&8191,Ct=Xp>>>13,Jp=j[7]|0,At=Jp&8191,It=Jp>>>13,e0=j[8]|0,Tt=e0&8191,Mt=e0>>>13,t0=j[9]|0,Rt=t0&8191,Bt=t0>>>13;_.negative=f.negative^y.negative,_.length=19,I=Math.imul(W,V),h=Math.imul(W,X),h=h+Math.imul(H,V)|0,A=Math.imul(H,X);var yu=(B+I|0)+((h&8191)<<13)|0;B=(A+(h>>>13)|0)+(yu>>>26)|0,yu&=67108863,I=Math.imul(J,V),h=Math.imul(J,X),h=h+Math.imul(re,V)|0,A=Math.imul(re,X),I=I+Math.imul(W,Ce)|0,h=h+Math.imul(W,je)|0,h=h+Math.imul(H,Ce)|0,A=A+Math.imul(H,je)|0;var xu=(B+I|0)+((h&8191)<<13)|0;B=(A+(h>>>13)|0)+(xu>>>26)|0,xu&=67108863,I=Math.imul(fe,V),h=Math.imul(fe,X),h=h+Math.imul(ye,V)|0,A=Math.imul(ye,X),I=I+Math.imul(J,Ce)|0,h=h+Math.imul(J,je)|0,h=h+Math.imul(re,Ce)|0,A=A+Math.imul(re,je)|0,I=I+Math.imul(W,ke)|0,h=h+Math.imul(W,vt)|0,h=h+Math.imul(H,ke)|0,A=A+Math.imul(H,vt)|0;var wu=(B+I|0)+((h&8191)<<13)|0;B=(A+(h>>>13)|0)+(wu>>>26)|0,wu&=67108863,I=Math.imul(ne,V),h=Math.imul(ne,X),h=h+Math.imul(ie,V)|0,A=Math.imul(ie,X),I=I+Math.imul(fe,Ce)|0,h=h+Math.imul(fe,je)|0,h=h+Math.imul(ye,Ce)|0,A=A+Math.imul(ye,je)|0,I=I+Math.imul(J,ke)|0,h=h+Math.imul(J,vt)|0,h=h+Math.imul(re,ke)|0,A=A+Math.imul(re,vt)|0,I=I+Math.imul(W,bt)|0,h=h+Math.imul(W,St)|0,h=h+Math.imul(H,bt)|0,A=A+Math.imul(H,St)|0;var vu=(B+I|0)+((h&8191)<<13)|0;B=(A+(h>>>13)|0)+(vu>>>26)|0,vu&=67108863,I=Math.imul(he,V),h=Math.imul(he,X),h=h+Math.imul(Se,V)|0,A=Math.imul(Se,X),I=I+Math.imul(ne,Ce)|0,h=h+Math.imul(ne,je)|0,h=h+Math.imul(ie,Ce)|0,A=A+Math.imul(ie,je)|0,I=I+Math.imul(fe,ke)|0,h=h+Math.imul(fe,vt)|0,h=h+Math.imul(ye,ke)|0,A=A+Math.imul(ye,vt)|0,I=I+Math.imul(J,bt)|0,h=h+Math.imul(J,St)|0,h=h+Math.imul(re,bt)|0,A=A+Math.imul(re,St)|0,I=I+Math.imul(W,Et)|0,h=h+Math.imul(W,Nt)|0,h=h+Math.imul(H,Et)|0,A=A+Math.imul(H,Nt)|0;var bu=(B+I|0)+((h&8191)<<13)|0;B=(A+(h>>>13)|0)+(bu>>>26)|0,bu&=67108863,I=Math.imul(_e,V),h=Math.imul(_e,X),h=h+Math.imul(Ke,V)|0,A=Math.imul(Ke,X),I=I+Math.imul(he,Ce)|0,h=h+Math.imul(he,je)|0,h=h+Math.imul(Se,Ce)|0,A=A+Math.imul(Se,je)|0,I=I+Math.imul(ne,ke)|0,h=h+Math.imul(ne,vt)|0,h=h+Math.imul(ie,ke)|0,A=A+Math.imul(ie,vt)|0,I=I+Math.imul(fe,bt)|0,h=h+Math.imul(fe,St)|0,h=h+Math.imul(ye,bt)|0,A=A+Math.imul(ye,St)|0,I=I+Math.imul(J,Et)|0,h=h+Math.imul(J,Nt)|0,h=h+Math.imul(re,Et)|0,A=A+Math.imul(re,Nt)|0,I=I+Math.imul(W,_t)|0,h=h+Math.imul(W,kt)|0,h=h+Math.imul(H,_t)|0,A=A+Math.imul(H,kt)|0;var Su=(B+I|0)+((h&8191)<<13)|0;B=(A+(h>>>13)|0)+(Su>>>26)|0,Su&=67108863,I=Math.imul(Ve,V),h=Math.imul(Ve,X),h=h+Math.imul(He,V)|0,A=Math.imul(He,X),I=I+Math.imul(_e,Ce)|0,h=h+Math.imul(_e,je)|0,h=h+Math.imul(Ke,Ce)|0,A=A+Math.imul(Ke,je)|0,I=I+Math.imul(he,ke)|0,h=h+Math.imul(he,vt)|0,h=h+Math.imul(Se,ke)|0,A=A+Math.imul(Se,vt)|0,I=I+Math.imul(ne,bt)|0,h=h+Math.imul(ne,St)|0,h=h+Math.imul(ie,bt)|0,A=A+Math.imul(ie,St)|0,I=I+Math.imul(fe,Et)|0,h=h+Math.imul(fe,Nt)|0,h=h+Math.imul(ye,Et)|0,A=A+Math.imul(ye,Nt)|0,I=I+Math.imul(J,_t)|0,h=h+Math.imul(J,kt)|0,h=h+Math.imul(re,_t)|0,A=A+Math.imul(re,kt)|0,I=I+Math.imul(W,jt)|0,h=h+Math.imul(W,Ct)|0,h=h+Math.imul(H,jt)|0,A=A+Math.imul(H,Ct)|0;var Eu=(B+I|0)+((h&8191)<<13)|0;B=(A+(h>>>13)|0)+(Eu>>>26)|0,Eu&=67108863,I=Math.imul(Ze,V),h=Math.imul(Ze,X),h=h+Math.imul(et,V)|0,A=Math.imul(et,X),I=I+Math.imul(Ve,Ce)|0,h=h+Math.imul(Ve,je)|0,h=h+Math.imul(He,Ce)|0,A=A+Math.imul(He,je)|0,I=I+Math.imul(_e,ke)|0,h=h+Math.imul(_e,vt)|0,h=h+Math.imul(Ke,ke)|0,A=A+Math.imul(Ke,vt)|0,I=I+Math.imul(he,bt)|0,h=h+Math.imul(he,St)|0,h=h+Math.imul(Se,bt)|0,A=A+Math.imul(Se,St)|0,I=I+Math.imul(ne,Et)|0,h=h+Math.imul(ne,Nt)|0,h=h+Math.imul(ie,Et)|0,A=A+Math.imul(ie,Nt)|0,I=I+Math.imul(fe,_t)|0,h=h+Math.imul(fe,kt)|0,h=h+Math.imul(ye,_t)|0,A=A+Math.imul(ye,kt)|0,I=I+Math.imul(J,jt)|0,h=h+Math.imul(J,Ct)|0,h=h+Math.imul(re,jt)|0,A=A+Math.imul(re,Ct)|0,I=I+Math.imul(W,At)|0,h=h+Math.imul(W,It)|0,h=h+Math.imul(H,At)|0,A=A+Math.imul(H,It)|0;var Nu=(B+I|0)+((h&8191)<<13)|0;B=(A+(h>>>13)|0)+(Nu>>>26)|0,Nu&=67108863,I=Math.imul(it,V),h=Math.imul(it,X),h=h+Math.imul(M,V)|0,A=Math.imul(M,X),I=I+Math.imul(Ze,Ce)|0,h=h+Math.imul(Ze,je)|0,h=h+Math.imul(et,Ce)|0,A=A+Math.imul(et,je)|0,I=I+Math.imul(Ve,ke)|0,h=h+Math.imul(Ve,vt)|0,h=h+Math.imul(He,ke)|0,A=A+Math.imul(He,vt)|0,I=I+Math.imul(_e,bt)|0,h=h+Math.imul(_e,St)|0,h=h+Math.imul(Ke,bt)|0,A=A+Math.imul(Ke,St)|0,I=I+Math.imul(he,Et)|0,h=h+Math.imul(he,Nt)|0,h=h+Math.imul(Se,Et)|0,A=A+Math.imul(Se,Nt)|0,I=I+Math.imul(ne,_t)|0,h=h+Math.imul(ne,kt)|0,h=h+Math.imul(ie,_t)|0,A=A+Math.imul(ie,kt)|0,I=I+Math.imul(fe,jt)|0,h=h+Math.imul(fe,Ct)|0,h=h+Math.imul(ye,jt)|0,A=A+Math.imul(ye,Ct)|0,I=I+Math.imul(J,At)|0,h=h+Math.imul(J,It)|0,h=h+Math.imul(re,At)|0,A=A+Math.imul(re,It)|0,I=I+Math.imul(W,Tt)|0,h=h+Math.imul(W,Mt)|0,h=h+Math.imul(H,Tt)|0,A=A+Math.imul(H,Mt)|0;var _u=(B+I|0)+((h&8191)<<13)|0;B=(A+(h>>>13)|0)+(_u>>>26)|0,_u&=67108863,I=Math.imul(w,V),h=Math.imul(w,X),h=h+Math.imul(O,V)|0,A=Math.imul(O,X),I=I+Math.imul(it,Ce)|0,h=h+Math.imul(it,je)|0,h=h+Math.imul(M,Ce)|0,A=A+Math.imul(M,je)|0,I=I+Math.imul(Ze,ke)|0,h=h+Math.imul(Ze,vt)|0,h=h+Math.imul(et,ke)|0,A=A+Math.imul(et,vt)|0,I=I+Math.imul(Ve,bt)|0,h=h+Math.imul(Ve,St)|0,h=h+Math.imul(He,bt)|0,A=A+Math.imul(He,St)|0,I=I+Math.imul(_e,Et)|0,h=h+Math.imul(_e,Nt)|0,h=h+Math.imul(Ke,Et)|0,A=A+Math.imul(Ke,Nt)|0,I=I+Math.imul(he,_t)|0,h=h+Math.imul(he,kt)|0,h=h+Math.imul(Se,_t)|0,A=A+Math.imul(Se,kt)|0,I=I+Math.imul(ne,jt)|0,h=h+Math.imul(ne,Ct)|0,h=h+Math.imul(ie,jt)|0,A=A+Math.imul(ie,Ct)|0,I=I+Math.imul(fe,At)|0,h=h+Math.imul(fe,It)|0,h=h+Math.imul(ye,At)|0,A=A+Math.imul(ye,It)|0,I=I+Math.imul(J,Tt)|0,h=h+Math.imul(J,Mt)|0,h=h+Math.imul(re,Tt)|0,A=A+Math.imul(re,Mt)|0,I=I+Math.imul(W,Rt)|0,h=h+Math.imul(W,Bt)|0,h=h+Math.imul(H,Rt)|0,A=A+Math.imul(H,Bt)|0;var ku=(B+I|0)+((h&8191)<<13)|0;B=(A+(h>>>13)|0)+(ku>>>26)|0,ku&=67108863,I=Math.imul(w,Ce),h=Math.imul(w,je),h=h+Math.imul(O,Ce)|0,A=Math.imul(O,je),I=I+Math.imul(it,ke)|0,h=h+Math.imul(it,vt)|0,h=h+Math.imul(M,ke)|0,A=A+Math.imul(M,vt)|0,I=I+Math.imul(Ze,bt)|0,h=h+Math.imul(Ze,St)|0,h=h+Math.imul(et,bt)|0,A=A+Math.imul(et,St)|0,I=I+Math.imul(Ve,Et)|0,h=h+Math.imul(Ve,Nt)|0,h=h+Math.imul(He,Et)|0,A=A+Math.imul(He,Nt)|0,I=I+Math.imul(_e,_t)|0,h=h+Math.imul(_e,kt)|0,h=h+Math.imul(Ke,_t)|0,A=A+Math.imul(Ke,kt)|0,I=I+Math.imul(he,jt)|0,h=h+Math.imul(he,Ct)|0,h=h+Math.imul(Se,jt)|0,A=A+Math.imul(Se,Ct)|0,I=I+Math.imul(ne,At)|0,h=h+Math.imul(ne,It)|0,h=h+Math.imul(ie,At)|0,A=A+Math.imul(ie,It)|0,I=I+Math.imul(fe,Tt)|0,h=h+Math.imul(fe,Mt)|0,h=h+Math.imul(ye,Tt)|0,A=A+Math.imul(ye,Mt)|0,I=I+Math.imul(J,Rt)|0,h=h+Math.imul(J,Bt)|0,h=h+Math.imul(re,Rt)|0,A=A+Math.imul(re,Bt)|0;var ju=(B+I|0)+((h&8191)<<13)|0;B=(A+(h>>>13)|0)+(ju>>>26)|0,ju&=67108863,I=Math.imul(w,ke),h=Math.imul(w,vt),h=h+Math.imul(O,ke)|0,A=Math.imul(O,vt),I=I+Math.imul(it,bt)|0,h=h+Math.imul(it,St)|0,h=h+Math.imul(M,bt)|0,A=A+Math.imul(M,St)|0,I=I+Math.imul(Ze,Et)|0,h=h+Math.imul(Ze,Nt)|0,h=h+Math.imul(et,Et)|0,A=A+Math.imul(et,Nt)|0,I=I+Math.imul(Ve,_t)|0,h=h+Math.imul(Ve,kt)|0,h=h+Math.imul(He,_t)|0,A=A+Math.imul(He,kt)|0,I=I+Math.imul(_e,jt)|0,h=h+Math.imul(_e,Ct)|0,h=h+Math.imul(Ke,jt)|0,A=A+Math.imul(Ke,Ct)|0,I=I+Math.imul(he,At)|0,h=h+Math.imul(he,It)|0,h=h+Math.imul(Se,At)|0,A=A+Math.imul(Se,It)|0,I=I+Math.imul(ne,Tt)|0,h=h+Math.imul(ne,Mt)|0,h=h+Math.imul(ie,Tt)|0,A=A+Math.imul(ie,Mt)|0,I=I+Math.imul(fe,Rt)|0,h=h+Math.imul(fe,Bt)|0,h=h+Math.imul(ye,Rt)|0,A=A+Math.imul(ye,Bt)|0;var Cu=(B+I|0)+((h&8191)<<13)|0;B=(A+(h>>>13)|0)+(Cu>>>26)|0,Cu&=67108863,I=Math.imul(w,bt),h=Math.imul(w,St),h=h+Math.imul(O,bt)|0,A=Math.imul(O,St),I=I+Math.imul(it,Et)|0,h=h+Math.imul(it,Nt)|0,h=h+Math.imul(M,Et)|0,A=A+Math.imul(M,Nt)|0,I=I+Math.imul(Ze,_t)|0,h=h+Math.imul(Ze,kt)|0,h=h+Math.imul(et,_t)|0,A=A+Math.imul(et,kt)|0,I=I+Math.imul(Ve,jt)|0,h=h+Math.imul(Ve,Ct)|0,h=h+Math.imul(He,jt)|0,A=A+Math.imul(He,Ct)|0,I=I+Math.imul(_e,At)|0,h=h+Math.imul(_e,It)|0,h=h+Math.imul(Ke,At)|0,A=A+Math.imul(Ke,It)|0,I=I+Math.imul(he,Tt)|0,h=h+Math.imul(he,Mt)|0,h=h+Math.imul(Se,Tt)|0,A=A+Math.imul(Se,Mt)|0,I=I+Math.imul(ne,Rt)|0,h=h+Math.imul(ne,Bt)|0,h=h+Math.imul(ie,Rt)|0,A=A+Math.imul(ie,Bt)|0;var Au=(B+I|0)+((h&8191)<<13)|0;B=(A+(h>>>13)|0)+(Au>>>26)|0,Au&=67108863,I=Math.imul(w,Et),h=Math.imul(w,Nt),h=h+Math.imul(O,Et)|0,A=Math.imul(O,Nt),I=I+Math.imul(it,_t)|0,h=h+Math.imul(it,kt)|0,h=h+Math.imul(M,_t)|0,A=A+Math.imul(M,kt)|0,I=I+Math.imul(Ze,jt)|0,h=h+Math.imul(Ze,Ct)|0,h=h+Math.imul(et,jt)|0,A=A+Math.imul(et,Ct)|0,I=I+Math.imul(Ve,At)|0,h=h+Math.imul(Ve,It)|0,h=h+Math.imul(He,At)|0,A=A+Math.imul(He,It)|0,I=I+Math.imul(_e,Tt)|0,h=h+Math.imul(_e,Mt)|0,h=h+Math.imul(Ke,Tt)|0,A=A+Math.imul(Ke,Mt)|0,I=I+Math.imul(he,Rt)|0,h=h+Math.imul(he,Bt)|0,h=h+Math.imul(Se,Rt)|0,A=A+Math.imul(Se,Bt)|0;var Iu=(B+I|0)+((h&8191)<<13)|0;B=(A+(h>>>13)|0)+(Iu>>>26)|0,Iu&=67108863,I=Math.imul(w,_t),h=Math.imul(w,kt),h=h+Math.imul(O,_t)|0,A=Math.imul(O,kt),I=I+Math.imul(it,jt)|0,h=h+Math.imul(it,Ct)|0,h=h+Math.imul(M,jt)|0,A=A+Math.imul(M,Ct)|0,I=I+Math.imul(Ze,At)|0,h=h+Math.imul(Ze,It)|0,h=h+Math.imul(et,At)|0,A=A+Math.imul(et,It)|0,I=I+Math.imul(Ve,Tt)|0,h=h+Math.imul(Ve,Mt)|0,h=h+Math.imul(He,Tt)|0,A=A+Math.imul(He,Mt)|0,I=I+Math.imul(_e,Rt)|0,h=h+Math.imul(_e,Bt)|0,h=h+Math.imul(Ke,Rt)|0,A=A+Math.imul(Ke,Bt)|0;var Tu=(B+I|0)+((h&8191)<<13)|0;B=(A+(h>>>13)|0)+(Tu>>>26)|0,Tu&=67108863,I=Math.imul(w,jt),h=Math.imul(w,Ct),h=h+Math.imul(O,jt)|0,A=Math.imul(O,Ct),I=I+Math.imul(it,At)|0,h=h+Math.imul(it,It)|0,h=h+Math.imul(M,At)|0,A=A+Math.imul(M,It)|0,I=I+Math.imul(Ze,Tt)|0,h=h+Math.imul(Ze,Mt)|0,h=h+Math.imul(et,Tt)|0,A=A+Math.imul(et,Mt)|0,I=I+Math.imul(Ve,Rt)|0,h=h+Math.imul(Ve,Bt)|0,h=h+Math.imul(He,Rt)|0,A=A+Math.imul(He,Bt)|0;var Mu=(B+I|0)+((h&8191)<<13)|0;B=(A+(h>>>13)|0)+(Mu>>>26)|0,Mu&=67108863,I=Math.imul(w,At),h=Math.imul(w,It),h=h+Math.imul(O,At)|0,A=Math.imul(O,It),I=I+Math.imul(it,Tt)|0,h=h+Math.imul(it,Mt)|0,h=h+Math.imul(M,Tt)|0,A=A+Math.imul(M,Mt)|0,I=I+Math.imul(Ze,Rt)|0,h=h+Math.imul(Ze,Bt)|0,h=h+Math.imul(et,Rt)|0,A=A+Math.imul(et,Bt)|0;var Ru=(B+I|0)+((h&8191)<<13)|0;B=(A+(h>>>13)|0)+(Ru>>>26)|0,Ru&=67108863,I=Math.imul(w,Tt),h=Math.imul(w,Mt),h=h+Math.imul(O,Tt)|0,A=Math.imul(O,Mt),I=I+Math.imul(it,Rt)|0,h=h+Math.imul(it,Bt)|0,h=h+Math.imul(M,Rt)|0,A=A+Math.imul(M,Bt)|0;var Bu=(B+I|0)+((h&8191)<<13)|0;B=(A+(h>>>13)|0)+(Bu>>>26)|0,Bu&=67108863,I=Math.imul(w,Rt),h=Math.imul(w,Bt),h=h+Math.imul(O,Rt)|0,A=Math.imul(O,Bt);var Pu=(B+I|0)+((h&8191)<<13)|0;return B=(A+(h>>>13)|0)+(Pu>>>26)|0,Pu&=67108863,T[0]=yu,T[1]=xu,T[2]=wu,T[3]=vu,T[4]=bu,T[5]=Su,T[6]=Eu,T[7]=Nu,T[8]=_u,T[9]=ku,T[10]=ju,T[11]=Cu,T[12]=Au,T[13]=Iu,T[14]=Tu,T[15]=Mu,T[16]=Ru,T[17]=Bu,T[18]=Pu,B!==0&&(T[19]=B,_.length++),_};Math.imul||(b=v);function g(P,f,y){y.negative=f.negative^P.negative,y.length=P.length+f.length;for(var _=0,k=0,j=0;j<y.length-1;j++){var T=k;k=0;for(var B=_&67108863,I=Math.min(j,f.length-1),h=Math.max(0,j-P.length+1);h<=I;h++){var A=j-h,$=P.words[A]|0,W=f.words[h]|0,H=$*W,te=H&67108863;T=T+(H/67108864|0)|0,te=te+B|0,B=te&67108863,T=T+(te>>>26)|0,k+=T>>>26,T&=67108863}y.words[j]=B,_=T,T=k}return _!==0?y.words[j]=_:y.length--,y._strip()}function R(P,f,y){return g(P,f,y)}i.prototype.mulTo=function(f,y){var _,k=this.length+f.length;return this.length===10&&f.length===10?_=b(this,f,y):k<63?_=v(this,f,y):k<1024?_=g(this,f,y):_=R(this,f,y),_},i.prototype.mul=function(f){var y=new i(null);return y.words=new Array(this.length+f.length),this.mulTo(f,y)},i.prototype.mulf=function(f){var y=new i(null);return y.words=new Array(this.length+f.length),R(this,f,y)},i.prototype.imul=function(f){return this.clone().mulTo(f,this)},i.prototype.imuln=function(f){var y=f<0;y&&(f=-f),r(typeof f=="number"),r(f<67108864);for(var _=0,k=0;k<this.length;k++){var j=(this.words[k]|0)*f,T=(j&67108863)+(_&67108863);_>>=26,_+=j/67108864|0,_+=T>>>26,this.words[k]=T&67108863}return _!==0&&(this.words[k]=_,this.length++),y?this.ineg():this},i.prototype.muln=function(f){return this.clone().imuln(f)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(f){var y=E(f);if(y.length===0)return new i(1);for(var _=this,k=0;k<y.length&&y[k]===0;k++,_=_.sqr());if(++k<y.length)for(var j=_.sqr();k<y.length;k++,j=j.sqr())y[k]!==0&&(_=_.mul(j));return _},i.prototype.iushln=function(f){r(typeof f=="number"&&f>=0);var y=f%26,_=(f-y)/26,k=67108863>>>26-y<<26-y,j;if(y!==0){var T=0;for(j=0;j<this.length;j++){var B=this.words[j]&k,I=(this.words[j]|0)-B<<y;this.words[j]=I|T,T=B>>>26-y}T&&(this.words[j]=T,this.length++)}if(_!==0){for(j=this.length-1;j>=0;j--)this.words[j+_]=this.words[j];for(j=0;j<_;j++)this.words[j]=0;this.length+=_}return this._strip()},i.prototype.ishln=function(f){return r(this.negative===0),this.iushln(f)},i.prototype.iushrn=function(f,y,_){r(typeof f=="number"&&f>=0);var k;y?k=(y-y%26)/26:k=0;var j=f%26,T=Math.min((f-j)/26,this.length),B=67108863^67108863>>>j<<j,I=_;if(k-=T,k=Math.max(0,k),I){for(var h=0;h<T;h++)I.words[h]=this.words[h];I.length=T}if(T!==0)if(this.length>T)for(this.length-=T,h=0;h<this.length;h++)this.words[h]=this.words[h+T];else this.words[0]=0,this.length=1;var A=0;for(h=this.length-1;h>=0&&(A!==0||h>=k);h--){var $=this.words[h]|0;this.words[h]=A<<26-j|$>>>j,A=$&B}return I&&A!==0&&(I.words[I.length++]=A),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(f,y,_){return r(this.negative===0),this.iushrn(f,y,_)},i.prototype.shln=function(f){return this.clone().ishln(f)},i.prototype.ushln=function(f){return this.clone().iushln(f)},i.prototype.shrn=function(f){return this.clone().ishrn(f)},i.prototype.ushrn=function(f){return this.clone().iushrn(f)},i.prototype.testn=function(f){r(typeof f=="number"&&f>=0);var y=f%26,_=(f-y)/26,k=1<<y;if(this.length<=_)return!1;var j=this.words[_];return!!(j&k)},i.prototype.imaskn=function(f){r(typeof f=="number"&&f>=0);var y=f%26,_=(f-y)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(y!==0&&_++,this.length=Math.min(_,this.length),y!==0){var k=67108863^67108863>>>y<<y;this.words[this.length-1]&=k}return this._strip()},i.prototype.maskn=function(f){return this.clone().imaskn(f)},i.prototype.iaddn=function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<=f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},i.prototype._iaddn=function(f){this.words[0]+=f;for(var y=0;y<this.length&&this.words[y]>=67108864;y++)this.words[y]-=67108864,y===this.length-1?this.words[y+1]=1:this.words[y+1]++;return this.length=Math.max(this.length,y+1),this},i.prototype.isubn=function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var y=0;y<this.length&&this.words[y]<0;y++)this.words[y]+=67108864,this.words[y+1]-=1;return this._strip()},i.prototype.addn=function(f){return this.clone().iaddn(f)},i.prototype.subn=function(f){return this.clone().isubn(f)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(f,y,_){var k=f.length+_,j;this._expand(k);var T,B=0;for(j=0;j<f.length;j++){T=(this.words[j+_]|0)+B;var I=(f.words[j]|0)*y;T-=I&67108863,B=(T>>26)-(I/67108864|0),this.words[j+_]=T&67108863}for(;j<this.length-_;j++)T=(this.words[j+_]|0)+B,B=T>>26,this.words[j+_]=T&67108863;if(B===0)return this._strip();for(r(B===-1),B=0,j=0;j<this.length;j++)T=-(this.words[j]|0)+B,B=T>>26,this.words[j]=T&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(f,y){var _=this.length-f.length,k=this.clone(),j=f,T=j.words[j.length-1]|0,B=this._countBits(T);_=26-B,_!==0&&(j=j.ushln(_),k.iushln(_),T=j.words[j.length-1]|0);var I=k.length-j.length,h;if(y!=="mod"){h=new i(null),h.length=I+1,h.words=new Array(h.length);for(var A=0;A<h.length;A++)h.words[A]=0}var $=k.clone()._ishlnsubmul(j,1,I);$.negative===0&&(k=$,h&&(h.words[I]=1));for(var W=I-1;W>=0;W--){var H=(k.words[j.length+W]|0)*67108864+(k.words[j.length+W-1]|0);for(H=Math.min(H/T|0,67108863),k._ishlnsubmul(j,H,W);k.negative!==0;)H--,k.negative=0,k._ishlnsubmul(j,1,W),k.isZero()||(k.negative^=1);h&&(h.words[W]=H)}return h&&h._strip(),k._strip(),y!=="div"&&_!==0&&k.iushrn(_),{div:h||null,mod:k}},i.prototype.divmod=function(f,y,_){if(r(!f.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var k,j,T;return this.negative!==0&&f.negative===0?(T=this.neg().divmod(f,y),y!=="mod"&&(k=T.div.neg()),y!=="div"&&(j=T.mod.neg(),_&&j.negative!==0&&j.iadd(f)),{div:k,mod:j}):this.negative===0&&f.negative!==0?(T=this.divmod(f.neg(),y),y!=="mod"&&(k=T.div.neg()),{div:k,mod:T.mod}):this.negative&f.negative?(T=this.neg().divmod(f.neg(),y),y!=="div"&&(j=T.mod.neg(),_&&j.negative!==0&&j.isub(f)),{div:T.div,mod:j}):f.length>this.length||this.cmp(f)<0?{div:new i(0),mod:this}:f.length===1?y==="div"?{div:this.divn(f.words[0]),mod:null}:y==="mod"?{div:null,mod:new i(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new i(this.modrn(f.words[0]))}:this._wordDiv(f,y)},i.prototype.div=function(f){return this.divmod(f,"div",!1).div},i.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},i.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},i.prototype.divRound=function(f){var y=this.divmod(f);if(y.mod.isZero())return y.div;var _=y.div.negative!==0?y.mod.isub(f):y.mod,k=f.ushrn(1),j=f.andln(1),T=_.cmp(k);return T<0||j===1&&T===0?y.div:y.div.negative!==0?y.div.isubn(1):y.div.iaddn(1)},i.prototype.modrn=function(f){var y=f<0;y&&(f=-f),r(f<=67108863);for(var _=(1<<26)%f,k=0,j=this.length-1;j>=0;j--)k=(_*k+(this.words[j]|0))%f;return y?-k:k},i.prototype.modn=function(f){return this.modrn(f)},i.prototype.idivn=function(f){var y=f<0;y&&(f=-f),r(f<=67108863);for(var _=0,k=this.length-1;k>=0;k--){var j=(this.words[k]|0)+_*67108864;this.words[k]=j/f|0,_=j%f}return this._strip(),y?this.ineg():this},i.prototype.divn=function(f){return this.clone().idivn(f)},i.prototype.egcd=function(f){r(f.negative===0),r(!f.isZero());var y=this,_=f.clone();y.negative!==0?y=y.umod(f):y=y.clone();for(var k=new i(1),j=new i(0),T=new i(0),B=new i(1),I=0;y.isEven()&&_.isEven();)y.iushrn(1),_.iushrn(1),++I;for(var h=_.clone(),A=y.clone();!y.isZero();){for(var $=0,W=1;!(y.words[0]&W)&&$<26;++$,W<<=1);if($>0)for(y.iushrn($);$-- >0;)(k.isOdd()||j.isOdd())&&(k.iadd(h),j.isub(A)),k.iushrn(1),j.iushrn(1);for(var H=0,te=1;!(_.words[0]&te)&&H<26;++H,te<<=1);if(H>0)for(_.iushrn(H);H-- >0;)(T.isOdd()||B.isOdd())&&(T.iadd(h),B.isub(A)),T.iushrn(1),B.iushrn(1);y.cmp(_)>=0?(y.isub(_),k.isub(T),j.isub(B)):(_.isub(y),T.isub(k),B.isub(j))}return{a:T,b:B,gcd:_.iushln(I)}},i.prototype._invmp=function(f){r(f.negative===0),r(!f.isZero());var y=this,_=f.clone();y.negative!==0?y=y.umod(f):y=y.clone();for(var k=new i(1),j=new i(0),T=_.clone();y.cmpn(1)>0&&_.cmpn(1)>0;){for(var B=0,I=1;!(y.words[0]&I)&&B<26;++B,I<<=1);if(B>0)for(y.iushrn(B);B-- >0;)k.isOdd()&&k.iadd(T),k.iushrn(1);for(var h=0,A=1;!(_.words[0]&A)&&h<26;++h,A<<=1);if(h>0)for(_.iushrn(h);h-- >0;)j.isOdd()&&j.iadd(T),j.iushrn(1);y.cmp(_)>=0?(y.isub(_),k.isub(j)):(_.isub(y),j.isub(k))}var $;return y.cmpn(1)===0?$=k:$=j,$.cmpn(0)<0&&$.iadd(f),$},i.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var y=this.clone(),_=f.clone();y.negative=0,_.negative=0;for(var k=0;y.isEven()&&_.isEven();k++)y.iushrn(1),_.iushrn(1);do{for(;y.isEven();)y.iushrn(1);for(;_.isEven();)_.iushrn(1);var j=y.cmp(_);if(j<0){var T=y;y=_,_=T}else if(j===0||_.cmpn(1)===0)break;y.isub(_)}while(!0);return _.iushln(k)},i.prototype.invm=function(f){return this.egcd(f).a.umod(f)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(f){return this.words[0]&f},i.prototype.bincn=function(f){r(typeof f=="number");var y=f%26,_=(f-y)/26,k=1<<y;if(this.length<=_)return this._expand(_+1),this.words[_]|=k,this;for(var j=k,T=_;j!==0&&T<this.length;T++){var B=this.words[T]|0;B+=j,j=B>>>26,B&=67108863,this.words[T]=B}return j!==0&&(this.words[T]=j,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(f){var y=f<0;if(this.negative!==0&&!y)return-1;if(this.negative===0&&y)return 1;this._strip();var _;if(this.length>1)_=1;else{y&&(f=-f),r(f<=67108863,"Number is too big");var k=this.words[0]|0;_=k===f?0:k<f?-1:1}return this.negative!==0?-_|0:_},i.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var y=this.ucmp(f);return this.negative!==0?-y|0:y},i.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var y=0,_=this.length-1;_>=0;_--){var k=this.words[_]|0,j=f.words[_]|0;if(k!==j){k<j?y=-1:k>j&&(y=1);break}}return y},i.prototype.gtn=function(f){return this.cmpn(f)===1},i.prototype.gt=function(f){return this.cmp(f)===1},i.prototype.gten=function(f){return this.cmpn(f)>=0},i.prototype.gte=function(f){return this.cmp(f)>=0},i.prototype.ltn=function(f){return this.cmpn(f)===-1},i.prototype.lt=function(f){return this.cmp(f)===-1},i.prototype.lten=function(f){return this.cmpn(f)<=0},i.prototype.lte=function(f){return this.cmp(f)<=0},i.prototype.eqn=function(f){return this.cmpn(f)===0},i.prototype.eq=function(f){return this.cmp(f)===0},i.red=function(f){return new Z(f)},i.prototype.toRed=function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(f){return this.red=f,this},i.prototype.forceRed=function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},i.prototype.redAdd=function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},i.prototype.redIAdd=function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},i.prototype.redSub=function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},i.prototype.redISub=function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},i.prototype.redShl=function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},i.prototype.redMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},i.prototype.redIMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var z={k256:null,p224:null,p192:null,p25519:null};function U(P,f){this.name=P,this.p=new i(f,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}U.prototype._tmp=function(){var f=new i(null);return f.words=new Array(Math.ceil(this.n/13)),f},U.prototype.ireduce=function(f){var y=f,_;do this.split(y,this.tmp),y=this.imulK(y),y=y.iadd(this.tmp),_=y.bitLength();while(_>this.n);var k=_<this.n?-1:y.ucmp(this.p);return k===0?(y.words[0]=0,y.length=1):k>0?y.isub(this.p):y.strip!==void 0?y.strip():y._strip(),y},U.prototype.split=function(f,y){f.iushrn(this.n,0,y)},U.prototype.imulK=function(f){return f.imul(this.k)};function F(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(F,U),F.prototype.split=function(f,y){for(var _=4194303,k=Math.min(f.length,9),j=0;j<k;j++)y.words[j]=f.words[j];if(y.length=k,f.length<=9){f.words[0]=0,f.length=1;return}var T=f.words[9];for(y.words[y.length++]=T&_,j=10;j<f.length;j++){var B=f.words[j]|0;f.words[j-10]=(B&_)<<4|T>>>22,T=B}T>>>=22,f.words[j-10]=T,T===0&&f.length>10?f.length-=10:f.length-=9},F.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var y=0,_=0;_<f.length;_++){var k=f.words[_]|0;y+=k*977,f.words[_]=y&67108863,y=k*64+(y/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function D(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(D,U);function q(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(q,U);function G(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(G,U),G.prototype.imulK=function(f){for(var y=0,_=0;_<f.length;_++){var k=(f.words[_]|0)*19+y,j=k&67108863;k>>>=26,f.words[_]=j,y=k}return y!==0&&(f.words[f.length++]=y),f},i._prime=function(f){if(z[f])return z[f];var y;if(f==="k256")y=new F;else if(f==="p224")y=new D;else if(f==="p192")y=new q;else if(f==="p25519")y=new G;else throw new Error("Unknown prime "+f);return z[f]=y,y};function Z(P){if(typeof P=="string"){var f=i._prime(P);this.m=f.p,this.prime=f}else r(P.gtn(1),"modulus must be greater than 1"),this.m=P,this.prime=null}Z.prototype._verify1=function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},Z.prototype._verify2=function(f,y){r((f.negative|y.negative)===0,"red works only with positives"),r(f.red&&f.red===y.red,"red works only with red numbers")},Z.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(d(f,f.umod(this.m)._forceRed(this)),f)},Z.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},Z.prototype.add=function(f,y){this._verify2(f,y);var _=f.add(y);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},Z.prototype.iadd=function(f,y){this._verify2(f,y);var _=f.iadd(y);return _.cmp(this.m)>=0&&_.isub(this.m),_},Z.prototype.sub=function(f,y){this._verify2(f,y);var _=f.sub(y);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},Z.prototype.isub=function(f,y){this._verify2(f,y);var _=f.isub(y);return _.cmpn(0)<0&&_.iadd(this.m),_},Z.prototype.shl=function(f,y){return this._verify1(f),this.imod(f.ushln(y))},Z.prototype.imul=function(f,y){return this._verify2(f,y),this.imod(f.imul(y))},Z.prototype.mul=function(f,y){return this._verify2(f,y),this.imod(f.mul(y))},Z.prototype.isqr=function(f){return this.imul(f,f.clone())},Z.prototype.sqr=function(f){return this.mul(f,f)},Z.prototype.sqrt=function(f){if(f.isZero())return f.clone();var y=this.m.andln(3);if(r(y%2===1),y===3){var _=this.m.add(new i(1)).iushrn(2);return this.pow(f,_)}for(var k=this.m.subn(1),j=0;!k.isZero()&&k.andln(1)===0;)j++,k.iushrn(1);r(!k.isZero());var T=new i(1).toRed(this),B=T.redNeg(),I=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new i(2*h*h).toRed(this);this.pow(h,I).cmp(B)!==0;)h.redIAdd(B);for(var A=this.pow(h,k),$=this.pow(f,k.addn(1).iushrn(1)),W=this.pow(f,k),H=j;W.cmp(T)!==0;){for(var te=W,J=0;te.cmp(T)!==0;J++)te=te.redSqr();r(J<H);var re=this.pow(A,new i(1).iushln(H-J-1));$=$.redMul(re),A=re.redSqr(),W=W.redMul(A),H=J}return $},Z.prototype.invm=function(f){var y=f._invmp(this.m);return y.negative!==0?(y.negative=0,this.imod(y).redNeg()):this.imod(y)},Z.prototype.pow=function(f,y){if(y.isZero())return new i(1).toRed(this);if(y.cmpn(1)===0)return f.clone();var _=4,k=new Array(1<<_);k[0]=new i(1).toRed(this),k[1]=f;for(var j=2;j<k.length;j++)k[j]=this.mul(k[j-1],f);var T=k[0],B=0,I=0,h=y.bitLength()%26;for(h===0&&(h=26),j=y.length-1;j>=0;j--){for(var A=y.words[j],$=h-1;$>=0;$--){var W=A>>$&1;if(T!==k[0]&&(T=this.sqr(T)),W===0&&B===0){I=0;continue}B<<=1,B|=W,I++,!(I!==_&&(j!==0||$!==0))&&(T=this.mul(T,k[B]),I=0,B=0)}h=26}return T},Z.prototype.convertTo=function(f){var y=f.umod(this.m);return y===f?y.clone():y},Z.prototype.convertFrom=function(f){var y=f.clone();return y.red=null,y},i.mont=function(f){return new ee(f)};function ee(P){Z.call(this,P),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(ee,Z),ee.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},ee.prototype.convertFrom=function(f){var y=this.imod(f.mul(this.rinv));return y.red=null,y},ee.prototype.imul=function(f,y){if(f.isZero()||y.isZero())return f.words[0]=0,f.length=1,f;var _=f.imul(y),k=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=_.isub(k).iushrn(this.shift),T=j;return j.cmp(this.m)>=0?T=j.isub(this.m):j.cmpn(0)<0&&(T=j.iadd(this.m)),T._forceRed(this)},ee.prototype.mul=function(f,y){if(f.isZero()||y.isZero())return new i(0)._forceRed(this);var _=f.mul(y),k=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=_.isub(k).iushrn(this.shift),T=j;return j.cmp(this.m)>=0?T=j.isub(this.m):j.cmpn(0)<0&&(T=j.iadd(this.m)),T._forceRed(this)},ee.prototype.invm=function(f){var y=this.imod(f._invmp(this.m).mul(this.r2));return y._forceRed(this)}})(e,Nr)})(wp);var xx=wp.exports;const Am=ls(xx);var qf={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var n=vp,r=n.Buffer;function s(o,l){for(var c in o)l[c]=o[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(s(n,t),t.Buffer=i);function i(o,l,c){return r(o,l,c)}i.prototype=Object.create(r.prototype),s(r,i),i.from=function(o,l,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,l,c)},i.alloc=function(o,l,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=r(o);return l!==void 0?typeof c=="string"?u.fill(l,c):u.fill(l):u.fill(0),u},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(qf,qf.exports);var e_=qf.exports,wl=e_.Buffer;function t_(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var s=e.charAt(r),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=r}var o=e.length,l=e.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function d(N){if((Array.isArray(N)||N instanceof Uint8Array)&&(N=wl.from(N)),!wl.isBuffer(N))throw new TypeError("Expected Buffer");if(N.length===0)return"";for(var C=0,S=0,E=0,v=N.length;E!==v&&N[E]===0;)E++,C++;for(var b=(v-E)*u+1>>>0,g=new Uint8Array(b);E!==v;){for(var R=N[E],z=0,U=b-1;(R!==0||z<S)&&U!==-1;U--,z++)R+=256*g[U]>>>0,g[U]=R%o>>>0,R=R/o>>>0;if(R!==0)throw new Error("Non-zero carry");S=z,E++}for(var F=b-S;F!==b&&g[F]===0;)F++;for(var D=l.repeat(C);F<b;++F)D+=e.charAt(g[F]);return D}function p(N){if(typeof N!="string")throw new TypeError("Expected String");if(N.length===0)return wl.alloc(0);for(var C=0,S=0,E=0;N[C]===l;)S++,C++;for(var v=(N.length-C)*c+1>>>0,b=new Uint8Array(v);C<N.length;){var g=t[N.charCodeAt(C)];if(g===255)return;for(var R=0,z=v-1;(g!==0||R<E)&&z!==-1;z--,R++)g+=o*b[z]>>>0,b[z]=g%256>>>0,g=g/256>>>0;if(g!==0)throw new Error("Non-zero carry");E=R,C++}for(var U=v-E;U!==v&&b[U]===0;)U++;var F=wl.allocUnsafe(S+(v-U));F.fill(0,0,S);for(var D=S;U!==v;)F[D++]=b[U++];return F}function x(N){var C=p(N);if(C)return C;throw new Error("Non-base"+o+" character")}return{encode:d,decodeUnsafe:p,decode:x}}var n_=t_,r_=n_,s_="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",wx=r_(s_);const rn=ls(wx),i_=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ps=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ms=new Uint32Array(64);class o_ extends ax{constructor(){super(64,32,8,!1),this.A=ps[0]|0,this.B=ps[1]|0,this.C=ps[2]|0,this.D=ps[3]|0,this.E=ps[4]|0,this.F=ps[5]|0,this.G=ps[6]|0,this.H=ps[7]|0}get(){const{A:t,B:n,C:r,D:s,E:i,F:o,G:l,H:c}=this;return[t,n,r,s,i,o,l,c]}set(t,n,r,s,i,o,l,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=l|0,this.H=c|0}process(t,n){for(let p=0;p<16;p++,n+=4)ms[p]=t.getUint32(n,!1);for(let p=16;p<64;p++){const x=ms[p-15],N=ms[p-2],C=Ar(x,7)^Ar(x,18)^x>>>3,S=Ar(N,17)^Ar(N,19)^N>>>10;ms[p]=S+ms[p-7]+C+ms[p-16]|0}let{A:r,B:s,C:i,D:o,E:l,F:c,G:u,H:d}=this;for(let p=0;p<64;p++){const x=Ar(l,6)^Ar(l,11)^Ar(l,25),N=d+x+qE(l,c,u)+i_[p]+ms[p]|0,S=(Ar(r,2)^Ar(r,13)^Ar(r,22))+GE(r,s,i)|0;d=u,u=c,c=l,l=o+N|0,o=i,i=s,s=r,r=N+S|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,l=l+this.E|0,c=c+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(r,s,i,o,l,c,u,d)}roundClean(){ms.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Gf=ix(()=>new o_);var nn={};function Hr(e,t,n){return t<=e&&e<=n}function Jc(e){if(e===void 0)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function a_(e){for(var t=String(e),n=t.length,r=0,s=[];r<n;){var i=t.charCodeAt(r);if(i<55296||i>57343)s.push(i);else if(56320<=i&&i<=57343)s.push(65533);else if(55296<=i&&i<=56319)if(r===n-1)s.push(65533);else{var o=e.charCodeAt(r+1);if(56320<=o&&o<=57343){var l=i&1023,c=o&1023;s.push(65536+(l<<10)+c),r+=1}else s.push(65533)}r+=1}return s}function l_(e){for(var t="",n=0;n<e.length;++n){var r=e[n];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return t}var gc=-1;function bp(e){this.tokens=[].slice.call(e)}bp.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():gc},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var go=-1;function vd(e,t){if(e)throw TypeError("Decoder error");return t||65533}var yc="utf-8";function xc(e,t){if(!(this instanceof xc))return new xc(e,t);if(e=e!==void 0?String(e).toLowerCase():yc,e!==yc)throw new Error("Encoding not supported. Only utf-8 is supported");t=Jc(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}xc.prototype={decode:function(t,n){var r;typeof t=="object"&&t instanceof ArrayBuffer?r=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):r=new Uint8Array(0),n=Jc(n),this._streaming||(this._decoder=new c_({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var s=new bp(r),i=[],o;!s.endOfStream()&&(o=this._decoder.handler(s,s.read()),o!==go);)o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));if(!this._streaming){do{if(o=this._decoder.handler(s,s.read()),o===go)break;o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o))}while(!s.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),l_(i)}};function wc(e,t){if(!(this instanceof wc))return new wc(e,t);if(e=e!==void 0?String(e).toLowerCase():yc,e!==yc)throw new Error("Encoding not supported. Only utf-8 is supported");t=Jc(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}wc.prototype={encode:function(t,n){t=t?String(t):"",n=Jc(n),this._streaming||(this._encoder=new u_(this._options)),this._streaming=!!n.stream;for(var r=[],s=new bp(a_(t)),i;!s.endOfStream()&&(i=this._encoder.handler(s,s.read()),i!==go);)Array.isArray(i)?r.push.apply(r,i):r.push(i);if(!this._streaming){for(;i=this._encoder.handler(s,s.read()),i!==go;)Array.isArray(i)?r.push.apply(r,i):r.push(i);this._encoder=null}return new Uint8Array(r)}};function c_(e){var t=e.fatal,n=0,r=0,s=0,i=128,o=191;this.handler=function(l,c){if(c===gc&&s!==0)return s=0,vd(t);if(c===gc)return go;if(s===0){if(Hr(c,0,127))return c;if(Hr(c,194,223))s=1,n=c-192;else if(Hr(c,224,239))c===224&&(i=160),c===237&&(o=159),s=2,n=c-224;else if(Hr(c,240,244))c===240&&(i=144),c===244&&(o=143),s=3,n=c-240;else return vd(t);return n=n<<6*s,null}if(!Hr(c,i,o))return n=s=r=0,i=128,o=191,l.prepend(c),vd(t);if(i=128,o=191,r+=1,n+=c-128<<6*(s-r),r!==s)return null;var u=n;return n=s=r=0,u}}function u_(e){e.fatal,this.handler=function(t,n){if(n===gc)return go;if(Hr(n,0,127))return n;var r,s;Hr(n,128,2047)?(r=1,s=192):Hr(n,2048,65535)?(r=2,s=224):Hr(n,65536,1114111)&&(r=3,s=240);for(var i=[(n>>6*r)+s];r>0;){var o=n>>6*(r-1);i.push(128|o&63),r-=1}return i}}const d_=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:xc,TextEncoder:wc},Symbol.toStringTag,{value:"Module"})),f_=hh(d_);var h_=Nr&&Nr.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),p_=Nr&&Nr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Lr=Nr&&Nr.__decorate||function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},m_=Nr&&Nr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.hasOwnProperty.call(e,n)&&h_(t,e,n);return p_(t,e),t},vx=Nr&&Nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nn,"__esModule",{value:!0});var bx=nn.deserializeUnchecked=jx=nn.deserialize=kx=nn.serialize=nn.BinaryReader=nn.BinaryWriter=nn.BorshError=nn.baseDecode=nn.baseEncode=void 0;const ks=vx(xx),Sx=vx(wx),g_=m_(f_),y_=typeof TextDecoder!="function"?g_.TextDecoder:TextDecoder,x_=new y_("utf-8",{fatal:!0});function w_(e){return typeof e=="string"&&(e=mt.from(e,"utf8")),Sx.default.encode(mt.from(e))}nn.baseEncode=w_;function v_(e){return mt.from(Sx.default.decode(e))}nn.baseDecode=v_;const bd=1024;class Sn extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}nn.BorshError=Sn;class Ex{constructor(){this.buf=mt.alloc(bd),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=mt.concat([this.buf,mt.alloc(bd)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(mt.from(new ks.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(mt.from(new ks.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(mt.from(new ks.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(mt.from(new ks.default(t).toArray("le",64)))}writeBuffer(t){this.buf=mt.concat([mt.from(this.buf.subarray(0,this.length)),t,mt.alloc(bd)]),this.length+=t.length}writeString(t){this.maybeResize();const n=mt.from(t,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(t){this.writeBuffer(mt.from(t))}writeArray(t,n){this.maybeResize(),this.writeU32(t.length);for(const r of t)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}nn.BinaryWriter=Ex;function Or(e,t,n){const r=n.value;n.value=function(...s){try{return r.apply(this,s)}catch(i){if(i instanceof RangeError){const o=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new Sn("Reached the end of buffer when deserializing")}throw i}}}class tr{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new ks.default(t,"le")}readU128(){const t=this.readBuffer(16);return new ks.default(t,"le")}readU256(){const t=this.readBuffer(32);return new ks.default(t,"le")}readU512(){const t=this.readBuffer(64);return new ks.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new Sn(`Expected buffer length ${t} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,n}readString(){const t=this.readU32(),n=this.readBuffer(t);try{return x_.decode(n)}catch(r){throw new Sn(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const n=this.readU32(),r=Array();for(let s=0;s<n;++s)r.push(t());return r}}Lr([Or],tr.prototype,"readU8",null);Lr([Or],tr.prototype,"readU16",null);Lr([Or],tr.prototype,"readU32",null);Lr([Or],tr.prototype,"readU64",null);Lr([Or],tr.prototype,"readU128",null);Lr([Or],tr.prototype,"readU256",null);Lr([Or],tr.prototype,"readU512",null);Lr([Or],tr.prototype,"readString",null);Lr([Or],tr.prototype,"readFixedArray",null);Lr([Or],tr.prototype,"readArray",null);nn.BinaryReader=tr;function Nx(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Xs(e,t,n,r,s){try{if(typeof r=="string")s[`write${Nx(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new Sn(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);s.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new Sn(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let i=0;i<r[1];i++)Xs(e,null,n[i],r[0],s)}else s.writeArray(n,i=>{Xs(e,t,i,r[0],s)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?s.writeU8(0):(s.writeU8(1),Xs(e,t,n,r.type,s));break}case"map":{s.writeU32(n.size),n.forEach((i,o)=>{Xs(e,t,o,r.key,s),Xs(e,t,i,r.value,s)});break}default:throw new Sn(`FieldType ${r} unrecognized`)}else _x(e,n,s)}catch(i){throw i instanceof Sn&&i.addToFieldPath(t),i}}function _x(e,t,n){if(typeof t.borshSerialize=="function"){t.borshSerialize(n);return}const r=e.get(t.constructor);if(!r)throw new Sn(`Class ${t.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([s,i])=>{Xs(e,s,t[s],i,n)});else if(r.kind==="enum"){const s=t[r.field];for(let i=0;i<r.values.length;++i){const[o,l]=r.values[i];if(o===s){n.writeU8(i),Xs(e,o,t[o],l,n);break}}}else throw new Sn(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}function b_(e,t,n=Ex){const r=new n;return _x(e,t,r),r.toArray()}var kx=nn.serialize=b_;function Js(e,t,n,r){try{if(typeof n=="string")return r[`read${Nx(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const s=[];for(let i=0;i<n[1];i++)s.push(Js(e,null,n[0],r));return s}else return r.readArray(()=>Js(e,t,n[0],r))}if(n.kind==="option")return r.readU8()?Js(e,t,n.type,r):void 0;if(n.kind==="map"){let s=new Map;const i=r.readU32();for(let o=0;o<i;o++){const l=Js(e,t,n.key,r),c=Js(e,t,n.value,r);s.set(l,c)}return s}return Sp(e,n,r)}catch(s){throw s instanceof Sn&&s.addToFieldPath(t),s}}function Sp(e,t,n){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(n);const r=e.get(t);if(!r)throw new Sn(`Class ${t.name} is missing in schema`);if(r.kind==="struct"){const s={};for(const[i,o]of e.get(t).fields)s[i]=Js(e,i,o,n);return new t(s)}if(r.kind==="enum"){const s=n.readU8();if(s>=r.values.length)throw new Sn(`Enum index: ${s} is out of range`);const[i,o]=r.values[s],l=Js(e,i,o,n);return new t({[i]:l})}throw new Sn(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}function S_(e,t,n,r=tr){const s=new r(n),i=Sp(e,t,s);if(s.offset<n.length)throw new Sn(`Unexpected ${n.length-s.offset} bytes after deserialized data`);return i}var jx=nn.deserialize=S_;function E_(e,t,n,r=tr){const s=new r(n);return Sp(e,t,s)}bx=nn.deserializeUnchecked=E_;var Q={};Object.defineProperty(Q,"__esModule",{value:!0});Q.s16=Q.s8=Q.nu64be=Q.u48be=Q.u40be=Q.u32be=Q.u24be=Q.u16be=Qt=Q.nu64=Q.u48=Q.u40=Ee=Q.u32=Q.u24=or=Q.u16=ze=Q.u8=ui=Q.offset=Q.greedy=Q.Constant=Q.UTF8=Q.CString=Q.Blob=Q.Boolean=Q.BitField=Q.BitStructure=Q.VariantLayout=Q.Union=Q.UnionLayoutDiscriminator=Q.UnionDiscriminator=Q.Structure=Q.Sequence=Q.DoubleBE=Q.Double=Q.FloatBE=Q.Float=Q.NearInt64BE=Q.NearInt64=Q.NearUInt64BE=Q.NearUInt64=Q.IntBE=Q.Int=Q.UIntBE=Q.UInt=Q.OffsetLayout=Q.GreedyCount=Q.ExternalLayout=Q.bindConstructorLayout=Q.nameWithProperty=Q.Layout=Q.uint8ArrayToBuffer=Q.checkUint8Array=void 0;Q.constant=Q.utf8=Q.cstr=Qe=Q.blob=Q.unionLayoutDiscriminator=Q.union=gn=Q.seq=Q.bits=xe=Q.struct=Q.f64be=Q.f64=Q.f32be=Q.f32=Q.ns64be=Q.s48be=Q.s40be=Q.s32be=Q.s24be=Q.s16be=Wn=Q.ns64=Q.s48=Q.s40=Q.s32=Q.s24=void 0;const Ep=vp;function Ao(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Q.checkUint8Array=Ao;function We(e){return Ao(e),Ep.Buffer.from(e.buffer,e.byteOffset,e.length)}Q.uint8ArrayToBuffer=We;class Ge{constructor(t,n){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=n}makeDestinationObject(){return{}}getSpan(t,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=t,n}fromArray(t){}}Q.Layout=Ge;function Np(e,t){return t.property?e+"["+t.property+"]":e}Q.nameWithProperty=Np;function N_(e,t){if(typeof e!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof Ge))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value(n,r){return t.encode(this,n,r)},writable:!0}),Object.defineProperty(e,"decode",{value(n,r){return t.decode(n,r)},writable:!0})}Q.bindConstructorLayout=N_;class In extends Ge{isCount(){throw new Error("ExternalLayout is abstract")}}Q.ExternalLayout=In;class Cx extends In{constructor(t=1,n){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=t}isCount(){return!0}decode(t,n=0){Ao(t);const r=t.length-n;return Math.floor(r/this.elementSpan)}encode(t,n,r){return 0}}Q.GreedyCount=Cx;class _p extends In{constructor(t,n=0,r){if(!(t instanceof Ge))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=n}isCount(){return this.layout instanceof fr||this.layout instanceof Er}decode(t,n=0){return this.layout.decode(t,n+this.offset)}encode(t,n,r=0){return this.layout.encode(t,n,r+this.offset)}}Q.OffsetLayout=_p;class fr extends Ge{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n=0){return We(t).readUIntLE(n,this.span)}encode(t,n,r=0){return We(n).writeUIntLE(t,r,this.span),this.span}}Q.UInt=fr;class Er extends Ge{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n=0){return We(t).readUIntBE(n,this.span)}encode(t,n,r=0){return We(n).writeUIntBE(t,r,this.span),this.span}}Q.UIntBE=Er;class _i extends Ge{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n=0){return We(t).readIntLE(n,this.span)}encode(t,n,r=0){return We(n).writeIntLE(t,r,this.span),this.span}}Q.Int=_i;class Io extends Ge{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n=0){return We(t).readIntBE(n,this.span)}encode(t,n,r=0){return We(n).writeIntBE(t,r,this.span),this.span}}Q.IntBE=Io;const Yf=Math.pow(2,32);function eu(e){const t=Math.floor(e/Yf),n=e-t*Yf;return{hi32:t,lo32:n}}function tu(e,t){return e*Yf+t}class Ax extends Ge{constructor(t){super(8,t)}decode(t,n=0){const r=We(t),s=r.readUInt32LE(n),i=r.readUInt32LE(n+4);return tu(i,s)}encode(t,n,r=0){const s=eu(t),i=We(n);return i.writeUInt32LE(s.lo32,r),i.writeUInt32LE(s.hi32,r+4),8}}Q.NearUInt64=Ax;class Ix extends Ge{constructor(t){super(8,t)}decode(t,n=0){const r=We(t),s=r.readUInt32BE(n),i=r.readUInt32BE(n+4);return tu(s,i)}encode(t,n,r=0){const s=eu(t),i=We(n);return i.writeUInt32BE(s.hi32,r),i.writeUInt32BE(s.lo32,r+4),8}}Q.NearUInt64BE=Ix;class Tx extends Ge{constructor(t){super(8,t)}decode(t,n=0){const r=We(t),s=r.readUInt32LE(n),i=r.readInt32LE(n+4);return tu(i,s)}encode(t,n,r=0){const s=eu(t),i=We(n);return i.writeUInt32LE(s.lo32,r),i.writeInt32LE(s.hi32,r+4),8}}Q.NearInt64=Tx;class Mx extends Ge{constructor(t){super(8,t)}decode(t,n=0){const r=We(t),s=r.readInt32BE(n),i=r.readUInt32BE(n+4);return tu(s,i)}encode(t,n,r=0){const s=eu(t),i=We(n);return i.writeInt32BE(s.hi32,r),i.writeUInt32BE(s.lo32,r+4),8}}Q.NearInt64BE=Mx;class Rx extends Ge{constructor(t){super(4,t)}decode(t,n=0){return We(t).readFloatLE(n)}encode(t,n,r=0){return We(n).writeFloatLE(t,r),4}}Q.Float=Rx;class Bx extends Ge{constructor(t){super(4,t)}decode(t,n=0){return We(t).readFloatBE(n)}encode(t,n,r=0){return We(n).writeFloatBE(t,r),4}}Q.FloatBE=Bx;class Px extends Ge{constructor(t){super(8,t)}decode(t,n=0){return We(t).readDoubleLE(n)}encode(t,n,r=0){return We(n).writeDoubleLE(t,r),8}}Q.Double=Px;class Lx extends Ge{constructor(t){super(8,t)}decode(t,n=0){return We(t).readDoubleBE(n)}encode(t,n,r=0){return We(n).writeDoubleBE(t,r),8}}Q.DoubleBE=Lx;class Ox extends Ge{constructor(t,n,r){if(!(t instanceof Ge))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof In&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(n instanceof In)&&0<t.span&&(s=n*t.span),super(s,r),this.elementLayout=t,this.count=n}getSpan(t,n=0){if(0<=this.span)return this.span;let r=0,s=this.count;if(s instanceof In&&(s=s.decode(t,n)),0<this.elementLayout.span)r=s*this.elementLayout.span;else{let i=0;for(;i<s;)r+=this.elementLayout.getSpan(t,n+r),++i}return r}decode(t,n=0){const r=[];let s=0,i=this.count;for(i instanceof In&&(i=i.decode(t,n));s<i;)r.push(this.elementLayout.decode(t,n)),n+=this.elementLayout.getSpan(t,n),s+=1;return r}encode(t,n,r=0){const s=this.elementLayout,i=t.reduce((o,l)=>o+s.encode(l,n,r+o),0);return this.count instanceof In&&this.count.encode(t.length,n,r),i}}Q.Sequence=Ox;class Ux extends Ge{constructor(t,n,r){if(!(Array.isArray(t)&&t.reduce((i,o)=>i&&o instanceof Ge,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const i of t)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=t.reduce((i,o)=>i+o.getSpan(),0)}catch{}super(s,n),this.fields=t,this.decodePrefixes=!!r}getSpan(t,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((s,i)=>{const o=i.getSpan(t,n);return n+=o,s+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(t,n=0){Ao(t);const r=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(r[s.property]=s.decode(t,n)),n+=s.getSpan(t,n),this.decodePrefixes&&t.length===n)break;return r}encode(t,n,r=0){const s=r;let i=0,o=0;for(const l of this.fields){let c=l.span;if(o=0<c?c:0,l.property!==void 0){const u=t[l.property];u!==void 0&&(o=l.encode(u,n,r),0>c&&(c=l.getSpan(n,r)))}i=r,r+=c}return i+o-s}fromArray(t){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<t.length&&(n[r.property]=t.shift());return n}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===t)return n}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===t)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}Q.Structure=Ux;class kp{constructor(t){this.property=t}decode(t,n){throw new Error("UnionDiscriminator is abstract")}encode(t,n,r){throw new Error("UnionDiscriminator is abstract")}}Q.UnionDiscriminator=kp;class vc extends kp{constructor(t,n){if(!(t instanceof In&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||t.property||"variant"),this.layout=t}decode(t,n){return this.layout.decode(t,n)}encode(t,n,r){return this.layout.encode(t,n,r)}}Q.UnionLayoutDiscriminator=vc;class jp extends Ge{constructor(t,n,r){let s;if(t instanceof fr||t instanceof Er)s=new vc(new _p(t));else if(t instanceof In&&t.isCount())s=new vc(t);else if(t instanceof kp)s=t;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Ge))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let i=-1;n&&(i=n.span,0<=i&&(t instanceof fr||t instanceof Er)&&(i+=s.layout.span)),super(i,r),this.discriminator=s,this.usesPrefixDiscriminator=t instanceof fr||t instanceof Er,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(l){return o(l)},this.configGetSourceVariant=function(l){o=l.bind(this)}}getSpan(t,n=0){if(0<=this.span)return this.span;const r=this.getVariant(t,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(t,n)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const n=this.registry[t[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(t,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(t,r.property))return r}throw new Error("unable to infer src variant")}decode(t,n=0){let r;const s=this.discriminator,i=s.decode(t,n),o=this.registry[i];if(o===void 0){const l=this.defaultLayout;let c=0;this.usesPrefixDiscriminator&&(c=s.layout.span),r=this.makeDestinationObject(),r[s.property]=i,r[l.property]=l.decode(t,n+c)}else r=o.decode(t,n);return r}encode(t,n,r=0){const s=this.getSourceVariant(t);if(s===void 0){const i=this.discriminator,o=this.defaultLayout;let l=0;return this.usesPrefixDiscriminator&&(l=i.layout.span),i.encode(t[i.property],n,r),l+o.encode(t[o.property],n,r+l)}return s.encode(t,n,r)}addVariant(t,n,r){const s=new zx(this,t,n,r);return this.registry[t]=s,s}getVariant(t,n=0){let r;return t instanceof Uint8Array?r=this.discriminator.decode(t,n):r=t,this.registry[r]}}Q.Union=jp;class zx extends Ge{constructor(t,n,r,s){if(!(t instanceof jp))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&s===void 0&&(s=r,r=null),r){if(!(r instanceof Ge))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=r.span&&r.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=r?r.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,s),this.union=t,this.variant=n,this.layout=r||null}getSpan(t,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let s=0;return this.layout&&(s=this.layout.getSpan(t,n+r)),r+s}decode(t,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(t,n))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(t,n+s):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(t,n,r=0){let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let i=s;if(this.layout&&(this.layout.encode(t[this.property],n,r+s),i+=this.layout.getSpan(n,r+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}Q.VariantLayout=zx;function Ri(e){return 0>e&&(e+=4294967296),e}class Cp extends Ge{constructor(t,n,r){if(!(t instanceof fr||t instanceof Er))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,r),this.word=t,this.msb=!!n,this.fields=[];let s=0;this._packedSetValue=function(i){return s=Ri(i),this},this._packedGetValue=function(){return s}}decode(t,n=0){const r=this.makeDestinationObject(),s=this.word.decode(t,n);this._packedSetValue(s);for(const i of this.fields)i.property!==void 0&&(r[i.property]=i.decode(t));return r}encode(t,n,r=0){const s=this.word.decode(n,r);this._packedSetValue(s);for(const i of this.fields)if(i.property!==void 0){const o=t[i.property];o!==void 0&&i.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(t,n){const r=new Ap(this,t,n);return this.fields.push(r),r}addBoolean(t){const n=new Fx(this,t);return this.fields.push(n),n}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===t)return n}}Q.BitStructure=Cp;class Ap{constructor(t,n,r){if(!(t instanceof Cp))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const s=8*t.span,i=t.fields.reduce((o,l)=>o+l.bits,0);if(n+i>s)throw new Error("bits too long for span remainder ("+(s-i)+" of "+s+" remain)");this.container=t,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=s-i-n),this.wordMask=Ri(this.valueMask<<this.start),this.property=r}decode(t,n){const r=this.container._packedGetValue();return Ri(r&this.wordMask)>>>this.start}encode(t){if(typeof t!="number"||!Number.isInteger(t)||t!==Ri(t&this.valueMask))throw new TypeError(Np("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=Ri(t<<this.start);this.container._packedSetValue(Ri(n&~this.wordMask)|r)}}Q.BitField=Ap;let Fx=class extends Ap{constructor(t,n){super(t,1,n)}decode(t,n){return!!super.decode(t,n)}encode(t){typeof t=="boolean"&&(t=+t),super.encode(t)}};Q.Boolean=Fx;class Dx extends Ge{constructor(t,n){if(!(t instanceof In&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof In||(r=t),super(r,n),this.length=t}getSpan(t,n){let r=this.span;return 0>r&&(r=this.length.decode(t,n)),r}decode(t,n=0){let r=this.span;return 0>r&&(r=this.length.decode(t,n)),We(t).slice(n,n+r)}encode(t,n,r){let s=this.length;if(this.length instanceof In&&(s=t.length),!(t instanceof Uint8Array&&s===t.length))throw new TypeError(Np("Blob.encode",this)+" requires (length "+s+") Uint8Array as src");if(r+s>n.length)throw new RangeError("encoding overruns Uint8Array");const i=We(t);return We(n).write(i.toString("hex"),r,s,"hex"),this.length instanceof In&&this.length.encode(s,n,r),s}}Q.Blob=Dx;class $x extends Ge{constructor(t){super(-1,t)}getSpan(t,n=0){Ao(t);let r=n;for(;r<t.length&&t[r]!==0;)r+=1;return 1+r-n}decode(t,n=0){const r=this.getSpan(t,n);return We(t).slice(n,n+r-1).toString("utf-8")}encode(t,n,r=0){typeof t!="string"&&(t=String(t));const s=Ep.Buffer.from(t,"utf8"),i=s.length;if(r+i>n.length)throw new RangeError("encoding overruns Buffer");const o=We(n);return s.copy(o,r),o[r+i]=0,i+1}}Q.CString=$x;class Wx extends Ge{constructor(t,n){if(typeof t=="string"&&n===void 0&&(n=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=t}getSpan(t,n=0){return Ao(t),t.length-n}decode(t,n=0){const r=this.getSpan(t,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return We(t).slice(n,n+r).toString("utf-8")}encode(t,n,r=0){typeof t!="string"&&(t=String(t));const s=Ep.Buffer.from(t,"utf8"),i=s.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return s.copy(We(n),r),i}}Q.UTF8=Wx;class Kx extends Ge{constructor(t,n){super(0,n),this.value=t}decode(t,n){return this.value}encode(t,n,r){return 0}}Q.Constant=Kx;Q.greedy=(e,t)=>new Cx(e,t);var ui=Q.offset=(e,t,n)=>new _p(e,t,n),ze=Q.u8=e=>new fr(1,e),or=Q.u16=e=>new fr(2,e);Q.u24=e=>new fr(3,e);var Ee=Q.u32=e=>new fr(4,e);Q.u40=e=>new fr(5,e);Q.u48=e=>new fr(6,e);var Qt=Q.nu64=e=>new Ax(e);Q.u16be=e=>new Er(2,e);Q.u24be=e=>new Er(3,e);Q.u32be=e=>new Er(4,e);Q.u40be=e=>new Er(5,e);Q.u48be=e=>new Er(6,e);Q.nu64be=e=>new Ix(e);Q.s8=e=>new _i(1,e);Q.s16=e=>new _i(2,e);Q.s24=e=>new _i(3,e);Q.s32=e=>new _i(4,e);Q.s40=e=>new _i(5,e);Q.s48=e=>new _i(6,e);var Wn=Q.ns64=e=>new Tx(e);Q.s16be=e=>new Io(2,e);Q.s24be=e=>new Io(3,e);Q.s32be=e=>new Io(4,e);Q.s40be=e=>new Io(5,e);Q.s48be=e=>new Io(6,e);Q.ns64be=e=>new Mx(e);Q.f32=e=>new Rx(e);Q.f32be=e=>new Bx(e);Q.f64=e=>new Px(e);Q.f64be=e=>new Lx(e);var xe=Q.struct=(e,t,n)=>new Ux(e,t,n);Q.bits=(e,t,n)=>new Cp(e,t,n);var gn=Q.seq=(e,t,n)=>new Ox(e,t,n);Q.union=(e,t,n)=>new jp(e,t,n);Q.unionLayoutDiscriminator=(e,t)=>new vc(e,t);var Qe=Q.blob=(e,t)=>new Dx(e,t);Q.cstr=e=>new $x(e);Q.utf8=(e,t)=>new Wx(e,t);Q.constant=(e,t)=>new Kx(e,t);var Ga={};Object.defineProperty(Ga,"__esModule",{value:!0});function __(e){{const t=mt.from(e);t.reverse();const n=t.toString("hex");return n.length===0?BigInt(0):BigInt(`0x${n}`)}}var Hx=Ga.toBigIntLE=__;function k_(e){{const t=e.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}}Ga.toBigIntBE=k_;function j_(e,t){{const n=e.toString(16),r=mt.from(n.padStart(t*2,"0").slice(0,t*2),"hex");return r.reverse(),r}}var Vx=Ga.toBufferLE=j_;function C_(e,t){{const n=e.toString(16);return mt.from(n.padStart(t*2,"0").slice(0,t*2),"hex")}}Ga.toBufferBE=C_;class A_ extends TypeError{constructor(t,n){let r;const{message:s,explanation:i,...o}=t,{path:l}=t,c=l.length===0?s:`At path: ${l.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[t,...n()])}}function I_(e){return Ya(e)&&typeof e[Symbol.iterator]=="function"}function Ya(e){return typeof e=="object"&&e!=null}function bc(e){return Ya(e)&&!Array.isArray(e)}function kr(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function T_(e){const{done:t,value:n}=e.next();return t?void 0:n}function M_(e,t,n,r){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:s,branch:i}=t,{type:o}=n,{refinement:l,message:c=`Expected a value of type \`${o}\`${l?` with refinement \`${l}\``:""}, but received: \`${kr(r)}\``}=e;return{value:r,type:o,refinement:l,key:s[s.length-1],path:s,branch:i,...e,message:c}}function*Im(e,t,n,r){I_(e)||(e=[e]);for(const s of e){const i=M_(s,t,n,r);i&&(yield i)}}function*Ip(e,t,n={}){const{path:r=[],branch:s=[e],coerce:i=!1,mask:o=!1}=n,l={path:r,branch:s,mask:o};i&&(e=t.coercer(e,l));let c="valid";for(const u of t.validator(e,l))u.explanation=n.message,c="not_valid",yield[u,void 0];for(let[u,d,p]of t.entries(e,l)){const x=Ip(d,p,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,d],coerce:i,mask:o,message:n.message});for(const N of x)N[0]?(c=N[0].refinement!=null?"not_refined":"not_valid",yield[N[0],void 0]):i&&(d=N[1],u===void 0?e=d:e instanceof Map?e.set(u,d):e instanceof Set?e.add(d):Ya(e)&&(d!==void 0||u in e)&&(e[u]=d))}if(c!=="not_valid")for(const u of t.refiner(e,l))u.explanation=n.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,e])}let Ur=class{constructor(t){const{type:n,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:l=function*(){}}=t;this.type=n,this.schema=r,this.entries=l,this.coercer=o,s?this.validator=(c,u)=>{const d=s(c,u);return Im(d,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const d=i(c,u);return Im(d,u,this,c)}:this.refiner=()=>[]}assert(t,n){return R_(t,this,n)}create(t,n){return ce(t,this,n)}is(t){return qx(t,this)}mask(t,n){return B_(t,this,n)}validate(t,n={}){return Za(t,this,n)}};function R_(e,t,n){const r=Za(e,t,{message:n});if(r[0])throw r[0]}function ce(e,t,n){const r=Za(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function B_(e,t,n){const r=Za(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function qx(e,t){return!Za(e,t)[0]}function Za(e,t,n={}){const r=Ip(e,t,n),s=T_(r);return s[0]?[new A_(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,s[1]]}function ki(e,t){return new Ur({type:e,schema:null,validator:t})}function P_(){return ki("any",()=>!0)}function de(e){return new Ur({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${kr(t)}`}})}function Pr(){return ki("boolean",e=>typeof e=="boolean")}function Tp(e){return ki("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${kr(t)}`)}function ut(e){const t=kr(e),n=typeof e;return new Ur({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?e:null,validator(r){return r===e||`Expected the literal \`${t}\`, but received: ${kr(r)}`}})}function L_(){return ki("never",()=>!1)}function pe(e){return new Ur({...e,validator:(t,n)=>t===null||e.validator(t,n),refiner:(t,n)=>t===null||e.refiner(t,n)})}function Y(){return ki("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${kr(e)}`)}function Ne(e){return new Ur({...e,validator:(t,n)=>t===void 0||e.validator(t,n),refiner:(t,n)=>t===void 0||e.refiner(t,n)})}function Gx(e,t){return new Ur({type:"record",schema:null,*entries(n){if(Ya(n))for(const r in n){const s=n[r];yield[r,r,e],yield[r,s,t]}},validator(n){return bc(n)||`Expected an object, but received: ${kr(n)}`},coercer(n){return bc(n)?{...n}:n}})}function le(){return ki("string",e=>typeof e=="string"||`Expected a string, but received: ${kr(e)}`)}function Mp(e){const t=L_();return new Ur({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let s=0;s<r;s++)yield[s,n[s],e[s]||t]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${kr(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function se(e){const t=Object.keys(e);return new Ur({type:"type",schema:e,*entries(n){if(Ya(n))for(const r of t)yield[r,n[r],e[r]]},validator(n){return bc(n)||`Expected an object, but received: ${kr(n)}`},coercer(n){return bc(n)?{...n}:n}})}function Nn(e){const t=e.map(n=>n.type).join(" | ");return new Ur({type:"union",schema:null,coercer(n,r){for(const s of e){const[i,o]=s.validate(n,{coerce:!0,mask:r.mask});if(!i)return o}return n},validator(n,r){const s=[];for(const i of e){const[...o]=Ip(n,i,r),[l]=o;if(l[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${kr(n)}`,...s]}})}function To(){return ki("unknown",()=>!0)}function Qa(e,t,n){return new Ur({...e,coercer:(r,s)=>qx(r,t)?e.coercer(n(r,s),s):e.coercer(r,s)})}var vl,O_=new Uint8Array(16);function Yx(){if(!vl&&(vl=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!vl))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vl(O_)}const U_=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function nu(e){return typeof e=="string"&&U_.test(e)}var Zt=[];for(var Sd=0;Sd<256;++Sd)Zt.push((Sd+256).toString(16).substr(1));function ru(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Zt[e[t+0]]+Zt[e[t+1]]+Zt[e[t+2]]+Zt[e[t+3]]+"-"+Zt[e[t+4]]+Zt[e[t+5]]+"-"+Zt[e[t+6]]+Zt[e[t+7]]+"-"+Zt[e[t+8]]+Zt[e[t+9]]+"-"+Zt[e[t+10]]+Zt[e[t+11]]+Zt[e[t+12]]+Zt[e[t+13]]+Zt[e[t+14]]+Zt[e[t+15]]).toLowerCase();if(!nu(n))throw TypeError("Stringified UUID is invalid");return n}var Tm,Ed,Nd=0,_d=0;function z_(e,t,n){var r=t&&n||0,s=t||new Array(16);e=e||{};var i=e.node||Tm,o=e.clockseq!==void 0?e.clockseq:Ed;if(i==null||o==null){var l=e.random||(e.rng||Yx)();i==null&&(i=Tm=[l[0]|1,l[1],l[2],l[3],l[4],l[5]]),o==null&&(o=Ed=(l[6]<<8|l[7])&16383)}var c=e.msecs!==void 0?e.msecs:Date.now(),u=e.nsecs!==void 0?e.nsecs:_d+1,d=c-Nd+(u-_d)/1e4;if(d<0&&e.clockseq===void 0&&(o=o+1&16383),(d<0||c>Nd)&&e.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Nd=c,_d=u,Ed=o,c+=122192928e5;var p=((c&268435455)*1e4+u)%4294967296;s[r++]=p>>>24&255,s[r++]=p>>>16&255,s[r++]=p>>>8&255,s[r++]=p&255;var x=c/4294967296*1e4&268435455;s[r++]=x>>>8&255,s[r++]=x&255,s[r++]=x>>>24&15|16,s[r++]=x>>>16&255,s[r++]=o>>>8|128,s[r++]=o&255;for(var N=0;N<6;++N)s[r+N]=i[N];return t||ru(s)}function Zx(e){if(!nu(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}function F_(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}var D_="6ba7b810-9dad-11d1-80b4-00c04fd430c8",$_="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Qx(e,t,n){function r(s,i,o,l){if(typeof s=="string"&&(s=F_(s)),typeof i=="string"&&(i=Zx(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+s.length);if(c.set(i),c.set(s,i.length),c=n(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,o){l=l||0;for(var u=0;u<16;++u)o[l+u]=c[u];return o}return ru(c)}try{r.name=e}catch{}return r.DNS=D_,r.URL=$_,r}function W_(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return K_(H_(V_(e),e.length*8))}function K_(e){for(var t=[],n=e.length*32,r="0123456789abcdef",s=0;s<n;s+=8){var i=e[s>>5]>>>s%32&255,o=parseInt(r.charAt(i>>>4&15)+r.charAt(i&15),16);t.push(o)}return t}function Xx(e){return(e+64>>>9<<4)+14+1}function H_(e,t){e[t>>5]|=128<<t%32,e[Xx(t)-1]=t;for(var n=1732584193,r=-271733879,s=-1732584194,i=271733878,o=0;o<e.length;o+=16){var l=n,c=r,u=s,d=i;n=un(n,r,s,i,e[o],7,-680876936),i=un(i,n,r,s,e[o+1],12,-389564586),s=un(s,i,n,r,e[o+2],17,606105819),r=un(r,s,i,n,e[o+3],22,-1044525330),n=un(n,r,s,i,e[o+4],7,-176418897),i=un(i,n,r,s,e[o+5],12,1200080426),s=un(s,i,n,r,e[o+6],17,-1473231341),r=un(r,s,i,n,e[o+7],22,-45705983),n=un(n,r,s,i,e[o+8],7,1770035416),i=un(i,n,r,s,e[o+9],12,-1958414417),s=un(s,i,n,r,e[o+10],17,-42063),r=un(r,s,i,n,e[o+11],22,-1990404162),n=un(n,r,s,i,e[o+12],7,1804603682),i=un(i,n,r,s,e[o+13],12,-40341101),s=un(s,i,n,r,e[o+14],17,-1502002290),r=un(r,s,i,n,e[o+15],22,1236535329),n=dn(n,r,s,i,e[o+1],5,-165796510),i=dn(i,n,r,s,e[o+6],9,-1069501632),s=dn(s,i,n,r,e[o+11],14,643717713),r=dn(r,s,i,n,e[o],20,-373897302),n=dn(n,r,s,i,e[o+5],5,-701558691),i=dn(i,n,r,s,e[o+10],9,38016083),s=dn(s,i,n,r,e[o+15],14,-660478335),r=dn(r,s,i,n,e[o+4],20,-405537848),n=dn(n,r,s,i,e[o+9],5,568446438),i=dn(i,n,r,s,e[o+14],9,-1019803690),s=dn(s,i,n,r,e[o+3],14,-187363961),r=dn(r,s,i,n,e[o+8],20,1163531501),n=dn(n,r,s,i,e[o+13],5,-1444681467),i=dn(i,n,r,s,e[o+2],9,-51403784),s=dn(s,i,n,r,e[o+7],14,1735328473),r=dn(r,s,i,n,e[o+12],20,-1926607734),n=fn(n,r,s,i,e[o+5],4,-378558),i=fn(i,n,r,s,e[o+8],11,-2022574463),s=fn(s,i,n,r,e[o+11],16,1839030562),r=fn(r,s,i,n,e[o+14],23,-35309556),n=fn(n,r,s,i,e[o+1],4,-1530992060),i=fn(i,n,r,s,e[o+4],11,1272893353),s=fn(s,i,n,r,e[o+7],16,-155497632),r=fn(r,s,i,n,e[o+10],23,-1094730640),n=fn(n,r,s,i,e[o+13],4,681279174),i=fn(i,n,r,s,e[o],11,-358537222),s=fn(s,i,n,r,e[o+3],16,-722521979),r=fn(r,s,i,n,e[o+6],23,76029189),n=fn(n,r,s,i,e[o+9],4,-640364487),i=fn(i,n,r,s,e[o+12],11,-421815835),s=fn(s,i,n,r,e[o+15],16,530742520),r=fn(r,s,i,n,e[o+2],23,-995338651),n=hn(n,r,s,i,e[o],6,-198630844),i=hn(i,n,r,s,e[o+7],10,1126891415),s=hn(s,i,n,r,e[o+14],15,-1416354905),r=hn(r,s,i,n,e[o+5],21,-57434055),n=hn(n,r,s,i,e[o+12],6,1700485571),i=hn(i,n,r,s,e[o+3],10,-1894986606),s=hn(s,i,n,r,e[o+10],15,-1051523),r=hn(r,s,i,n,e[o+1],21,-2054922799),n=hn(n,r,s,i,e[o+8],6,1873313359),i=hn(i,n,r,s,e[o+15],10,-30611744),s=hn(s,i,n,r,e[o+6],15,-1560198380),r=hn(r,s,i,n,e[o+13],21,1309151649),n=hn(n,r,s,i,e[o+4],6,-145523070),i=hn(i,n,r,s,e[o+11],10,-1120210379),s=hn(s,i,n,r,e[o+2],15,718787259),r=hn(r,s,i,n,e[o+9],21,-343485551),n=js(n,l),r=js(r,c),s=js(s,u),i=js(i,d)}return[n,r,s,i]}function V_(e){if(e.length===0)return[];for(var t=e.length*8,n=new Uint32Array(Xx(t)),r=0;r<t;r+=8)n[r>>5]|=(e[r/8]&255)<<r%32;return n}function js(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function q_(e,t){return e<<t|e>>>32-t}function su(e,t,n,r,s,i){return js(q_(js(js(t,e),js(r,i)),s),n)}function un(e,t,n,r,s,i,o){return su(t&n|~t&r,e,t,s,i,o)}function dn(e,t,n,r,s,i,o){return su(t&r|n&~r,e,t,s,i,o)}function fn(e,t,n,r,s,i,o){return su(t^n^r,e,t,s,i,o)}function hn(e,t,n,r,s,i,o){return su(n^(t|~r),e,t,s,i,o)}var G_=Qx("v3",48,W_);function Y_(e,t,n){e=e||{};var r=e.random||(e.rng||Yx)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=r[s];return t}return ru(r)}function Z_(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function kd(e,t){return e<<t|e>>>32-t}function Q_(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var r=unescape(encodeURIComponent(e));e=[];for(var s=0;s<r.length;++s)e.push(r.charCodeAt(s))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var i=e.length/4+2,o=Math.ceil(i/16),l=new Array(o),c=0;c<o;++c){for(var u=new Uint32Array(16),d=0;d<16;++d)u[d]=e[c*64+d*4]<<24|e[c*64+d*4+1]<<16|e[c*64+d*4+2]<<8|e[c*64+d*4+3];l[c]=u}l[o-1][14]=(e.length-1)*8/Math.pow(2,32),l[o-1][14]=Math.floor(l[o-1][14]),l[o-1][15]=(e.length-1)*8&4294967295;for(var p=0;p<o;++p){for(var x=new Uint32Array(80),N=0;N<16;++N)x[N]=l[p][N];for(var C=16;C<80;++C)x[C]=kd(x[C-3]^x[C-8]^x[C-14]^x[C-16],1);for(var S=n[0],E=n[1],v=n[2],b=n[3],g=n[4],R=0;R<80;++R){var z=Math.floor(R/20),U=kd(S,5)+Z_(z,E,v,b)+g+t[z]+x[R]>>>0;g=b,b=v,v=kd(E,30)>>>0,E=S,S=U}n[0]=n[0]+S>>>0,n[1]=n[1]+E>>>0,n[2]=n[2]+v>>>0,n[3]=n[3]+b>>>0,n[4]=n[4]+g>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var X_=Qx("v5",80,Q_);const J_="00000000-0000-0000-0000-000000000000";function e4(e){if(!nu(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}const t4=Object.freeze(Object.defineProperty({__proto__:null,NIL:J_,parse:Zx,stringify:ru,v1:z_,v3:G_,v4:Y_,v5:X_,validate:nu,version:e4},Symbol.toStringTag,{value:"Module"})),Jx=hh(t4),n4=Jx.v4,r4=function(e,t,n,r){if(typeof e!="string")throw new TypeError(e+" must be a string");r=r||{};const s=typeof r.version=="number"?r.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");const i={method:e};if(s===2&&(i.jsonrpc="2.0"),t){if(typeof t!="object"&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");i.params=t}if(typeof n>"u"){const o=typeof r.generator=="function"?r.generator:function(){return n4()};i.id=o(i,r)}else s===2&&n===null?r.notificationIdNull&&(i.id=null):i.id=n;return i};var s4=r4;const i4=Jx.v4,o4=s4,Ra=function(e,t){if(!(this instanceof Ra))return new Ra(e,t);t||(t={}),this.options={reviver:typeof t.reviver<"u"?t.reviver:null,replacer:typeof t.replacer<"u"?t.replacer:null,generator:typeof t.generator<"u"?t.generator:function(){return i4()},version:typeof t.version<"u"?t.version:2,notificationIdNull:typeof t.notificationIdNull=="boolean"?t.notificationIdNull:!1},this.callServer=e};var a4=Ra;Ra.prototype.request=function(e,t,n,r){const s=this;let i=null;const o=Array.isArray(e)&&typeof t=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&e&&typeof e=="object"&&typeof t=="function")r=t,i=e;else{typeof n=="function"&&(r=n,n=void 0);const u=typeof r=="function";try{i=o4(e,t,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(d){if(u)return r(d);throw d}if(!u)return i}let c;try{c=JSON.stringify(i,this.options.replacer)}catch(u){return r(u)}return this.callServer(c,function(u,d){s._parseResponse(u,d,r)}),i};Ra.prototype._parseResponse=function(e,t,n){if(e){n(e);return}if(!t)return n();let r;try{r=JSON.parse(t,this.options.reviver)}catch(s){return n(s)}if(n.length===3)if(Array.isArray(r)){const s=function(o){return typeof o.error<"u"},i=function(o){return!s(o)};return n(null,r.filter(s),r.filter(i))}else return n(null,r.error,r.result);n(null,r)};const l4=ls(a4);var ew={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,p,x){if(typeof d!="function")throw new TypeError("The listener must be a function");var N=new s(d,p||c,x),C=n?n+u:u;return c._events[C]?c._events[C].fn?c._events[C]=[c._events[C],N]:c._events[C].push(N):(c._events[C]=N,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,p;if(this._eventsCount===0)return u;for(p in d=this._events)t.call(d,p)&&u.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var x=0,N=p.length,C=new Array(N);x<N;x++)C[x]=p[x].fn;return C},l.prototype.listenerCount=function(u){var d=n?n+u:u,p=this._events[d];return p?p.fn?1:p.length:0},l.prototype.emit=function(u,d,p,x,N,C){var S=n?n+u:u;if(!this._events[S])return!1;var E=this._events[S],v=arguments.length,b,g;if(E.fn){switch(E.once&&this.removeListener(u,E.fn,void 0,!0),v){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,d),!0;case 3:return E.fn.call(E.context,d,p),!0;case 4:return E.fn.call(E.context,d,p,x),!0;case 5:return E.fn.call(E.context,d,p,x,N),!0;case 6:return E.fn.call(E.context,d,p,x,N,C),!0}for(g=1,b=new Array(v-1);g<v;g++)b[g-1]=arguments[g];E.fn.apply(E.context,b)}else{var R=E.length,z;for(g=0;g<R;g++)switch(E[g].once&&this.removeListener(u,E[g].fn,void 0,!0),v){case 1:E[g].fn.call(E[g].context);break;case 2:E[g].fn.call(E[g].context,d);break;case 3:E[g].fn.call(E[g].context,d,p);break;case 4:E[g].fn.call(E[g].context,d,p,x);break;default:if(!b)for(z=1,b=new Array(v-1);z<v;z++)b[z-1]=arguments[z];E[g].fn.apply(E[g].context,b)}}return!0},l.prototype.on=function(u,d,p){return i(this,u,d,p,!1)},l.prototype.once=function(u,d,p){return i(this,u,d,p,!0)},l.prototype.removeListener=function(u,d,p,x){var N=n?n+u:u;if(!this._events[N])return this;if(!d)return o(this,N),this;var C=this._events[N];if(C.fn)C.fn===d&&(!x||C.once)&&(!p||C.context===p)&&o(this,N);else{for(var S=0,E=[],v=C.length;S<v;S++)(C[S].fn!==d||x&&!C[S].once||p&&C[S].context!==p)&&E.push(C[S]);E.length?this._events[N]=E.length===1?E[0]:E:o(this,N)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(ew);var c4=ew.exports;const tw=ls(c4);var u4=class extends tw{constructor(t,n,r){super();Kt(this,"socket");this.socket=new window.WebSocket(t,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=s=>this.emit("message",s.data),this.socket.onerror=s=>this.emit("error",s),this.socket.onclose=s=>{this.emit("close",s.code,s.reason)}}send(t,n,r){const s=r||n;try{this.socket.send(t),s()}catch(i){s(i)}}close(t,n){this.socket.close(t,n)}addEventListener(t,n,r){this.socket.addEventListener(t,n,r)}};function d4(e,t){return new u4(e,t)}var f4=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}},h4=class extends tw{constructor(t,n="ws://localhost:8080",{autoconnect:r=!0,reconnect:s=!0,reconnect_interval:i=1e3,max_reconnects:o=5,...l}={},c,u){super();Kt(this,"address");Kt(this,"rpc_id");Kt(this,"queue");Kt(this,"options");Kt(this,"autoconnect");Kt(this,"ready");Kt(this,"reconnect");Kt(this,"reconnect_timer_id");Kt(this,"reconnect_interval");Kt(this,"max_reconnects");Kt(this,"rest_options");Kt(this,"current_reconnects");Kt(this,"generate_request_id");Kt(this,"socket");Kt(this,"webSocketFactory");Kt(this,"dataPack");this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=n,this.autoconnect=r,this.ready=!1,this.reconnect=s,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=o,this.rest_options=l,this.current_reconnects=0,this.generate_request_id=c||(()=>++this.rpc_id),u?this.dataPack=u:this.dataPack=new f4,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,n,r,s){return!s&&typeof r=="object"&&(s=r,r=null),new Promise((i,o)=>{if(!this.ready)return o(new Error("socket not ready"));const l=this.generate_request_id(t,n),c={jsonrpc:"2.0",method:t,params:n||void 0,id:l};this.socket.send(this.dataPack.encode(c),s,u=>{if(u)return o(u);this.queue[l]={promise:[i,o]},r&&(this.queue[l].timeout=setTimeout(()=>{delete this.queue[l],o(new Error("reply timeout"))},r))})})}async login(t){const n=await this.call("rpc.login",t);if(!n)throw new Error("authentication failed");return n}async listMethods(){return await this.call("__listMethods")}notify(t,n){return new Promise((r,s)=>{if(!this.ready)return s(new Error("socket not ready"));const i={jsonrpc:"2.0",method:t,params:n};this.socket.send(this.dataPack.encode(i),o=>{if(o)return s(o);r()})})}async subscribe(t){typeof t=="string"&&(t=[t]);const n=await this.call("rpc.on",t);if(typeof t=="string"&&n[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+n[t]);return n}async unsubscribe(t){typeof t=="string"&&(t=[t]);const n=await this.call("rpc.off",t);if(typeof t=="string"&&n[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+n);return n}close(t,n){this.socket.close(t||1e3,n)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,n){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,n),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=Ae.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const s=[r.notification];if(r.params.constructor===Object)s.push(r.params);else for(let i=0;i<r.params.length;i++)s.push(r.params[i]);return Promise.resolve().then(()=>{this.emit.apply(this,s)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:s})=>{this.ready&&setTimeout(()=>this.emit("close",r,s),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(t,n),this.reconnect_interval)))})}};class nw extends sx{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,$E(t);const r=hp(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?t.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(t){return mc(this),this.iHash.update(t),this}digestInto(t){mc(this),Gc(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:l}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=o,t.outputLen=l,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const rw=(e,t,n)=>new nw(e,t).update(n).digest();rw.create=(e,t)=>new nw(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Mm(e){e.lowS!==void 0&&Jr("lowS",e.lowS),e.prehash!==void 0&&Jr("prehash",e.prehash)}function p4(e){const t=gp(e);Co(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:m4,hexToBytes:g4}=AN;class y4 extends Error{constructor(t=""){super(t)}}const Kr={Err:y4,_tlv:{encode:(e,t)=>{const{Err:n}=Kr;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=qi(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?qi(s.length/2|128):"";return qi(e)+i+s+t},decode(e,t){const{Err:n}=Kr;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of u)o=o<<8|d;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const l=t.subarray(r,r+o);if(l.length!==o)throw new n("tlv.decode: wrong value length");return{v:l,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=Kr;if(e<Vr)throw new t("integer: negative integers are not allowed");let n=qi(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Kr;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return m4(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Kr,s=typeof e=="string"?g4(e):e;qa(s);const{v:i,l:o}=r.decode(48,s);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:l,l:c}=r.decode(2,i),{v:u,l:d}=r.decode(2,c);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(l),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=Kr,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),i=r+s;return t.encode(48,i)}},Vr=BigInt(0),Ht=BigInt(1);BigInt(2);const Rm=BigInt(3);BigInt(4);function x4(e){const t=p4(e),{Fp:n}=t,r=Xc(t.n,t.nBitLength),s=t.toBytes||((S,E,v)=>{const b=E.toAffine();return vi(Uint8Array.from([4]),n.toBytes(b.x),n.toBytes(b.y))}),i=t.fromBytes||(S=>{const E=S.subarray(1),v=n.fromBytes(E.subarray(0,n.BYTES)),b=n.fromBytes(E.subarray(n.BYTES,2*n.BYTES));return{x:v,y:b}});function o(S){const{a:E,b:v}=t,b=n.sqr(S),g=n.mul(b,S);return n.add(n.add(g,n.mul(S,E)),v)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function l(S){return Qc(S,Ht,t.n)}function c(S){const{allowedPrivateKeyLengths:E,nByteLength:v,wrapPrivateKey:b,n:g}=t;if(E&&typeof S!="bigint"){if(xi(S)&&(S=wi(S)),typeof S!="string"||!E.includes(S.length))throw new Error("invalid private key");S=S.padStart(v*2,"0")}let R;try{R=typeof S=="bigint"?S:ci(Lt("private key",S,v))}catch{throw new Error("invalid private key, expected hex or "+v+" bytes, got "+typeof S)}return b&&(R=at(R,g)),cr("private key",R,Ht,g),R}function u(S){if(!(S instanceof x))throw new Error("ProjectivePoint expected")}const d=Ma((S,E)=>{const{px:v,py:b,pz:g}=S;if(n.eql(g,n.ONE))return{x:v,y:b};const R=S.is0();E==null&&(E=R?n.ONE:n.inv(g));const z=n.mul(v,E),U=n.mul(b,E),F=n.mul(g,E);if(R)return{x:n.ZERO,y:n.ZERO};if(!n.eql(F,n.ONE))throw new Error("invZ was invalid");return{x:z,y:U}}),p=Ma(S=>{if(S.is0()){if(t.allowInfinityPoint&&!n.is0(S.py))return;throw new Error("bad point: ZERO")}const{x:E,y:v}=S.toAffine();if(!n.isValid(E)||!n.isValid(v))throw new Error("bad point: x or y not FE");const b=n.sqr(v),g=o(E);if(!n.eql(b,g))throw new Error("bad point: equation left != right");if(!S.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class x{constructor(E,v,b){if(this.px=E,this.py=v,this.pz=b,E==null||!n.isValid(E))throw new Error("x required");if(v==null||!n.isValid(v))throw new Error("y required");if(b==null||!n.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(E){const{x:v,y:b}=E||{};if(!E||!n.isValid(v)||!n.isValid(b))throw new Error("invalid affine point");if(E instanceof x)throw new Error("projective point not allowed");const g=R=>n.eql(R,n.ZERO);return g(v)&&g(b)?x.ZERO:new x(v,b,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(E){const v=n.invertBatch(E.map(b=>b.pz));return E.map((b,g)=>b.toAffine(v[g])).map(x.fromAffine)}static fromHex(E){const v=x.fromAffine(i(Lt("pointHex",E)));return v.assertValidity(),v}static fromPrivateKey(E){return x.BASE.multiply(c(E))}static msm(E,v){return yx(x,r,E,v)}_setWindowSize(E){C.setWindowSize(this,E)}assertValidity(){p(this)}hasEvenY(){const{y:E}=this.toAffine();if(n.isOdd)return!n.isOdd(E);throw new Error("Field doesn't support isOdd")}equals(E){u(E);const{px:v,py:b,pz:g}=this,{px:R,py:z,pz:U}=E,F=n.eql(n.mul(v,U),n.mul(R,g)),D=n.eql(n.mul(b,U),n.mul(z,g));return F&&D}negate(){return new x(this.px,n.neg(this.py),this.pz)}double(){const{a:E,b:v}=t,b=n.mul(v,Rm),{px:g,py:R,pz:z}=this;let U=n.ZERO,F=n.ZERO,D=n.ZERO,q=n.mul(g,g),G=n.mul(R,R),Z=n.mul(z,z),ee=n.mul(g,R);return ee=n.add(ee,ee),D=n.mul(g,z),D=n.add(D,D),U=n.mul(E,D),F=n.mul(b,Z),F=n.add(U,F),U=n.sub(G,F),F=n.add(G,F),F=n.mul(U,F),U=n.mul(ee,U),D=n.mul(b,D),Z=n.mul(E,Z),ee=n.sub(q,Z),ee=n.mul(E,ee),ee=n.add(ee,D),D=n.add(q,q),q=n.add(D,q),q=n.add(q,Z),q=n.mul(q,ee),F=n.add(F,q),Z=n.mul(R,z),Z=n.add(Z,Z),q=n.mul(Z,ee),U=n.sub(U,q),D=n.mul(Z,G),D=n.add(D,D),D=n.add(D,D),new x(U,F,D)}add(E){u(E);const{px:v,py:b,pz:g}=this,{px:R,py:z,pz:U}=E;let F=n.ZERO,D=n.ZERO,q=n.ZERO;const G=t.a,Z=n.mul(t.b,Rm);let ee=n.mul(v,R),P=n.mul(b,z),f=n.mul(g,U),y=n.add(v,b),_=n.add(R,z);y=n.mul(y,_),_=n.add(ee,P),y=n.sub(y,_),_=n.add(v,g);let k=n.add(R,U);return _=n.mul(_,k),k=n.add(ee,f),_=n.sub(_,k),k=n.add(b,g),F=n.add(z,U),k=n.mul(k,F),F=n.add(P,f),k=n.sub(k,F),q=n.mul(G,_),F=n.mul(Z,f),q=n.add(F,q),F=n.sub(P,q),q=n.add(P,q),D=n.mul(F,q),P=n.add(ee,ee),P=n.add(P,ee),f=n.mul(G,f),_=n.mul(Z,_),P=n.add(P,f),f=n.sub(ee,f),f=n.mul(G,f),_=n.add(_,f),ee=n.mul(P,_),D=n.add(D,ee),ee=n.mul(k,_),F=n.mul(y,F),F=n.sub(F,ee),ee=n.mul(y,P),q=n.mul(k,q),q=n.add(q,ee),new x(F,D,q)}subtract(E){return this.add(E.negate())}is0(){return this.equals(x.ZERO)}wNAF(E){return C.wNAFCached(this,E,x.normalizeZ)}multiplyUnsafe(E){const{endo:v,n:b}=t;cr("scalar",E,Vr,b);const g=x.ZERO;if(E===Vr)return g;if(this.is0()||E===Ht)return this;if(!v||C.hasPrecomputes(this))return C.wNAFCachedUnsafe(this,E,x.normalizeZ);let{k1neg:R,k1:z,k2neg:U,k2:F}=v.splitScalar(E),D=g,q=g,G=this;for(;z>Vr||F>Vr;)z&Ht&&(D=D.add(G)),F&Ht&&(q=q.add(G)),G=G.double(),z>>=Ht,F>>=Ht;return R&&(D=D.negate()),U&&(q=q.negate()),q=new x(n.mul(q.px,v.beta),q.py,q.pz),D.add(q)}multiply(E){const{endo:v,n:b}=t;cr("scalar",E,Ht,b);let g,R;if(v){const{k1neg:z,k1:U,k2neg:F,k2:D}=v.splitScalar(E);let{p:q,f:G}=this.wNAF(U),{p:Z,f:ee}=this.wNAF(D);q=C.constTimeNegate(z,q),Z=C.constTimeNegate(F,Z),Z=new x(n.mul(Z.px,v.beta),Z.py,Z.pz),g=q.add(Z),R=G.add(ee)}else{const{p:z,f:U}=this.wNAF(E);g=z,R=U}return x.normalizeZ([g,R])[0]}multiplyAndAddUnsafe(E,v,b){const g=x.BASE,R=(U,F)=>F===Vr||F===Ht||!U.equals(g)?U.multiplyUnsafe(F):U.multiply(F),z=R(this,v).add(R(E,b));return z.is0()?void 0:z}toAffine(E){return d(this,E)}isTorsionFree(){const{h:E,isTorsionFree:v}=t;if(E===Ht)return!0;if(v)return v(x,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:E,clearCofactor:v}=t;return E===Ht?this:v?v(x,this):this.multiplyUnsafe(t.h)}toRawBytes(E=!0){return Jr("isCompressed",E),this.assertValidity(),s(x,this,E)}toHex(E=!0){return Jr("isCompressed",E),wi(this.toRawBytes(E))}}x.BASE=new x(t.Gx,t.Gy,n.ONE),x.ZERO=new x(n.ZERO,n.ONE,n.ZERO);const N=t.nBitLength,C=gx(x,t.endo?Math.ceil(N/2):N);return{CURVE:t,ProjectivePoint:x,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:l}}function w4(e){const t=gp(e);return Co(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function v4(e){const t=w4(e),{Fp:n,n:r}=t,s=n.BYTES+1,i=2*n.BYTES+1;function o(f){return at(f,r)}function l(f){return Vf(f,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:p}=x4({...t,toBytes(f,y,_){const k=y.toAffine(),j=n.toBytes(k.x),T=vi;return Jr("isCompressed",_),_?T(Uint8Array.from([y.hasEvenY()?2:3]),j):T(Uint8Array.from([4]),j,n.toBytes(k.y))},fromBytes(f){const y=f.length,_=f[0],k=f.subarray(1);if(y===s&&(_===2||_===3)){const j=ci(k);if(!Qc(j,Ht,n.ORDER))throw new Error("Point is not on curve");const T=d(j);let B;try{B=n.sqrt(T)}catch(A){const $=A instanceof Error?": "+A.message:"";throw new Error("Point is not on curve"+$)}const I=(B&Ht)===Ht;return(_&1)===1!==I&&(B=n.neg(B)),{x:j,y:B}}else if(y===i&&_===4){const j=n.fromBytes(k.subarray(0,n.BYTES)),T=n.fromBytes(k.subarray(n.BYTES,2*n.BYTES));return{x:j,y:T}}else{const j=s,T=i;throw new Error("invalid Point, expected length of "+j+", or uncompressed "+T+", got "+y)}}}),x=f=>wi(mo(f,t.nByteLength));function N(f){const y=r>>Ht;return f>y}function C(f){return N(f)?o(-f):f}const S=(f,y,_)=>ci(f.slice(y,_));class E{constructor(y,_,k){this.r=y,this.s=_,this.recovery=k,this.assertValidity()}static fromCompact(y){const _=t.nByteLength;return y=Lt("compactSignature",y,_*2),new E(S(y,0,_),S(y,_,2*_))}static fromDER(y){const{r:_,s:k}=Kr.toSig(Lt("DER",y));return new E(_,k)}assertValidity(){cr("r",this.r,Ht,r),cr("s",this.s,Ht,r)}addRecoveryBit(y){return new E(this.r,this.s,y)}recoverPublicKey(y){const{r:_,s:k,recovery:j}=this,T=U(Lt("msgHash",y));if(j==null||![0,1,2,3].includes(j))throw new Error("recovery id invalid");const B=j===2||j===3?_+t.n:_;if(B>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const I=j&1?"03":"02",h=c.fromHex(I+x(B)),A=l(B),$=o(-T*A),W=o(k*A),H=c.BASE.multiplyAndAddUnsafe(h,$,W);if(!H)throw new Error("point at infinify");return H.assertValidity(),H}hasHighS(){return N(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return po(this.toDERHex())}toDERHex(){return Kr.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return po(this.toCompactHex())}toCompactHex(){return x(this.r)+x(this.s)}}const v={isValidPrivateKey(f){try{return u(f),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const f=hx(t.n);return zN(t.randomBytes(f),t.n)},precompute(f=8,y=c.BASE){return y._setWindowSize(f),y.multiply(BigInt(3)),y}};function b(f,y=!0){return c.fromPrivateKey(f).toRawBytes(y)}function g(f){const y=xi(f),_=typeof f=="string",k=(y||_)&&f.length;return y?k===s||k===i:_?k===2*s||k===2*i:f instanceof c}function R(f,y,_=!0){if(g(f))throw new Error("first arg must be private key");if(!g(y))throw new Error("second arg must be public key");return c.fromHex(y).multiply(u(f)).toRawBytes(_)}const z=t.bits2int||function(f){if(f.length>8192)throw new Error("input is too large");const y=ci(f),_=f.length*8-t.nBitLength;return _>0?y>>BigInt(_):y},U=t.bits2int_modN||function(f){return o(z(f))},F=mp(t.nBitLength);function D(f){return cr("num < 2^"+t.nBitLength,f,Vr,F),mo(f,t.nByteLength)}function q(f,y,_=G){if(["recovered","canonical"].some(J=>J in _))throw new Error("sign() legacy options not supported");const{hash:k,randomBytes:j}=t;let{lowS:T,prehash:B,extraEntropy:I}=_;T==null&&(T=!0),f=Lt("msgHash",f),Mm(_),B&&(f=Lt("prehashed msgHash",k(f)));const h=U(f),A=u(y),$=[D(A),D(h)];if(I!=null&&I!==!1){const J=I===!0?j(n.BYTES):I;$.push(Lt("extraEntropy",J))}const W=vi(...$),H=h;function te(J){const re=z(J);if(!p(re))return;const me=l(re),fe=c.BASE.multiply(re).toAffine(),ye=o(fe.x);if(ye===Vr)return;const Oe=o(me*o(H+ye*A));if(Oe===Vr)return;let ne=(fe.x===ye?0:2)|Number(fe.y&Ht),ie=Oe;return T&&N(Oe)&&(ie=C(Oe),ne^=1),new E(ye,ie,ne)}return{seed:W,k2sig:te}}const G={lowS:t.lowS,prehash:!1},Z={lowS:t.lowS,prehash:!1};function ee(f,y,_=G){const{seed:k,k2sig:j}=q(f,y,_),T=t;return ux(T.hash.outputLen,T.nByteLength,T.hmac)(k,j)}c.BASE._setWindowSize(8);function P(f,y,_,k=Z){var ne;const j=f;y=Lt("msgHash",y),_=Lt("publicKey",_);const{lowS:T,prehash:B,format:I}=k;if(Mm(k),"strict"in k)throw new Error("options.strict was renamed to lowS");if(I!==void 0&&I!=="compact"&&I!=="der")throw new Error("format must be compact or der");const h=typeof j=="string"||xi(j),A=!h&&!I&&typeof j=="object"&&j!==null&&typeof j.r=="bigint"&&typeof j.s=="bigint";if(!h&&!A)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let $,W;try{if(A&&($=new E(j.r,j.s)),h){try{I!=="compact"&&($=E.fromDER(j))}catch(ie){if(!(ie instanceof Kr.Err))throw ie}!$&&I!=="der"&&($=E.fromCompact(j))}W=c.fromHex(_)}catch{return!1}if(!$||T&&$.hasHighS())return!1;B&&(y=t.hash(y));const{r:H,s:te}=$,J=U(y),re=l(te),me=o(J*re),fe=o(H*re),ye=(ne=c.BASE.multiplyAndAddUnsafe(W,me,fe))==null?void 0:ne.toAffine();return ye?o(ye.x)===H:!1}return{CURVE:t,getPublicKey:b,getSharedSecret:R,sign:ee,verify:P,ProjectivePoint:c,Signature:E,utils:v}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function b4(e){return{hash:e,hmac:(t,...n)=>rw(e,t,HE(...n)),randomBytes:ox}}function S4(e,t){const n=r=>v4({...e,...b4(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sw=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Bm=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),E4=BigInt(1),Zf=BigInt(2),Pm=(e,t)=>(e+t/Zf)/t;function N4(e){const t=sw,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),l=BigInt(44),c=BigInt(88),u=e*e*e%t,d=u*u*e%t,p=gt(d,n,t)*d%t,x=gt(p,n,t)*d%t,N=gt(x,Zf,t)*u%t,C=gt(N,s,t)*N%t,S=gt(C,i,t)*C%t,E=gt(S,l,t)*S%t,v=gt(E,c,t)*E%t,b=gt(v,l,t)*S%t,g=gt(b,n,t)*d%t,R=gt(g,o,t)*C%t,z=gt(R,r,t)*u%t,U=gt(z,Zf,t);if(!Qf.eql(Qf.sqr(U),e))throw new Error("Cannot find square root");return U}const Qf=Xc(sw,void 0,void 0,{sqrt:N4}),_4=S4({a:BigInt(0),b:BigInt(7),Fp:Qf,n:Bm,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Bm,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-E4*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),l=Pm(i*e,t),c=Pm(-r*e,t);let u=at(e-l*n-c*s,t),d=at(-l*r-c*i,t);const p=u>o,x=d>o;if(p&&(u=t-u),x&&(d=t-d),u>o||d>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:p,k1:u,k2neg:x,k2:d}}}},Gf);BigInt(0);function Lm(e){try{return xp.ExtendedPoint.fromHex(e),!0}catch{return!1}}const iw=(e,t)=>xp.sign(e,t.slice(0,32)),k4=xp.verify,Jt=e=>Ae.isBuffer(e)?e:e instanceof Uint8Array?Ae.from(e.buffer,e.byteOffset,e.byteLength):Ae.from(e);class j4{constructor(t){Object.assign(this,t)}encode(){return Ae.from(kx(Ul,this))}static decode(t){return jx(Ul,this,t)}static decodeUnchecked(t){return bx(Ul,this,t)}}const Ul=new Map;var ow;const C4=32,Ds=32;function A4(e){return e._bn!==void 0}let Om=1;class ue extends j4{constructor(t){if(super({}),this._bn=void 0,A4(t))this._bn=t._bn;else{if(typeof t=="string"){const n=rn.decode(t);if(n.length!=Ds)throw new Error("Invalid public key input");this._bn=new Am(n)}else this._bn=new Am(t);if(this._bn.byteLength()>Ds)throw new Error("Invalid public key input")}}static unique(){const t=new ue(Om);return Om+=1,new ue(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return rn.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(Ae);if(t.length===Ds)return t;const n=Ae.alloc(32);return t.copy(n,32-t.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,n,r){const s=Ae.concat([t.toBuffer(),Ae.from(n),r.toBuffer()]),i=Gf(s);return new ue(i)}static createProgramAddressSync(t,n){let r=Ae.alloc(0);t.forEach(function(i){if(i.length>C4)throw new TypeError("Max seed length exceeded");r=Ae.concat([r,Jt(i)])}),r=Ae.concat([r,n.toBuffer(),Ae.from("ProgramDerivedAddress")]);const s=Gf(r);if(Lm(s))throw new Error("Invalid seeds, address must fall off the curve");return new ue(s)}static async createProgramAddress(t,n){return this.createProgramAddressSync(t,n)}static findProgramAddressSync(t,n){let r=255,s;for(;r!=0;){try{const i=t.concat(Ae.from([r]));s=this.createProgramAddressSync(i,n)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,n){return this.findProgramAddressSync(t,n)}static isOnCurve(t){const n=new ue(t);return Lm(n.toBytes())}}ow=ue;ue.default=new ow("11111111111111111111111111111111");Ul.set(ue,{kind:"struct",fields:[["_bn","u256"]]});new ue("BPFLoader1111111111111111111111111111111111");const so=1232,Rp=127,Ba=64;class aw extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(aw.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class lw extends Error{constructor(t,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(lw.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Yo extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Yo.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Sc{constructor(t,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=n}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const n of this.keySegments()){if(t<n.length)return n[t];t-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return t.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const Pe=(e="publicKey")=>Qe(32,e),I4=(e="signature")=>Qe(64,e),Gi=(e="string")=>{const t=xe([Ee("length"),Ee("lengthPadding"),Qe(ui(Ee(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t),s=t;return s.decode=(i,o)=>n(i,o).chars.toString(),s.encode=(i,o,l)=>{const c={chars:Ae.from(i,"utf8")};return r(c,o,l)},s.alloc=i=>Ee().span+Ee().span+Ae.from(i,"utf8").length,s},T4=(e="authorized")=>xe([Pe("staker"),Pe("withdrawer")],e),M4=(e="lockup")=>xe([Wn("unixTimestamp"),Wn("epoch"),Pe("custodian")],e),R4=(e="voteInit")=>xe([Pe("nodePubkey"),Pe("authorizedVoter"),Pe("authorizedWithdrawer"),ze("commission")],e),B4=(e="voteAuthorizeWithSeedArgs")=>xe([Ee("voteAuthorizationType"),Pe("currentAuthorityDerivedKeyOwnerPubkey"),Gi("currentAuthorityDerivedKeySeed"),Pe("newAuthorized")],e);function cw(e,t){const n=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(t[s.property]);if("count"in s&&"elementLayout"in s){const i=t[s.property];if(Array.isArray(i))return i.length*n(s.elementLayout)}else if("fields"in s)return cw({layout:s},t[s.property]);return 0};let r=0;return e.layout.fields.forEach(s=>{r+=n(s)}),r}function Kn(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(r&127)<<n*7,n+=1,!(r&128))break}return t}function Hn(e,t){let n=t;for(;;){let r=n&127;if(n>>=7,n==0){e.push(r);break}else r|=128,e.push(r)}}function ot(e,t){if(!e)throw new Error(t||"Assertion failed")}class iu{constructor(t,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=n}static compile(t,n){const r=new Map,s=o=>{const l=o.toBase58();let c=r.get(l);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(l,c)),c},i=s(n);i.isSigner=!0,i.isWritable=!0;for(const o of t){s(o.programId).isInvoked=!0;for(const l of o.keys){const c=s(l.pubkey);c.isSigner||(c.isSigner=l.isSigner),c.isWritable||(c.isWritable=l.isWritable)}}return new iu(n,r)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];ot(t.length<=256,"Max static account keys length exceeded");const n=t.filter(([,c])=>c.isSigner&&c.isWritable),r=t.filter(([,c])=>c.isSigner&&!c.isWritable),s=t.filter(([,c])=>!c.isSigner&&c.isWritable),i=t.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{ot(n.length>0,"Expected at least one writable signer key");const[c]=n[0];ot(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const l=[...n.map(([c])=>new ue(c)),...r.map(([c])=>new ue(c)),...s.map(([c])=>new ue(c)),...i.map(([c])=>new ue(c))];return[o,l]}extractTableLookup(t){const[n,r]=this.drainKeysFoundInLookupTable(t.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(t.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(n.length===0&&s.length===0))return[{accountKey:t.key,writableIndexes:n,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(t,n){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(n(o)){const l=new ue(i),c=t.findIndex(u=>u.equals(l));c>=0&&(ot(c<256,"Max lookup table index exceeded"),r.push(c),s.push(l),this.keyMetaMap.delete(i))}return[r,s]}}const uw="Reached end of buffer unexpectedly";function qr(e){if(e.length===0)throw new Error(uw);return e.shift()}function Vn(e,...t){const[n]=t;if(t.length===2?n+(t[1]??0)>e.length:n>=e.length)throw new Error(uw);return e.splice(...t)}class ss{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(n=>new ue(n)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:rn.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Sc(this.staticAccountKeys)}static compile(t){const n=iu.compile(t.instructions,t.payerKey),[r,s]=n.getMessageComponents(),o=new Sc(s).compileInstructions(t.instructions).map(l=>({programIdIndex:l.programIdIndex,accounts:l.accountKeyIndexes,data:rn.encode(l.data)}));return new ss({header:r,accountKeys:s,recentBlockhash:t.recentBlockhash,instructions:o})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const r=t-n,i=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=n-this.header.numReadonlySignedAccounts;return t<r}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,n)=>!this.isProgramId(n))}serialize(){const t=this.accountKeys.length;let n=[];Hn(n,t);const r=this.instructions.map(p=>{const{accounts:x,programIdIndex:N}=p,C=Array.from(rn.decode(p.data));let S=[];Hn(S,x.length);let E=[];return Hn(E,C.length),{programIdIndex:N,keyIndicesCount:Ae.from(S),keyIndices:x,dataLength:Ae.from(E),data:C}});let s=[];Hn(s,r.length);let i=Ae.alloc(so);Ae.from(s).copy(i);let o=s.length;r.forEach(p=>{const N=xe([ze("programIdIndex"),Qe(p.keyIndicesCount.length,"keyIndicesCount"),gn(ze("keyIndex"),p.keyIndices.length,"keyIndices"),Qe(p.dataLength.length,"dataLength"),gn(ze("userdatum"),p.data.length,"data")]).encode(p,i,o);o+=N}),i=i.slice(0,o);const l=xe([Qe(1,"numRequiredSignatures"),Qe(1,"numReadonlySignedAccounts"),Qe(1,"numReadonlyUnsignedAccounts"),Qe(n.length,"keyCount"),gn(Pe("key"),t,"keys"),Pe("recentBlockhash")]),c={numRequiredSignatures:Ae.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Ae.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Ae.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Ae.from(n),keys:this.accountKeys.map(p=>Jt(p.toBytes())),recentBlockhash:rn.decode(this.recentBlockhash)};let u=Ae.alloc(2048);const d=l.encode(c,u);return i.copy(u,d),u.slice(0,d+i.length)}static from(t){let n=[...t];const r=qr(n);if(r!==(r&Rp))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=qr(n),i=qr(n),o=Kn(n);let l=[];for(let x=0;x<o;x++){const N=Vn(n,0,Ds);l.push(new ue(Ae.from(N)))}const c=Vn(n,0,Ds),u=Kn(n);let d=[];for(let x=0;x<u;x++){const N=qr(n),C=Kn(n),S=Vn(n,0,C),E=Kn(n),v=Vn(n,0,E),b=rn.encode(Ae.from(v));d.push({programIdIndex:N,accounts:S,data:b})}const p={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:rn.encode(Ae.from(c)),accountKeys:l,instructions:d};return new ss(p)}}class Pa{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const n of this.addressTableLookups)t+=n.readonlyIndexes.length+n.writableIndexes.length;return t}getAccountKeys(t){let n;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)n=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Sc(this.staticAccountKeys,n)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(t>=r){const s=t-r,i=this.addressTableLookups.reduce((o,l)=>o+l.writableIndexes.length,0);return s<i}else if(t>=this.header.numRequiredSignatures){const s=t-n,o=r-n-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=n-this.header.numReadonlySignedAccounts;return t<s}}resolveAddressTableLookups(t){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=t.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)n.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)n.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(t){const n=iu.compile(t.instructions,t.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=t.addressLookupTableAccounts||[];for(const d of i){const p=n.extractTableLookup(d);if(p!==void 0){const[x,{writable:N,readonly:C}]=p;r.push(x),s.writable.push(...N),s.readonly.push(...C)}}const[o,l]=n.getMessageComponents(),u=new Sc(l,s).compileInstructions(t.instructions);return new Pa({header:o,staticAccountKeys:l,recentBlockhash:t.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const t=Array();Hn(t,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();Hn(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Hn(i,this.addressTableLookups.length);const o=xe([ze("prefix"),xe([ze("numRequiredSignatures"),ze("numReadonlySignedAccounts"),ze("numReadonlyUnsignedAccounts")],"header"),Qe(t.length,"staticAccountKeysLength"),gn(Pe(),this.staticAccountKeys.length,"staticAccountKeys"),Pe("recentBlockhash"),Qe(r.length,"instructionsLength"),Qe(n.length,"serializedInstructions"),Qe(i.length,"addressTableLookupsLength"),Qe(s.length,"serializedAddressTableLookups")]),l=new Uint8Array(so),u=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(d=>d.toBytes()),recentBlockhash:rn.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},l);return l.slice(0,u)}serializeInstructions(){let t=0;const n=new Uint8Array(so);for(const r of this.compiledInstructions){const s=Array();Hn(s,r.accountKeyIndexes.length);const i=Array();Hn(i,r.data.length);const o=xe([ze("programIdIndex"),Qe(s.length,"encodedAccountKeyIndexesLength"),gn(ze(),r.accountKeyIndexes.length,"accountKeyIndexes"),Qe(i.length,"encodedDataLength"),Qe(r.data.length,"data")]);t+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},n,t)}return n.slice(0,t)}serializeAddressTableLookups(){let t=0;const n=new Uint8Array(so);for(const r of this.addressTableLookups){const s=Array();Hn(s,r.writableIndexes.length);const i=Array();Hn(i,r.readonlyIndexes.length);const o=xe([Pe("accountKey"),Qe(s.length,"encodedWritableIndexesLength"),gn(ze(),r.writableIndexes.length,"writableIndexes"),Qe(i.length,"encodedReadonlyIndexesLength"),gn(ze(),r.readonlyIndexes.length,"readonlyIndexes")]);t+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},n,t)}return n.slice(0,t)}static deserialize(t){let n=[...t];const r=qr(n),s=r&Rp;ot(r!==s,"Expected versioned message but received legacy message");const i=s;ot(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:qr(n),numReadonlySignedAccounts:qr(n),numReadonlyUnsignedAccounts:qr(n)},l=[],c=Kn(n);for(let C=0;C<c;C++)l.push(new ue(Vn(n,0,Ds)));const u=rn.encode(Vn(n,0,Ds)),d=Kn(n),p=[];for(let C=0;C<d;C++){const S=qr(n),E=Kn(n),v=Vn(n,0,E),b=Kn(n),g=new Uint8Array(Vn(n,0,b));p.push({programIdIndex:S,accountKeyIndexes:v,data:g})}const x=Kn(n),N=[];for(let C=0;C<x;C++){const S=new ue(Vn(n,0,Ds)),E=Kn(n),v=Vn(n,0,E),b=Kn(n),g=Vn(n,0,b);N.push({accountKey:S,writableIndexes:v,readonlyIndexes:g})}return new Pa({header:o,staticAccountKeys:l,recentBlockhash:u,compiledInstructions:p,addressTableLookups:N})}}const Bp={deserializeMessageVersion(e){const t=e[0],n=t&Rp;return n===t?"legacy":n},deserialize:e=>{const t=Bp.deserializeMessageVersion(e);if(t==="legacy")return ss.from(e);if(t===0)return Pa.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let gs=function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e}({});const P4=Ae.alloc(Ba).fill(0);class Fn{constructor(t){this.keys=void 0,this.programId=void 0,this.data=Ae.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:n,isWritable:r})=>({pubkey:t.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class qt{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=t;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=t;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new Fn(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(t=this.recentBlockhash,n=this.instructions),!t)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let S=0;S<n.length;S++)if(n[S].programId===void 0)throw new Error(`Transaction instruction index ${S} has undefined program id`);const s=[],i=[];n.forEach(S=>{S.keys.forEach(v=>{i.push({...v})});const E=S.programId.toString();s.includes(E)||s.push(E)}),s.forEach(S=>{i.push({pubkey:new ue(S),isSigner:!1,isWritable:!1})});const o=[];i.forEach(S=>{const E=S.pubkey.toString(),v=o.findIndex(b=>b.pubkey.toString()===E);v>-1?(o[v].isWritable=o[v].isWritable||S.isWritable,o[v].isSigner=o[v].isSigner||S.isSigner):o.push(S)}),o.sort(function(S,E){if(S.isSigner!==E.isSigner)return S.isSigner?-1:1;if(S.isWritable!==E.isWritable)return S.isWritable?-1:1;const v={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return S.pubkey.toBase58().localeCompare(E.pubkey.toBase58(),"en",v)});const l=o.findIndex(S=>S.pubkey.equals(r));if(l>-1){const[S]=o.splice(l,1);S.isSigner=!0,S.isWritable=!0,o.unshift(S)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const S of this.signatures){const E=o.findIndex(v=>v.pubkey.equals(S.publicKey));if(E>-1)o[E].isSigner||(o[E].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${S.publicKey.toString()}`)}let c=0,u=0,d=0;const p=[],x=[];o.forEach(({pubkey:S,isSigner:E,isWritable:v})=>{E?(p.push(S.toString()),c+=1,v||(u+=1)):(x.push(S.toString()),v||(d+=1))});const N=p.concat(x),C=n.map(S=>{const{data:E,programId:v}=S;return{programIdIndex:N.indexOf(v.toString()),accounts:S.keys.map(b=>N.indexOf(b.pubkey.toString())),data:rn.encode(E)}});return C.forEach(S=>{ot(S.programIdIndex>=0),S.accounts.forEach(E=>ot(E>=0))}),new ss({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:d},accountKeys:N,recentBlockhash:t,instructions:C})}_compile(){const t=this.compileMessage(),n=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((s,i)=>n[i].equals(s.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const n=new Set;this.signatures=t.filter(r=>{const s=r.toString();return n.has(s)?!1:(n.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const i of t){const o=i.publicKey.toString();n.has(o)||(n.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const i of t){const o=i.publicKey.toString();n.has(o)||(n.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(t,...n){const r=t.serialize();n.forEach(s=>{const i=iw(r,s.secretKey);this._addSignature(s.publicKey,Jt(i))})}addSignature(t,n){this._compile(),this._addSignature(t,n)}_addSignature(t,n){ot(n.length===64);const r=this.signatures.findIndex(s=>t.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=Ae.from(n)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,n){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?n&&(r.missing||(r.missing=[])).push(i):k4(s,t,i.toBytes())||(r.invalid||(r.invalid=[])).push(i);return r.invalid||r.missing?r:void 0}serialize(t){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,n);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(l=>l.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(l=>l.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(t){const{signatures:n}=this,r=[];Hn(r,n.length);const s=r.length+n.length*64+t.length,i=Ae.alloc(s);return ot(n.length<256),Ae.from(r).copy(i,0),n.forEach(({signature:o},l)=>{o!==null&&(ot(o.length===64,"signature has invalid length"),Ae.from(o).copy(i,r.length+l*64))}),t.copy(i,r.length+n.length*64),ot(i.length<=so,`Transaction too large: ${i.length} > ${so}`),i}get keys(){return ot(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return ot(this.instructions.length===1),this.instructions[0].programId}get data(){return ot(this.instructions.length===1),this.instructions[0].data}static from(t){let n=[...t];const r=Kn(n);let s=[];for(let i=0;i<r;i++){const o=Vn(n,0,Ba);s.push(rn.encode(Ae.from(o)))}return qt.populate(ss.from(n),s)}static populate(t,n=[]){const r=new qt;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),n.forEach((s,i)=>{const o={signature:s==rn.encode(P4)?null:rn.decode(s),publicKey:t.accountKeys[i]};r.signatures.push(o)}),t.instructions.forEach(s=>{const i=s.accounts.map(o=>{const l=t.accountKeys[o];return{pubkey:l,isSigner:r.signatures.some(c=>c.publicKey.toString()===l.toString())||t.isAccountSigner(o),isWritable:t.isAccountWritable(o)}});r.instructions.push(new Fn({keys:i,programId:t.accountKeys[s.programIdIndex],data:rn.decode(s.data)}))}),r._message=t,r._json=r.toJSON(),r}}class La{get version(){return this.message.version}constructor(t,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)ot(n.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let s=0;s<t.header.numRequiredSignatures;s++)r.push(new Uint8Array(Ba));this.signatures=r}this.message=t}serialize(){const t=this.message.serialize(),n=Array();Hn(n,this.signatures.length);const r=xe([Qe(n.length,"encodedSignaturesLength"),gn(I4(),this.signatures.length,"signatures"),Qe(t.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:t},s);return s.slice(0,i)}static deserialize(t){let n=[...t];const r=[],s=Kn(n);for(let o=0;o<s;o++)r.push(new Uint8Array(Vn(n,0,Ba)));const i=Bp.deserialize(new Uint8Array(n));return new La(i,r)}sign(t){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of t){const i=r.findIndex(o=>o.equals(s.publicKey));ot(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=iw(n,s.secretKey)}}addSignature(t,n){ot(n.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(t));ot(s>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=n}}const L4=160,O4=64,U4=L4/O4,z4=1e3/U4;new ue("SysvarC1ock11111111111111111111111111111111");new ue("SysvarEpochSchedu1e111111111111111111111111");new ue("Sysvar1nstructions1111111111111111111111111");const jd=new ue("SysvarRecentB1ockHashes11111111111111111111"),Um=new ue("SysvarRent111111111111111111111111111111111");new ue("SysvarRewards111111111111111111111111111111");new ue("SysvarS1otHashes111111111111111111111111111");new ue("SysvarS1otHistory11111111111111111111111111");new ue("SysvarStakeHistory1111111111111111111111111");class zm extends Error{constructor({action:t,signature:n,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let l;switch(t){case"send":l=`Transaction ${n} resulted in an error. 
${r}. `+i+o;break;case"simulate":l=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:l=`Unknown action '${(c=>c)(t)}'`}super(l),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const t=this.transactionLogs;if(!(t!=null&&typeof t=="object"&&"then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{t.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,n(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}class be extends Error{constructor({code:t,message:n,data:r},s){super(s!=null?`${s}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=t,this.data=r,this.name="SolanaJSONRPCError"}}function Bi(e){return new Promise(t=>setTimeout(t,e))}function rr(e,t){const n=e.layout.span>=0?e.layout.span:cw(e,t),r=Ae.alloc(n),s=Object.assign({instruction:e.index},t);return e.layout.encode(s,r),r}const F4=Qt("lamportsPerSignature"),dw=xe([Ee("version"),Ee("state"),Pe("authorizedPubkey"),Pe("nonce"),xe([F4],"feeCalculator")]),Fm=dw.span;class Pp{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const n=dw.decode(Jt(t),0);return new Pp({authorizedPubkey:new ue(n.authorizedPubkey),nonce:new ue(n.nonce).toString(),feeCalculator:n.feeCalculator})}}const D4=e=>{const t=e.decode.bind(e),n=e.encode.bind(e);return{decode:t,encode:n}},$4=e=>t=>{const n=Qe(e,t),{encode:r,decode:s}=D4(n),i=n;return i.decode=(o,l)=>{const c=s(o,l);return Hx(Ae.from(c))},i.encode=(o,l,c)=>{const u=Vx(o,e);return r(u,l,c)},i},yo=$4(8),sr=Object.freeze({Create:{index:0,layout:xe([Ee("instruction"),Wn("lamports"),Wn("space"),Pe("programId")])},Assign:{index:1,layout:xe([Ee("instruction"),Pe("programId")])},Transfer:{index:2,layout:xe([Ee("instruction"),yo("lamports")])},CreateWithSeed:{index:3,layout:xe([Ee("instruction"),Pe("base"),Gi("seed"),Wn("lamports"),Wn("space"),Pe("programId")])},AdvanceNonceAccount:{index:4,layout:xe([Ee("instruction")])},WithdrawNonceAccount:{index:5,layout:xe([Ee("instruction"),Wn("lamports")])},InitializeNonceAccount:{index:6,layout:xe([Ee("instruction"),Pe("authorized")])},AuthorizeNonceAccount:{index:7,layout:xe([Ee("instruction"),Pe("authorized")])},Allocate:{index:8,layout:xe([Ee("instruction"),Wn("space")])},AllocateWithSeed:{index:9,layout:xe([Ee("instruction"),Pe("base"),Gi("seed"),Wn("space"),Pe("programId")])},AssignWithSeed:{index:10,layout:xe([Ee("instruction"),Pe("base"),Gi("seed"),Pe("programId")])},TransferWithSeed:{index:11,layout:xe([Ee("instruction"),yo("lamports"),Gi("seed"),Pe("programId")])},UpgradeNonceAccount:{index:12,layout:xe([Ee("instruction")])}});class xo{constructor(){}static createAccount(t){const n=sr.Create,r=rr(n,{lamports:t.lamports,space:t.space,programId:Jt(t.programId.toBuffer())});return new Fn({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(t){let n,r;if("basePubkey"in t){const s=sr.TransferWithSeed;n=rr(s,{lamports:BigInt(t.lamports),seed:t.seed,programId:Jt(t.programId.toBuffer())}),r=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=sr.Transfer;n=rr(s,{lamports:BigInt(t.lamports)}),r=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}return new Fn({keys:r,programId:this.programId,data:n})}static assign(t){let n,r;if("basePubkey"in t){const s=sr.AssignWithSeed;n=rr(s,{base:Jt(t.basePubkey.toBuffer()),seed:t.seed,programId:Jt(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=sr.Assign;n=rr(s,{programId:Jt(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new Fn({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(t){const n=sr.CreateWithSeed,r=rr(n,{base:Jt(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:Jt(t.programId.toBuffer())});let s=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey.equals(t.fromPubkey)||s.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new Fn({keys:s,programId:this.programId,data:r})}static createNonceAccount(t){const n=new qt;"basePubkey"in t&&"seed"in t?n.add(xo.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:Fm,programId:this.programId})):n.add(xo.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:Fm,programId:this.programId}));const r={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(t){const n=sr.InitializeNonceAccount,r=rr(n,{authorized:Jt(t.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:jd,isSigner:!1,isWritable:!1},{pubkey:Um,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Fn(s)}static nonceAdvance(t){const n=sr.AdvanceNonceAccount,r=rr(n),s={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:jd,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Fn(s)}static nonceWithdraw(t){const n=sr.WithdrawNonceAccount,r=rr(n,{lamports:t.lamports});return new Fn({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:jd,isSigner:!1,isWritable:!1},{pubkey:Um,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(t){const n=sr.AuthorizeNonceAccount,r=rr(n,{authorized:Jt(t.newAuthorizedPubkey.toBuffer())});return new Fn({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(t){let n,r;if("basePubkey"in t){const s=sr.AllocateWithSeed;n=rr(s,{base:Jt(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:Jt(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=sr.Allocate;n=rr(s,{space:t.space}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new Fn({keys:r,programId:this.programId,data:n})}}xo.programId=new ue("11111111111111111111111111111111");new ue("BPFLoader2111111111111111111111111111111111");function W4(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cd,Dm;function K4(){if(Dm)return Cd;Dm=1;var e=Object.prototype.toString,t=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function n(r,s){var i,o,l,c,u,d,p;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),s);if(p=e.call(r),p==="[object Array]"){for(l="[",o=r.length-1,i=0;i<o;i++)l+=n(r[i],!0)+",";return o>-1&&(l+=n(r[i],!0)),l+"]"}else if(p==="[object Object]"){for(c=t(r).sort(),o=c.length,l="",i=0;i<o;)u=c[i],d=n(r[u],!1),d!==void 0&&(l&&(l+=","),l+=JSON.stringify(u)+":"+d),i++;return"{"+l+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return Cd=function(r){var s=n(r,!1);if(s!==void 0)return""+s},Cd}var H4=K4(),$m=W4(H4);const $o=32;function Ad(e){let t=0;for(;e>1;)e/=2,t++;return t}function V4(e){return e===0?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e|=e>>32,e+1)}class q4{constructor(t,n,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const n=Ad(V4(t+$o+1))-Ad($o)-1,r=this.getSlotsInEpoch(n),s=t-(r-$o);return[n,s]}else{const n=t-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=n%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*$o:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+Ad($o)):this.slotsPerEpoch}}var G4=globalThis.fetch;class Y4 extends h4{constructor(t,n,r){const s=i=>{const o=d4(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,t,n,r),this.underlyingSocket=void 0}call(...t){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...t){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function Z4(e,t){let n;try{n=e.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${e.index}`);return n}const Wm=56;class Km{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const n=Z4(Q4,t),r=t.length-Wm;ot(r>=0,"lookup table is invalid"),ot(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=xe([gn(Pe(),s,"addresses")]).decode(t.slice(Wm));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new ue(n.authority[0]):void 0,addresses:i.map(o=>new ue(o))}}}const Q4={index:1,layout:xe([Ee("typeIndex"),yo("deactivationSlot"),Qt("lastExtendedSlot"),ze("lastExtendedStartIndex"),ze(),gn(Pe(),ui(ze(),-1),"authority")])},X4=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function J4(e){const t=e.match(X4);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[n,r,s,i]=t,o=e.startsWith("https:")?"wss:":"ws:",l=s==null?null:parseInt(s.slice(1),10),c=l==null?"":`:${l+1}`;return`${o}//${r}${c}${i}`}const pt=Qa(Tp(ue),le(),e=>new ue(e)),fw=Mp([le(),ut("base64")]),Lp=Qa(Tp(Ae),fw,e=>Ae.from(e[0],"base64")),ek=30*1e3;function tk(e){if(/^https?:/.test(e)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}function Xe(e){let t,n;if(typeof e=="string")t=e;else if(e){const{commitment:r,...s}=e;t=r,n=s}return{commitment:t,config:n}}function Hm(e){return e.map(t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t)}function hw(e){return Nn([se({jsonrpc:ut("2.0"),id:le(),result:e}),se({jsonrpc:ut("2.0"),id:le(),error:se({code:To(),message:le(),data:Ne(P_())})})])}const nk=hw(To());function Re(e){return Qa(hw(e),nk,t=>"error"in t?t:{...t,result:ce(t.result,e)})}function xt(e){return Re(se({context:se({slot:Y()}),value:e}))}function ou(e){return se({context:se({slot:Y()}),value:e})}function Id(e,t){return e===0?new Pa({header:t.header,staticAccountKeys:t.accountKeys.map(n=>new ue(n)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:rn.decode(n.data)})),addressTableLookups:t.addressTableLookups}):new ss(t)}const rk=se({foundation:Y(),foundationTerm:Y(),initial:Y(),taper:Y(),terminal:Y()}),sk=Re(de(pe(se({epoch:Y(),effectiveSlot:Y(),amount:Y(),postBalance:Y(),commission:Ne(pe(Y()))})))),ik=de(se({slot:Y(),prioritizationFee:Y()})),ok=se({total:Y(),validator:Y(),foundation:Y(),epoch:Y()}),ak=se({epoch:Y(),slotIndex:Y(),slotsInEpoch:Y(),absoluteSlot:Y(),blockHeight:Ne(Y()),transactionCount:Ne(Y())}),lk=se({slotsPerEpoch:Y(),leaderScheduleSlotOffset:Y(),warmup:Pr(),firstNormalEpoch:Y(),firstNormalSlot:Y()}),ck=Gx(le(),de(Y())),ji=pe(Nn([se({}),le()])),uk=se({err:ji}),dk=ut("receivedSignature"),fk=se({"solana-core":le(),"feature-set":Ne(Y())}),hk=se({program:le(),programId:pt,parsed:To()}),pk=se({programId:pt,accounts:de(pt),data:le()}),Vm=xt(se({err:pe(Nn([se({}),le()])),logs:pe(de(le())),accounts:Ne(pe(de(pe(se({executable:Pr(),owner:le(),lamports:Y(),data:de(le()),rentEpoch:Ne(Y())}))))),unitsConsumed:Ne(Y()),returnData:Ne(pe(se({programId:le(),data:Mp([le(),ut("base64")])}))),innerInstructions:Ne(pe(de(se({index:Y(),instructions:de(Nn([hk,pk]))}))))})),mk=xt(se({byIdentity:Gx(le(),de(Y())),range:se({firstSlot:Y(),lastSlot:Y()})}));function gk(e,t,n,r,s,i){const o=n||G4;let l;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(d,p)=>{const x=await new Promise((N,C)=>{try{r(d,p,(S,E)=>N([S,E]))}catch(S){C(S)}});return await o(...x)}),new l4(async(d,p)=>{const x={method:"POST",body:d,agent:l,headers:Object.assign({"Content-Type":"application/json"},t||{},gj)};try{let N=5,C,S=500;for(;c?C=await c(e,x):C=await o(e,x),!(C.status!==429||s===!0||(N-=1,N===0));)console.error(`Server responded with ${C.status} ${C.statusText}.  Retrying after ${S}ms delay...`),await Bi(S),S*=2;const E=await C.text();C.ok?p(null,E):p(new Error(`${C.status} ${C.statusText}: ${E}`))}catch(N){N instanceof Error&&p(N)}},{})}function yk(e){return(t,n)=>new Promise((r,s)=>{e.request(t,n,(i,o)=>{if(i){s(i);return}r(o)})})}function xk(e){return t=>new Promise((n,r)=>{t.length===0&&n([]);const s=t.map(i=>e.request(i.methodName,i.args));e.request(s,(i,o)=>{if(i){r(i);return}n(o)})})}const wk=Re(rk),vk=Re(ok),bk=Re(ik),Sk=Re(ak),Ek=Re(lk),Nk=Re(ck),_k=Re(Y()),kk=xt(se({total:Y(),circulating:Y(),nonCirculating:Y(),nonCirculatingAccounts:de(pt)})),Xf=se({amount:le(),uiAmount:pe(Y()),decimals:Y(),uiAmountString:Ne(le())}),jk=xt(de(se({address:pt,amount:le(),uiAmount:pe(Y()),decimals:Y(),uiAmountString:Ne(le())}))),Ck=xt(de(se({pubkey:pt,account:se({executable:Pr(),owner:pt,lamports:Y(),data:Lp,rentEpoch:Y()})}))),Jf=se({program:le(),parsed:To(),space:Y()}),Ak=xt(de(se({pubkey:pt,account:se({executable:Pr(),owner:pt,lamports:Y(),data:Jf,rentEpoch:Y()})}))),Ik=xt(de(se({lamports:Y(),address:pt}))),Oa=se({executable:Pr(),owner:pt,lamports:Y(),data:Lp,rentEpoch:Y()}),Tk=se({pubkey:pt,account:Oa}),Mk=Qa(Nn([Tp(Ae),Jf]),Nn([fw,Jf]),e=>Array.isArray(e)?ce(e,Lp):e),eh=se({executable:Pr(),owner:pt,lamports:Y(),data:Mk,rentEpoch:Y()}),Rk=se({pubkey:pt,account:eh}),Bk=se({state:Nn([ut("active"),ut("inactive"),ut("activating"),ut("deactivating")]),active:Y(),inactive:Y()}),Pk=Re(de(se({signature:le(),slot:Y(),err:ji,memo:pe(le()),blockTime:Ne(pe(Y()))}))),Lk=Re(de(se({signature:le(),slot:Y(),err:ji,memo:pe(le()),blockTime:Ne(pe(Y()))}))),Ok=se({subscription:Y(),result:ou(Oa)}),Uk=se({pubkey:pt,account:Oa}),zk=se({subscription:Y(),result:ou(Uk)}),Fk=se({parent:Y(),slot:Y(),root:Y()}),Dk=se({subscription:Y(),result:Fk}),$k=Nn([se({type:Nn([ut("firstShredReceived"),ut("completed"),ut("optimisticConfirmation"),ut("root")]),slot:Y(),timestamp:Y()}),se({type:ut("createdBank"),parent:Y(),slot:Y(),timestamp:Y()}),se({type:ut("frozen"),slot:Y(),timestamp:Y(),stats:se({numTransactionEntries:Y(),numSuccessfulTransactions:Y(),numFailedTransactions:Y(),maxTransactionsPerEntry:Y()})}),se({type:ut("dead"),slot:Y(),timestamp:Y(),err:le()})]),Wk=se({subscription:Y(),result:$k}),Kk=se({subscription:Y(),result:ou(Nn([uk,dk]))}),Hk=se({subscription:Y(),result:Y()}),Vk=se({pubkey:le(),gossip:pe(le()),tpu:pe(le()),rpc:pe(le()),version:pe(le())}),qm=se({votePubkey:le(),nodePubkey:le(),activatedStake:Y(),epochVoteAccount:Pr(),epochCredits:de(Mp([Y(),Y(),Y()])),commission:Y(),lastVote:Y(),rootSlot:pe(Y())}),qk=Re(se({current:de(qm),delinquent:de(qm)})),Gk=Nn([ut("processed"),ut("confirmed"),ut("finalized")]),Yk=se({slot:Y(),confirmations:pe(Y()),err:ji,confirmationStatus:Ne(Gk)}),Zk=xt(de(pe(Yk))),Qk=Re(Y()),pw=se({accountKey:pt,writableIndexes:de(Y()),readonlyIndexes:de(Y())}),Op=se({signatures:de(le()),message:se({accountKeys:de(le()),header:se({numRequiredSignatures:Y(),numReadonlySignedAccounts:Y(),numReadonlyUnsignedAccounts:Y()}),instructions:de(se({accounts:de(Y()),data:le(),programIdIndex:Y()})),recentBlockhash:le(),addressTableLookups:Ne(de(pw))})}),mw=se({pubkey:pt,signer:Pr(),writable:Pr(),source:Ne(Nn([ut("transaction"),ut("lookupTable")]))}),gw=se({accountKeys:de(mw),signatures:de(le())}),yw=se({parsed:To(),program:le(),programId:pt}),xw=se({accounts:de(pt),data:le(),programId:pt}),Xk=Nn([xw,yw]),Jk=Nn([se({parsed:To(),program:le(),programId:le()}),se({accounts:de(le()),data:le(),programId:le()})]),ww=Qa(Xk,Jk,e=>"accounts"in e?ce(e,xw):ce(e,yw)),vw=se({signatures:de(le()),message:se({accountKeys:de(mw),instructions:de(ww),recentBlockhash:le(),addressTableLookups:Ne(pe(de(pw)))})}),Ec=se({accountIndex:Y(),mint:le(),owner:Ne(le()),programId:Ne(le()),uiTokenAmount:Xf}),bw=se({writable:de(pt),readonly:de(pt)}),au=se({err:ji,fee:Y(),innerInstructions:Ne(pe(de(se({index:Y(),instructions:de(se({accounts:de(Y()),data:le(),programIdIndex:Y()}))})))),preBalances:de(Y()),postBalances:de(Y()),logMessages:Ne(pe(de(le()))),preTokenBalances:Ne(pe(de(Ec))),postTokenBalances:Ne(pe(de(Ec))),loadedAddresses:Ne(bw),computeUnitsConsumed:Ne(Y())}),Up=se({err:ji,fee:Y(),innerInstructions:Ne(pe(de(se({index:Y(),instructions:de(ww)})))),preBalances:de(Y()),postBalances:de(Y()),logMessages:Ne(pe(de(le()))),preTokenBalances:Ne(pe(de(Ec))),postTokenBalances:Ne(pe(de(Ec))),loadedAddresses:Ne(bw),computeUnitsConsumed:Ne(Y())}),Mo=Nn([ut(0),ut("legacy")]),Ci=se({pubkey:le(),lamports:Y(),postBalance:pe(Y()),rewardType:pe(le()),commission:Ne(pe(Y()))}),ej=Re(pe(se({blockhash:le(),previousBlockhash:le(),parentSlot:Y(),transactions:de(se({transaction:Op,meta:pe(au),version:Ne(Mo)})),rewards:Ne(de(Ci)),blockTime:pe(Y()),blockHeight:pe(Y())}))),tj=Re(pe(se({blockhash:le(),previousBlockhash:le(),parentSlot:Y(),rewards:Ne(de(Ci)),blockTime:pe(Y()),blockHeight:pe(Y())}))),nj=Re(pe(se({blockhash:le(),previousBlockhash:le(),parentSlot:Y(),transactions:de(se({transaction:gw,meta:pe(au),version:Ne(Mo)})),rewards:Ne(de(Ci)),blockTime:pe(Y()),blockHeight:pe(Y())}))),rj=Re(pe(se({blockhash:le(),previousBlockhash:le(),parentSlot:Y(),transactions:de(se({transaction:vw,meta:pe(Up),version:Ne(Mo)})),rewards:Ne(de(Ci)),blockTime:pe(Y()),blockHeight:pe(Y())}))),sj=Re(pe(se({blockhash:le(),previousBlockhash:le(),parentSlot:Y(),transactions:de(se({transaction:gw,meta:pe(Up),version:Ne(Mo)})),rewards:Ne(de(Ci)),blockTime:pe(Y()),blockHeight:pe(Y())}))),ij=Re(pe(se({blockhash:le(),previousBlockhash:le(),parentSlot:Y(),rewards:Ne(de(Ci)),blockTime:pe(Y()),blockHeight:pe(Y())}))),oj=Re(pe(se({blockhash:le(),previousBlockhash:le(),parentSlot:Y(),transactions:de(se({transaction:Op,meta:pe(au)})),rewards:Ne(de(Ci)),blockTime:pe(Y())}))),Gm=Re(pe(se({blockhash:le(),previousBlockhash:le(),parentSlot:Y(),signatures:de(le()),blockTime:pe(Y())}))),Td=Re(pe(se({slot:Y(),meta:pe(au),blockTime:Ne(pe(Y())),transaction:Op,version:Ne(Mo)}))),bl=Re(pe(se({slot:Y(),transaction:vw,meta:pe(Up),blockTime:Ne(pe(Y())),version:Ne(Mo)}))),aj=xt(se({blockhash:le(),lastValidBlockHeight:Y()})),lj=xt(Pr()),cj=se({slot:Y(),numTransactions:Y(),numSlots:Y(),samplePeriodSecs:Y()}),uj=Re(de(cj)),dj=xt(pe(se({feeCalculator:se({lamportsPerSignature:Y()})}))),fj=Re(le()),hj=Re(le()),pj=se({err:ji,logs:de(le()),signature:le()}),mj=se({result:ou(pj),subscription:Y()}),gj={"solana-client":"js/1.0.0-maintenance"};class On{constructor(t,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async d=>{const{commitment:p,config:x}=Xe(d),N=this._buildArgs([],p,void 0,x),C=$m(N);return u[C]=u[C]??(async()=>{try{const S=await this._rpcRequest("getBlockHeight",N),E=ce(S,Re(Y()));if("error"in E)throw new be(E.error,"failed to get block height information");return E.result}finally{delete u[C]}})(),await u[C]}})();let r,s,i,o,l,c;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,s=n.httpHeaders,i=n.fetch,o=n.fetchMiddleware,l=n.disableRetryOnRateLimit,c=n.httpAgent),this._rpcEndpoint=tk(t),this._rpcWsEndpoint=r||J4(t),this._rpcClient=gk(t,s,i,o,l,c),this._rpcRequest=yk(this._rpcClient),this._rpcBatchRequest=xk(this._rpcClient),this._rpcWebSocket=new Y4(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,n){const{commitment:r,config:s}=Xe(n),i=this._buildArgs([t.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),l=ce(o,xt(Y()));if("error"in l)throw new be(l.error,`failed to get balance for ${t.toBase58()}`);return l.result}async getBalance(t,n){return await this.getBalanceAndContext(t,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+r)})}async getBlockTime(t){const n=await this._rpcRequest("getBlockTime",[t]),r=ce(n,Re(pe(Y())));if("error"in r)throw new be(r.error,`failed to get block time for slot ${t}`);return r.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),n=ce(t,Re(Y()));if("error"in n)throw new be(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),n=ce(t,_k);if("error"in n)throw new be(n.error,"failed to get first available block");return n.result}async getSupply(t){let n={};typeof t=="string"?n={commitment:t}:t?n={...t,commitment:t&&t.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),s=ce(r,kk);if("error"in s)throw new be(s.error,"failed to get supply");return s.result}async getTokenSupply(t,n){const r=this._buildArgs([t.toBase58()],n),s=await this._rpcRequest("getTokenSupply",r),i=ce(s,xt(Xf));if("error"in i)throw new be(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(t,n){const r=this._buildArgs([t.toBase58()],n),s=await this._rpcRequest("getTokenAccountBalance",r),i=ce(s,xt(Xf));if("error"in i)throw new be(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(t,n,r){const{commitment:s,config:i}=Xe(r);let o=[t.toBase58()];"mint"in n?o.push({mint:n.mint.toBase58()}):o.push({programId:n.programId.toBase58()});const l=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",l),u=ce(c,Ck);if("error"in u)throw new be(u.error,`failed to get token accounts owned by account ${t.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(t,n,r){let s=[t.toBase58()];"mint"in n?s.push({mint:n.mint.toBase58()}):s.push({programId:n.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),l=ce(o,Ak);if("error"in l)throw new be(l.error,`failed to get token accounts owned by account ${t.toBase58()}`);return l.result}async getLargestAccounts(t){const n={...t,commitment:t&&t.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],s=await this._rpcRequest("getLargestAccounts",r),i=ce(s,Ik);if("error"in i)throw new be(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(t,n){const r=this._buildArgs([t.toBase58()],n),s=await this._rpcRequest("getTokenLargestAccounts",r),i=ce(s,jk);if("error"in i)throw new be(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(t,n){const{commitment:r,config:s}=Xe(n),i=this._buildArgs([t.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),l=ce(o,xt(pe(Oa)));if("error"in l)throw new be(l.error,`failed to get info about account ${t.toBase58()}`);return l.result}async getParsedAccountInfo(t,n){const{commitment:r,config:s}=Xe(n),i=this._buildArgs([t.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),l=ce(o,xt(pe(eh)));if("error"in l)throw new be(l.error,`failed to get info about account ${t.toBase58()}`);return l.result}async getAccountInfo(t,n){try{return(await this.getAccountInfoAndContext(t,n)).value}catch(r){throw new Error("failed to get info about account "+t.toBase58()+": "+r)}}async getMultipleParsedAccounts(t,n){const{commitment:r,config:s}=Xe(n),i=t.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),l=await this._rpcRequest("getMultipleAccounts",o),c=ce(l,xt(de(pe(eh))));if("error"in c)throw new be(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(t,n){const{commitment:r,config:s}=Xe(n),i=t.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),l=await this._rpcRequest("getMultipleAccounts",o),c=ce(l,xt(de(pe(Oa))));if("error"in c)throw new be(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(t,n){return(await this.getMultipleAccountsInfoAndContext(t,n)).value}async getStakeActivation(t,n,r){const{commitment:s,config:i}=Xe(n),o=this._buildArgs([t.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),l=await this._rpcRequest("getStakeActivation",o),c=ce(l,Re(Bk));if("error"in c)throw new be(c.error,`failed to get Stake Activation ${t.toBase58()}`);return c.result}async getProgramAccounts(t,n){const{commitment:r,config:s}=Xe(n),{encoding:i,...o}=s||{},l=this._buildArgs([t.toBase58()],r,i||"base64",{...o,...o.filters?{filters:Hm(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",l),u=de(Tk),d=o.withContext===!0?ce(c,xt(u)):ce(c,Re(u));if("error"in d)throw new be(d.error,`failed to get accounts owned by program ${t.toBase58()}`);return d.result}async getParsedProgramAccounts(t,n){const{commitment:r,config:s}=Xe(n),i=this._buildArgs([t.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),l=ce(o,Re(de(Rk)));if("error"in l)throw new be(l.error,`failed to get accounts owned by program ${t.toBase58()}`);return l.result}async confirmTransaction(t,n){var i;let r;if(typeof t=="string")r=t;else{const o=t;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=rn.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return ot(s.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((n,r)=>{t!=null&&(t.aborted?r(t.reason):t.addEventListener("abort",()=>{r(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:n}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(n,(p,x)=>{r=void 0;const N={context:x,value:p};c({__type:gs.PROCESSED,response:N})},t);const d=new Promise(p=>{r==null?p():s=this._onSubscriptionStateChange(r,x=>{x==="subscribed"&&p()})});(async()=>{if(await d,i)return;const p=await this.getSignatureStatus(n);if(i||p==null)return;const{context:x,value:N}=p;if(N!=null)if(N!=null&&N.err)u(N.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(N.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(N.confirmationStatus==="processed"||N.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:gs.PROCESSED,response:{context:x,value:N}})}})()}catch(d){u(d)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(p=>{const x=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let N=await x();if(!i){for(;N<=r;)if(await Bi(1e3),i||(N=await x(),i))return;p({__type:gs.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:l,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:t,signature:s}),u=this.getCancellationPromise(n);let d;try{const p=await Promise.race([u,c,o]);if(p.__type===gs.PROCESSED)d=p.response;else throw new aw(s)}finally{i=!0,l()}return d}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let l=!1;const c=new Promise(N=>{let C=i,S=null;const E=async()=>{try{const{context:v,value:b}=await this.getNonceAndContext(s,{commitment:t,minContextSlot:r});return S=v.slot,b==null?void 0:b.nonce}catch{return C}};(async()=>{if(C=await E(),!l)for(;;){if(i!==C){N({__type:gs.NONCE_INVALID,slotInWhichNonceDidAdvance:S});return}if(await Bi(2e3),l||(C=await E(),l))return}})()}),{abortConfirmation:u,confirmationPromise:d}=this.getTransactionConfirmationPromise({commitment:t,signature:o}),p=this.getCancellationPromise(n);let x;try{const N=await Promise.race([p,d,c]);if(N.__type===gs.PROCESSED)x=N.response;else{let C;for(;;){const S=await this.getSignatureStatus(o);if(S==null)break;if(S.context.slot<(N.slotInWhichNonceDidAdvance??r)){await Bi(400);continue}C=S;break}if(C!=null&&C.value){const S=t||"finalized",{confirmationStatus:E}=C.value;switch(S){case"processed":case"recent":if(E!=="processed"&&E!=="confirmed"&&E!=="finalized")throw new Yo(o);break;case"confirmed":case"single":case"singleGossip":if(E!=="confirmed"&&E!=="finalized")throw new Yo(o);break;case"finalized":case"max":case"root":if(E!=="finalized")throw new Yo(o);break;default:}x={context:C.context,value:{err:C.value.err}}}else throw new Yo(o)}}finally{l=!0,u()}return x}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:n}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:gs.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:t,signature:n});let l;try{const c=await Promise.race([o,s]);if(c.__type===gs.PROCESSED)l=c.response;else throw new lw(n,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return l}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),n=ce(t,Re(de(Vk)));if("error"in n)throw new be(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(t){const n=this._buildArgs([],t),r=await this._rpcRequest("getVoteAccounts",n),s=ce(r,qk);if("error"in s)throw new be(s.error,"failed to get vote accounts");return s.result}async getSlot(t){const{commitment:n,config:r}=Xe(t),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getSlot",s),o=ce(i,Re(Y()));if("error"in o)throw new be(o.error,"failed to get slot");return o.result}async getSlotLeader(t){const{commitment:n,config:r}=Xe(t),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=ce(i,Re(le()));if("error"in o)throw new be(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(t,n){const r=[t,n],s=await this._rpcRequest("getSlotLeaders",r),i=ce(s,Re(de(pt)));if("error"in i)throw new be(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(t,n){const{context:r,value:s}=await this.getSignatureStatuses([t],n);ot(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(t,n){const r=[t];n&&r.push(n);const s=await this._rpcRequest("getSignatureStatuses",r),i=ce(s,Zk);if("error"in i)throw new be(i.error,"failed to get signature status");return i.result}async getTransactionCount(t){const{commitment:n,config:r}=Xe(t),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=ce(i,Re(Y()));if("error"in o)throw new be(o.error,"failed to get transaction count");return o.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const n=this._buildArgs([],t),r=await this._rpcRequest("getInflationGovernor",n),s=ce(r,wk);if("error"in s)throw new be(s.error,"failed to get inflation");return s.result}async getInflationReward(t,n,r){const{commitment:s,config:i}=Xe(r),o=this._buildArgs([t.map(u=>u.toBase58())],s,void 0,{...i,epoch:n??(i==null?void 0:i.epoch)}),l=await this._rpcRequest("getInflationReward",o),c=ce(l,sk);if("error"in c)throw new be(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),n=ce(t,vk);if("error"in n)throw new be(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(t){const{commitment:n,config:r}=Xe(t),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=ce(i,Sk);if("error"in o)throw new be(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),n=ce(t,Ek);if("error"in n)throw new be(n.error,"failed to get epoch schedule");const r=n.result;return new q4(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),n=ce(t,Nk);if("error"in n)throw new be(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(t,n){const r=this._buildArgs([t],n),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=ce(s,Qk);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(t){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(t);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(t){const n=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),r=ce(n,uj);if("error"in r)throw new be(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(t,n){const r=this._buildArgs([t],n),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=ce(s,dj);if("error"in i)throw new be(i.error,"failed to get fee calculator");const{context:o,value:l}=i.result;return{context:o,value:l!==null?l.feeCalculator:null}}async getFeeForMessage(t,n){const r=Jt(t.serialize()).toString("base64"),s=this._buildArgs([r],n),i=await this._rpcRequest("getFeeForMessage",s),o=ce(i,xt(pe(Y())));if("error"in o)throw new be(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(t){var o;const n=(o=t==null?void 0:t.lockedWritableAccounts)==null?void 0:o.map(l=>l.toBase58()),r=n!=null&&n.length?[n]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=ce(s,bk);if("error"in i)throw new be(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(t){const{commitment:n,config:r}=Xe(t),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=ce(i,aj);if("error"in o)throw new be(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(t,n){const{commitment:r,config:s}=Xe(n),i=this._buildArgs([t],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),l=ce(o,lj);if("error"in l)throw new be(l.error,"failed to determine if the blockhash `"+t+"`is valid");return l.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),n=ce(t,Re(fk));if("error"in n)throw new be(n.error,"failed to get version");return n.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),n=ce(t,Re(le()));if("error"in n)throw new be(n.error,"failed to get genesis hash");return n.result}async getBlock(t,n){const{commitment:r,config:s}=Xe(n),i=this._buildArgsAtLeastConfirmed([t],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const l=ce(o,nj);if("error"in l)throw l.error;return l.result}case"none":{const l=ce(o,tj);if("error"in l)throw l.error;return l.result}default:{const l=ce(o,ej);if("error"in l)throw l.error;const{result:c}=l;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:d,version:p})=>({meta:d,transaction:{...u,message:Id(p,u.message)},version:p}))}:null}}}catch(l){throw new be(l,"failed to get confirmed block")}}async getParsedBlock(t,n){const{commitment:r,config:s}=Xe(n),i=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const l=ce(o,sj);if("error"in l)throw l.error;return l.result}case"none":{const l=ce(o,ij);if("error"in l)throw l.error;return l.result}default:{const l=ce(o,rj);if("error"in l)throw l.error;return l.result}}}catch(l){throw new be(l,"failed to get block")}}async getBlockProduction(t){let n,r;if(typeof t=="string")r=t;else if(t){const{commitment:l,...c}=t;r=l,n=c}const s=this._buildArgs([],r,"base64",n),i=await this._rpcRequest("getBlockProduction",s),o=ce(i,mk);if("error"in o)throw new be(o.error,"failed to get block production information");return o.result}async getTransaction(t,n){const{commitment:r,config:s}=Xe(n),i=this._buildArgsAtLeastConfirmed([t],r,void 0,s),o=await this._rpcRequest("getTransaction",i),l=ce(o,Td);if("error"in l)throw new be(l.error,"failed to get transaction");const c=l.result;return c&&{...c,transaction:{...c.transaction,message:Id(c.version,c.transaction.message)}}}async getParsedTransaction(t,n){const{commitment:r,config:s}=Xe(n),i=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),l=ce(o,bl);if("error"in l)throw new be(l.error,"failed to get transaction");return l.result}async getParsedTransactions(t,n){const{commitment:r,config:s}=Xe(n),i=t.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s)}));return(await this._rpcBatchRequest(i)).map(c=>{const u=ce(c,bl);if("error"in u)throw new be(u.error,"failed to get transactions");return u.result})}async getTransactions(t,n){const{commitment:r,config:s}=Xe(n),i=t.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,void 0,s)}));return(await this._rpcBatchRequest(i)).map(c=>{const u=ce(c,Td);if("error"in u)throw new be(u.error,"failed to get transactions");const d=u.result;return d&&{...d,transaction:{...d.transaction,message:Id(d.version,d.transaction.message)}}})}async getConfirmedBlock(t,n){const r=this._buildArgsAtLeastConfirmed([t],n),s=await this._rpcRequest("getBlock",r),i=ce(s,oj);if("error"in i)throw new be(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+t+" not found");const l={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const d=new ss(c.message);return{meta:u,transaction:{...c,message:d}}})};return{...l,transactions:l.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:qt.populate(c.message,c.signatures)}))}}async getBlocks(t,n,r){const s=this._buildArgsAtLeastConfirmed(n!==void 0?[t,n]:[t],r),i=await this._rpcRequest("getBlocks",s),o=ce(i,Re(de(Y())));if("error"in o)throw new be(o.error,"failed to get blocks");return o.result}async getBlockSignatures(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=ce(s,Gm);if("error"in i)throw new be(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+t+" not found");return o}async getConfirmedBlockSignatures(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=ce(s,Gm);if("error"in i)throw new be(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+t+" not found");return o}async getConfirmedTransaction(t,n){const r=this._buildArgsAtLeastConfirmed([t],n),s=await this._rpcRequest("getTransaction",r),i=ce(s,Td);if("error"in i)throw new be(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const l=new ss(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:qt.populate(l,c)}}async getParsedConfirmedTransaction(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed"),s=await this._rpcRequest("getTransaction",r),i=ce(s,bl);if("error"in i)throw new be(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(t,n){const r=t.map(o=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([o],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const l=ce(o,bl);if("error"in l)throw new be(l.error,"failed to get confirmed transactions");return l.result})}async getConfirmedSignaturesForAddress(t,n,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(n--,!(n<=0||n<i));)try{const c=await this.getConfirmedBlockSignatures(n,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(t,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(t,n,r){const s=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,n),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=ce(i,Pk);if("error"in o)throw new be(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(t,n,r){const s=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,n),i=await this._rpcRequest("getSignaturesForAddress",s),o=ce(i,Lk);if("error"in o)throw new be(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(t,n){const{context:r,value:s}=await this.getAccountInfoAndContext(t,n);let i=null;return s!==null&&(i=new Km({key:t,state:Km.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(t,n){const{context:r,value:s}=await this.getAccountInfoAndContext(t,n);let i=null;return s!==null&&(i=Pp.fromAccountData(s.data)),{context:r,value:i}}async getNonce(t,n){return await this.getNonceAndContext(t,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+r)})}async requestAirdrop(t,n){const r=await this._rpcRequest("requestAirdrop",[t.toBase58(),n]),s=ce(r,fj);if("error"in s)throw new be(s.error,`airdrop to ${t.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await Bi(100);const r=Date.now()-this._blockhashInfo.lastFetch>=ek;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await Bi(z4/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:n,config:r}=Xe(t),s=this._buildArgs([],n,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=ce(i,xt(Y()));if("error"in o)throw new be(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(t,n,r){if("message"in t){const S=t.serialize(),E=Ae.from(S).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const v=n||{};v.encoding="base64","commitment"in v||(v.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(v.innerInstructions=n.innerInstructions);const b=[E,v],g=await this._rpcRequest("simulateTransaction",b),R=ce(g,Vm);if("error"in R)throw new Error("failed to simulate transaction: "+R.error.message);return R.result}let s;if(t instanceof qt){let C=t;s=new qt,s.feePayer=C.feePayer,s.instructions=t.instructions,s.nonceInfo=C.nonceInfo,s.signatures=C.signatures}else s=qt.populate(t),s._message=s._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(s.nonceInfo&&i)s.sign(...i);else{let C=this._disableBlockhashCaching;for(;;){const S=await this._blockhashWithExpiryBlockHeight(C);if(s.lastValidBlockHeight=S.lastValidBlockHeight,s.recentBlockhash=S.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const E=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(E)&&!this._blockhashInfo.transactionSignatures.includes(E)){this._blockhashInfo.simulatedSignatures.push(E);break}else C=!0}}const o=s._compile(),l=o.serialize(),u=s._serialize(l).toString("base64"),d={encoding:"base64",commitment:this.commitment};if(r){const C=(Array.isArray(r)?r:o.nonProgramIds()).map(S=>S.toBase58());d.accounts={encoding:"base64",addresses:C}}i&&(d.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(d.innerInstructions=n.innerInstructions);const p=[u,d],x=await this._rpcRequest("simulateTransaction",p),N=ce(x,Vm);if("error"in N){let C;if("data"in N.error&&(C=N.error.data.logs,C&&Array.isArray(C))){const S=`
    `,E=S+C.join(S);console.error(N.error.message,E)}throw new zm({action:"simulate",signature:"",transactionMessage:N.error.message,logs:C})}return N.result}async sendTransaction(t,n,r){if("version"in t){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const o=t.serialize();return await this.sendRawTransaction(o,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const s=n;if(t.nonceInfo)t.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const l=await this._blockhashWithExpiryBlockHeight(o);if(t.lastValidBlockHeight=l.lastValidBlockHeight,t.recentBlockhash=l.blockhash,t.sign(...s),!t.signature)throw new Error("!signature");const c=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=t.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(t,n){const r=Jt(t).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(t,n){const r={encoding:"base64"},s=n&&n.skipPreflight,i=s===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[t,r],l=await this._rpcRequest("sendTransaction",o),c=ce(l,hj);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new zm({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(t,n){var s;const r=(s=this._subscriptionsByHash[t])==null?void 0:s.state;if(this._subscriptionsByHash[t]=n,r!==n.state){const i=this._subscriptionStateChangeCallbacksByHash[t];i&&i.forEach(o=>{try{o(n.state)}catch{}})}}_onSubscriptionStateChange(t,n){var i;const r=this._subscriptionHashByClientSubscriptionId[t];if(r==null)return()=>{};const s=(i=this._subscriptionStateChangeCallbacksByHash)[r]||(i[r]=new Set);return s.add(n),()=>{s.delete(n),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,n=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const l=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:l,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[l]=s.callbacks,await this._updateSubscriptions()}catch(l){if(console.error(`Received ${l instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:l}),!n())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(l){if(l instanceof Error&&console.error(`${o} error:`,l.message),!n())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,n){const r=this._subscriptionCallbacksByServerSubscriptionId[t];r!==void 0&&r.forEach(s=>{try{s(...n)}catch(i){console.error(i)}})}_wsOnAccountNotification(t){const{result:n,subscription:r}=ce(t,Ok);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(t,n){const r=this._nextClientSubscriptionId++,s=$m([t.method,n]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...t,args:n,callbacks:new Set([t.callback]),state:"pending"}:i.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];ot(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(t,n,r){const{commitment:s,config:i}=Xe(r),o=this._buildArgs([t.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:n,subscription:r}=ce(t,zk);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(t,n,r,s){const{commitment:i,config:o}=Xe(r),l=this._buildArgs([t.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:Hm(s)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},l)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,n,r){const s=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:n,subscription:r}=ce(t,mj);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(t){const{result:n,subscription:r}=ce(t,Dk);this._handleServerNotification(r,[n])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:n,subscription:r}=ce(t,Wk);this._handleServerNotification(r,[n])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${n}' events could not be found.`)}_buildArgs(t,n,r,s){const i=n||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),t.push(o)}return t}_buildArgsAtLeastConfirmed(t,n,r,s){const i=n||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,n,r,s)}_wsOnSignatureNotification(t){const{result:n,subscription:r}=ce(t,Kk);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(t,n,r){const s=this._buildArgs([t],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,l)=>{if(o.type==="status"){n(o.result,l);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(t,n,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([t],s,void 0,i),l=this._makeSubscription({callback:(c,u)=>{n(c,u);try{this.removeSignatureListener(l)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return l}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:n,subscription:r}=ce(t,Hk);this._handleServerNotification(r,[n])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:xe([Ee("instruction"),yo("recentSlot"),ze("bumpSeed")])},FreezeLookupTable:{index:1,layout:xe([Ee("instruction")])},ExtendLookupTable:{index:2,layout:xe([Ee("instruction"),yo(),gn(Pe(),ui(Ee(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:xe([Ee("instruction")])},CloseLookupTable:{index:4,layout:xe([Ee("instruction")])}});new ue("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:xe([ze("instruction"),Ee("units"),Ee("additionalFee")])},RequestHeapFrame:{index:1,layout:xe([ze("instruction"),Ee("bytes")])},SetComputeUnitLimit:{index:2,layout:xe([ze("instruction"),Ee("units")])},SetComputeUnitPrice:{index:3,layout:xe([ze("instruction"),yo("microLamports")])}});new ue("ComputeBudget111111111111111111111111111111");xe([ze("numSignatures"),ze("padding"),or("signatureOffset"),or("signatureInstructionIndex"),or("publicKeyOffset"),or("publicKeyInstructionIndex"),or("messageDataOffset"),or("messageDataSize"),or("messageInstructionIndex")]);new ue("Ed25519SigVerify111111111111111111111111111");_4.utils.isValidPrivateKey;xe([ze("numSignatures"),or("signatureOffset"),ze("signatureInstructionIndex"),or("ethAddressOffset"),ze("ethAddressInstructionIndex"),or("messageDataOffset"),or("messageDataSize"),ze("messageInstructionIndex"),Qe(20,"ethAddress"),Qe(64,"signature"),ze("recoveryId")]);new ue("KeccakSecp256k11111111111111111111111111111");var Sw;new ue("StakeConfig11111111111111111111111111111111");class Ew{constructor(t,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=n,this.custodian=r}}Sw=Ew;Ew.default=new Sw(0,0,ue.default);Object.freeze({Initialize:{index:0,layout:xe([Ee("instruction"),T4(),M4()])},Authorize:{index:1,layout:xe([Ee("instruction"),Pe("newAuthorized"),Ee("stakeAuthorizationType")])},Delegate:{index:2,layout:xe([Ee("instruction")])},Split:{index:3,layout:xe([Ee("instruction"),Wn("lamports")])},Withdraw:{index:4,layout:xe([Ee("instruction"),Wn("lamports")])},Deactivate:{index:5,layout:xe([Ee("instruction")])},Merge:{index:7,layout:xe([Ee("instruction")])},AuthorizeWithSeed:{index:8,layout:xe([Ee("instruction"),Pe("newAuthorized"),Ee("stakeAuthorizationType"),Gi("authoritySeed"),Pe("authorityOwner")])}});new ue("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:xe([Ee("instruction"),R4()])},Authorize:{index:1,layout:xe([Ee("instruction"),Pe("newAuthorized"),Ee("voteAuthorizationType")])},Withdraw:{index:3,layout:xe([Ee("instruction"),Wn("lamports")])},UpdateValidatorIdentity:{index:4,layout:xe([Ee("instruction")])},AuthorizeWithSeed:{index:10,layout:xe([Ee("instruction"),B4()])}});new ue("Vote111111111111111111111111111111111111111");new ue("Va1idator1nfo111111111111111111111111111111");se({name:le(),website:Ne(le()),details:Ne(le()),iconUrl:Ne(le()),keybaseUsername:Ne(le())});new ue("Vote111111111111111111111111111111111111111");xe([Pe("nodePubkey"),Pe("authorizedWithdrawer"),ze("commission"),Qt(),gn(xe([Qt("slot"),Ee("confirmationCount")]),ui(Ee(),-8),"votes"),ze("rootSlotValid"),Qt("rootSlot"),Qt(),gn(xe([Qt("epoch"),Pe("authorizedVoter")]),ui(Ee(),-8),"authorizedVoters"),xe([gn(xe([Pe("authorizedPubkey"),Qt("epochOfLastAuthorizedSwitch"),Qt("targetEpoch")]),32,"buf"),Qt("idx"),ze("isEmpty")],"priorVoters"),Qt(),gn(xe([Qt("epoch"),Qt("credits"),Qt("prevCredits")]),ui(Ee(),-8),"epochCredits"),xe([Qt("slot"),Qt("timestamp")],"lastTimestamp")]);const th=1e9,Nw=L.createContext({});function yj(){return L.useContext(Nw)}const xj=({children:e,endpoint:t,config:n={commitment:"confirmed"}})=>{const r=L.useMemo(()=>new On(t,n),[t,n]);return oe.createElement(Nw.Provider,{value:{connection:r}},e)};var _w={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,p,x){if(typeof d!="function")throw new TypeError("The listener must be a function");var N=new s(d,p||c,x),C=n?n+u:u;return c._events[C]?c._events[C].fn?c._events[C]=[c._events[C],N]:c._events[C].push(N):(c._events[C]=N,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,p;if(this._eventsCount===0)return u;for(p in d=this._events)t.call(d,p)&&u.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var x=0,N=p.length,C=new Array(N);x<N;x++)C[x]=p[x].fn;return C},l.prototype.listenerCount=function(u){var d=n?n+u:u,p=this._events[d];return p?p.fn?1:p.length:0},l.prototype.emit=function(u,d,p,x,N,C){var S=n?n+u:u;if(!this._events[S])return!1;var E=this._events[S],v=arguments.length,b,g;if(E.fn){switch(E.once&&this.removeListener(u,E.fn,void 0,!0),v){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,d),!0;case 3:return E.fn.call(E.context,d,p),!0;case 4:return E.fn.call(E.context,d,p,x),!0;case 5:return E.fn.call(E.context,d,p,x,N),!0;case 6:return E.fn.call(E.context,d,p,x,N,C),!0}for(g=1,b=new Array(v-1);g<v;g++)b[g-1]=arguments[g];E.fn.apply(E.context,b)}else{var R=E.length,z;for(g=0;g<R;g++)switch(E[g].once&&this.removeListener(u,E[g].fn,void 0,!0),v){case 1:E[g].fn.call(E[g].context);break;case 2:E[g].fn.call(E[g].context,d);break;case 3:E[g].fn.call(E[g].context,d,p);break;case 4:E[g].fn.call(E[g].context,d,p,x);break;default:if(!b)for(z=1,b=new Array(v-1);z<v;z++)b[z-1]=arguments[z];E[g].fn.apply(E[g].context,b)}}return!0},l.prototype.on=function(u,d,p){return i(this,u,d,p,!1)},l.prototype.once=function(u,d,p){return i(this,u,d,p,!0)},l.prototype.removeListener=function(u,d,p,x){var N=n?n+u:u;if(!this._events[N])return this;if(!d)return o(this,N),this;var C=this._events[N];if(C.fn)C.fn===d&&(!x||C.once)&&(!p||C.context===p)&&o(this,N);else{for(var S=0,E=[],v=C.length;S<v;S++)(C[S].fn!==d||x&&!C[S].once||p&&C[S].context!==p)&&E.push(C[S]);E.length?this._events[N]=E.length===1?E[0]:E:o(this,N)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(_w);var wj=_w.exports;const vj=ls(wj);class xn extends Error{constructor(t,n){super(t),this.error=n}}class di extends xn{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class Zo extends xn{constructor(){super(...arguments),this.name="WalletConfigError"}}class Yi extends xn{constructor(){super(...arguments),this.name="WalletConnectionError"}}class zp extends xn{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class kw extends xn{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class ri extends xn{constructor(){super(...arguments),this.name="WalletAccountError"}}class Nc extends xn{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class Mn extends xn{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class Cs extends xn{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class Zr extends xn{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class Fp extends xn{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class Ym extends xn{constructor(){super(...arguments),this.name="WalletSignInError"}}var Ue;(function(e){e.Installed="Installed",e.NotDetected="NotDetected",e.Loadable="Loadable",e.Unsupported="Unsupported"})(Ue||(Ue={}));class jw extends vj{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(t,n,r={}){const s=this.publicKey;if(!s)throw new Mn;return t.feePayer=t.feePayer||s,t.recentBlockhash=t.recentBlockhash||(await n.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,t}}function bj(e){if(typeof window>"u"||typeof document>"u")return;const t=[];function n(){if(e())for(const i of t)i()}const r=setInterval(n,1e3);t.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),t.push(()=>document.removeEventListener("DOMContentLoaded",n))),document.readyState!=="complete"&&(window.addEventListener("load",n,{once:!0}),t.push(()=>window.removeEventListener("load",n))),n()}function Sj(){if(!navigator)return!1;const e=navigator.userAgent.toLowerCase(),t=e.includes("iphone")||e.includes("ipad"),n=e.includes("safari");return t&&n}function As(e){return"version"in e}class Ej extends jw{async sendTransaction(t,n,r={}){let s=!0;try{if(As(t)){if(!this.supportedTransactionVersions)throw new Cs("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(t.version))throw new Cs(`Sending transaction version ${t.version} isn't supported by this wallet`);try{t=await this.signTransaction(t);const i=t.serialize();return await n.sendRawTransaction(i,r)}catch(i){throw i instanceof Zr?(s=!1,i):new Cs(i==null?void 0:i.message,i)}}else try{const{signers:i,...o}=r;t=await this.prepareTransaction(t,n,o),i!=null&&i.length&&t.partialSign(...i),t=await this.signTransaction(t);const l=t.serialize();return await n.sendRawTransaction(l,o)}catch(i){throw i instanceof Zr?(s=!1,i):new Cs(i==null?void 0:i.message,i)}}catch(i){throw s&&this.emit("error",i),i}}async signAllTransactions(t){for(const r of t)if(As(r)){if(!this.supportedTransactionVersions)throw new Zr("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new Zr(`Signing transaction version ${r.version} isn't supported by this wallet`)}const n=[];for(const r of t)n.push(await this.signTransaction(r));return n}}class Cw extends Ej{}class Nj extends Cw{}const Ss="solana:signAndSendTransaction",Md="solana:signIn",Wo="solana:signMessage",en="solana:signTransaction",Aw="standard:connect",Zm="standard:disconnect",Iw="standard:events";function _j(e){return Aw in e.features&&Iw in e.features&&(Ss in e.features||en in e.features)}class Qm extends xn{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const kj=[],lu={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){xr("call","select")},connect(){return Promise.reject(xr("call","connect"))},disconnect(){return Promise.reject(xr("call","disconnect"))},sendTransaction(){return Promise.reject(xr("call","sendTransaction"))},signTransaction(){return Promise.reject(xr("call","signTransaction"))},signAllTransactions(){return Promise.reject(xr("call","signAllTransactions"))},signMessage(){return Promise.reject(xr("call","signMessage"))},signIn(){return Promise.reject(xr("call","signIn"))}};Object.defineProperty(lu,"wallets",{get(){return xr("read","wallets"),kj}});Object.defineProperty(lu,"wallet",{get(){return xr("read","wallet"),null}});Object.defineProperty(lu,"publicKey",{get(){return xr("read","publicKey"),null}});function xr(e,t){const n=new Error(`You have tried to ${e} "${t}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(n),n}const Tw=L.createContext(lu);function wn(){return L.useContext(Tw)}function jj(e,t){const n=L.useState(()=>{try{const i=localStorage.getItem(e);if(i)return JSON.parse(i)}catch(i){typeof window<"u"&&console.error(i)}return t}),r=n[0],s=L.useRef(!0);return L.useEffect(()=>{if(s.current){s.current=!1;return}try{r===null?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(r))}catch(i){typeof window<"u"&&console.error(i)}},[r,e]),n}function Rd(e){switch(e){case"processed":case"confirmed":case"finalized":case void 0:return e;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const Xm="solana:mainnet",Cj="solana:devnet",Aj="solana:testnet",Ij="solana:localnet",Tj="https://api.mainnet-beta.solana.com";function Mj(e){return e.includes(Tj)?Xm:/\bdevnet\b/i.test(e)?Cj:/\btestnet\b/i.test(e)?Aj:/\blocalhost\b/i.test(e)||/\b127\.0\.0\.1\b/.test(e)?Ij:Xm}function Rj(e){let t=`${e.domain} wants you to sign in with your Solana account:
`;t+=`${e.address}`,e.statement&&(t+=`

${e.statement}`);const n=[];if(e.uri&&n.push(`URI: ${e.uri}`),e.version&&n.push(`Version: ${e.version}`),e.chainId&&n.push(`Chain ID: ${e.chainId}`),e.nonce&&n.push(`Nonce: ${e.nonce}`),e.issuedAt&&n.push(`Issued At: ${e.issuedAt}`),e.expirationTime&&n.push(`Expiration Time: ${e.expirationTime}`),e.notBefore&&n.push(`Not Before: ${e.notBefore}`),e.requestId&&n.push(`Request ID: ${e.requestId}`),e.resources){n.push("Resources:");for(const r of e.resources)n.push(`- ${r}`)}return n.length&&(t+=`

${n.join(`
`)}`),t}const is={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_REFLECTOR_ID_OUT_OF_RANGE:"ERROR_REFLECTOR_ID_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};class os extends Error{constructor(...t){const[n,r,s]=t;super(r),this.code=n,this.data=s,this.name="SolanaMobileWalletAdapterError"}}class Mw extends Error{constructor(...t){const[n,r,s,i]=t;super(s),this.code=r,this.data=i,this.jsonRpcMessageId=n,this.name="SolanaMobileWalletAdapterProtocolError"}}function Ot(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(p){o(p)}}function c(d){try{u(r.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,[])).next())})}function Bd(e,t){return Ot(this,void 0,void 0,function*(){const n=yield crypto.subtle.exportKey("raw",e),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},t,n),s=new Uint8Array(n.byteLength+r.byteLength);return s.set(new Uint8Array(n),0),s.set(new Uint8Array(r),n.byteLength),s})}function Bj(e){return window.btoa(e)}function Pj(e){return Rj(e)}function Lj(e){return Bj(Pj(e))}const Oj="solana:signTransactions",Jm="solana:cloneAuthorization";function Uj(e,t){return new Proxy({},{get(n,r){return n[r]==null&&(n[r]=function(s){return Ot(this,void 0,void 0,function*(){const{method:i,params:o}=zj(r,s,e),l=yield t(i,o);return i==="authorize"&&o.sign_in_payload&&!l.sign_in_result&&(l.sign_in_result=yield Dj(o.sign_in_payload,l,t)),Fj(r,l,e)})}),n[r]},defineProperty(){return!1},deleteProperty(){return!1}})}function zj(e,t,n){let r=t,s=e.toString().replace(/[A-Z]/g,i=>`_${i.toLowerCase()}`).toLowerCase();switch(e){case"authorize":{let{chain:i}=r;if(n==="legacy"){switch(i){case"solana:testnet":{i="testnet";break}case"solana:devnet":{i="devnet";break}case"solana:mainnet":{i="mainnet-beta";break}default:i=r.cluster}r.cluster=i}else{switch(i){case"testnet":case"devnet":{i=`solana:${i}`;break}case"mainnet-beta":{i="solana:mainnet";break}}r.chain=i}}case"reauthorize":{const{auth_token:i,identity:o}=r;if(i)switch(n){case"legacy":{s="reauthorize",r={auth_token:i,identity:o};break}default:{s="authorize";break}}break}}return{method:s,params:r}}function Fj(e,t,n){switch(e){case"getCapabilities":{const r=t;switch(n){case"legacy":{const s=[Oj];return r.supports_clone_authorization===!0&&s.push(Jm),Object.assign(Object.assign({},r),{features:s})}case"v1":return Object.assign(Object.assign({},r),{supports_sign_and_send_transactions:!0,supports_clone_authorization:r.features.includes(Jm)})}}}return t}function Dj(e,t,n){var r;return Ot(this,void 0,void 0,function*(){const s=(r=e.domain)!==null&&r!==void 0?r:window.location.host,i=t.accounts[0].address,o=Lj(Object.assign(Object.assign({},e),{domain:s,address:i})),l=yield n("sign_messages",{addresses:[i],payloads:[o]});return{address:i,signed_message:o,signature:l.signed_payloads[0].slice(o.length)}})}const si=4;function $j(e){if(e>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const t=new ArrayBuffer(si);return new DataView(t).setUint32(0,e,!1),new Uint8Array(t)}const nh=12,Rw=65;function Wj(e,t,n){return Ot(this,void 0,void 0,function*(){const r=$j(t),s=new Uint8Array(nh);crypto.getRandomValues(s);const i=yield crypto.subtle.encrypt(Pw(r,s),n,new TextEncoder().encode(e)),o=new Uint8Array(r.byteLength+s.byteLength+i.byteLength);return o.set(new Uint8Array(r),0),o.set(new Uint8Array(s),r.byteLength),o.set(new Uint8Array(i),r.byteLength+s.byteLength),o})}function Bw(e,t){return Ot(this,void 0,void 0,function*(){const n=e.slice(0,si),r=e.slice(si,si+nh),s=e.slice(si+nh),i=yield crypto.subtle.decrypt(Pw(n,r),t,s);return Kj().decode(i)})}function Pw(e,t){return{additionalData:e,iv:t,name:"AES-GCM",tagLength:128}}let Pd;function Kj(){return Pd===void 0&&(Pd=new TextDecoder("utf-8")),Pd}function Hj(){return Ot(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function Ld(){return Ot(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function Vj(e,t){return Ot(this,void 0,void 0,function*(){const n=JSON.stringify(e),r=e.id;return Wj(n,r,t)})}function qj(e,t){return Ot(this,void 0,void 0,function*(){const n=yield Bw(e,t),r=JSON.parse(n);if(Object.hasOwnProperty.call(r,"error"))throw new Mw(r.id,r.error.code,r.error.message);return r})}function Gj(e,t,n){return Ot(this,void 0,void 0,function*(){const[r,s]=yield Promise.all([crypto.subtle.exportKey("raw",t),crypto.subtle.importKey("raw",e.slice(0,Rw),{name:"ECDH",namedCurve:"P-256"},!1,[])]),i=yield crypto.subtle.deriveBits({name:"ECDH",public:s},n,256),o=yield crypto.subtle.importKey("raw",i,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},o,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function Yj(e,t){return Ot(this,void 0,void 0,function*(){const n=yield Bw(e,t),r=JSON.parse(n);let s="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":s="v1";break;case"legacy":s="legacy";break;default:throw new os(is.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:s}})}function Zj(){return Lw(49152+Math.floor(Math.random()*16384))}function Lw(e){if(e<49152||e>65535)throw new os(is.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${e} given.`,{port:e});return e}function Qj(e){let t="";const n=new Uint8Array(e),r=n.byteLength;for(let s=0;s<r;s++)t+=String.fromCharCode(n[s]);return window.btoa(t)}function Xj(e){return e.replace(/[/+=]/g,t=>({"/":"_","+":"-","=":"."})[t])}const Jj="solana-wallet";function eg(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function e3(e,t){let n=null;if(t){try{n=new URL(t)}catch{}if((n==null?void 0:n.protocol)!=="https:")throw new os(is.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL(`${Jj}:/`));const r=e.startsWith("/")?e:[...eg(n.pathname),...eg(e)].join("/");return new URL(r,n)}function t3(e,t,n,r=["v1"]){return Ot(this,void 0,void 0,function*(){const s=Lw(t),i=yield crypto.subtle.exportKey("raw",e),o=Qj(i),l=e3("v1/associate/local",n);return l.searchParams.set("association",Xj(o)),l.searchParams.set("port",`${s}`),r.forEach(c=>{l.searchParams.set("v",c)}),l})}const _c={Firefox:0,Other:1};function n3(){return navigator.userAgent.indexOf("Firefox/")!==-1?_c.Firefox:_c.Other}function r3(){return new Promise((e,t)=>{function n(){clearTimeout(s),window.removeEventListener("blur",r)}function r(){n(),e()}window.addEventListener("blur",r);const s=setTimeout(()=>{n(),t()},2e3)})}let Ko=null;function s3(e){Ko==null&&(Ko=document.createElement("iframe"),Ko.style.display="none",document.body.appendChild(Ko)),Ko.contentWindow.location.href=e.toString()}function i3(e){return Ot(this,void 0,void 0,function*(){if(e.protocol==="https:")window.location.assign(e);else try{const t=n3();switch(t){case _c.Firefox:s3(e);break;case _c.Other:{const n=r3();window.location.assign(e),yield n;break}default:}}catch{throw new os(is.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function o3(e,t){return Ot(this,void 0,void 0,function*(){const n=Zj(),r=yield t3(e,n,t);return yield i3(r),n})}const tg={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},a3="com.solana.mobilewalletadapter.v1";function l3(){if(typeof window>"u"||window.isSecureContext!==!0)throw new os(is.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function c3(e){let t;try{t=new URL(e)}catch{throw new os(is.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(t.protocol!=="https:")throw new os(is.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function ng(e){return new DataView(e).getUint32(0,!1)}function u3(e,t){return Ot(this,void 0,void 0,function*(){l3();const n=yield Hj(),s=`ws://localhost:${yield o3(n.publicKey,t==null?void 0:t.baseUri)}/solana-wallet`;let i;const o=(()=>{const d=[...tg.retryDelayScheduleMs];return()=>d.length>1?d.shift():d[0]})();let l=1,c=0,u={__type:"disconnected"};return new Promise((d,p)=>{let x;const N={},C=()=>Ot(this,void 0,void 0,function*(){if(u.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${u.__type}\`.`);return}x.removeEventListener("open",C);const{associationKeypair:z}=u,U=yield Ld();x.send(yield Bd(U.publicKey,z.privateKey)),u={__type:"hello_req_sent",associationPublicKey:z.publicKey,ecdhPrivateKey:U.privateKey}}),S=z=>{z.wasClean?u={__type:"disconnected"}:p(new os(is.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${z.code}: ${z.reason}).`,{closeEvent:z})),b()},E=z=>Ot(this,void 0,void 0,function*(){b(),Date.now()-i>=tg.timeoutMs?p(new os(is.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${s}.`)):(yield new Promise(U=>{const F=o();g=window.setTimeout(U,F)}),R())}),v=z=>Ot(this,void 0,void 0,function*(){const U=yield z.data.arrayBuffer();switch(u.__type){case"connecting":if(U.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const F=yield Ld();x.send(yield Bd(F.publicKey,n.privateKey)),u={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:F.privateKey};break;case"connected":try{const D=U.slice(0,si),q=ng(D);if(q!==c+1)throw new Error("Encrypted message has invalid sequence number");c=q;const G=yield qj(U,u.sharedSecret),Z=N[G.id];delete N[G.id],Z.resolve(G.result)}catch(D){if(D instanceof Mw){const q=N[D.jsonRpcMessageId];delete N[D.jsonRpcMessageId],q.reject(D)}else throw D}break;case"hello_req_sent":{if(U.byteLength===0){const ee=yield Ld();x.send(yield Bd(ee.publicKey,n.privateKey)),u={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:ee.privateKey};break}const D=yield Gj(U,u.associationPublicKey,u.ecdhPrivateKey),q=U.slice(Rw),G=q.byteLength!==0?yield Ot(this,void 0,void 0,function*(){const ee=q.slice(0,si),P=ng(ee);if(P!==c+1)throw new Error("Encrypted message has invalid sequence number");return c=P,Yj(q,D)}):{protocol_version:"legacy"};u={__type:"connected",sharedSecret:D,sessionProperties:G};const Z=Uj(G.protocol_version,(ee,P)=>Ot(this,void 0,void 0,function*(){const f=l++;return x.send(yield Vj({id:f,jsonrpc:"2.0",method:ee,params:P??{}},D)),new Promise((y,_)=>{N[f]={resolve(k){switch(ee){case"authorize":case"reauthorize":{const{wallet_uri_base:j}=k;if(j!=null)try{c3(j)}catch(T){_(T);return}break}}y(k)},reject:_}})}));try{d(yield e(Z))}catch(ee){p(ee)}finally{b(),x.close()}break}}});let b,g;const R=()=>{b&&b(),u={__type:"connecting",associationKeypair:n},i===void 0&&(i=Date.now()),x=new WebSocket(s,[a3]),x.addEventListener("open",C),x.addEventListener("close",S),x.addEventListener("error",E),x.addEventListener("message",v),b=()=>{window.clearTimeout(g),x.removeEventListener("open",C),x.removeEventListener("close",S),x.removeEventListener("error",E),x.removeEventListener("message",v)}};R()})})}function d3(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var s=e.charAt(r),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=r}var o=e.length,l=e.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function d(N){if(N instanceof Uint8Array||(ArrayBuffer.isView(N)?N=new Uint8Array(N.buffer,N.byteOffset,N.byteLength):Array.isArray(N)&&(N=Uint8Array.from(N))),!(N instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(N.length===0)return"";for(var C=0,S=0,E=0,v=N.length;E!==v&&N[E]===0;)E++,C++;for(var b=(v-E)*u+1>>>0,g=new Uint8Array(b);E!==v;){for(var R=N[E],z=0,U=b-1;(R!==0||z<S)&&U!==-1;U--,z++)R+=256*g[U]>>>0,g[U]=R%o>>>0,R=R/o>>>0;if(R!==0)throw new Error("Non-zero carry");S=z,E++}for(var F=b-S;F!==b&&g[F]===0;)F++;for(var D=l.repeat(C);F<b;++F)D+=e.charAt(g[F]);return D}function p(N){if(typeof N!="string")throw new TypeError("Expected String");if(N.length===0)return new Uint8Array;for(var C=0,S=0,E=0;N[C]===l;)S++,C++;for(var v=(N.length-C)*c+1>>>0,b=new Uint8Array(v);N[C];){var g=t[N.charCodeAt(C)];if(g===255)return;for(var R=0,z=v-1;(g!==0||R<E)&&z!==-1;z--,R++)g+=o*b[z]>>>0,b[z]=g%256>>>0,g=g/256>>>0;if(g!==0)throw new Error("Non-zero carry");E=R,C++}for(var U=v-E;U!==v&&b[U]===0;)U++;for(var F=new Uint8Array(S+(v-U)),D=S;U!==v;)F[D++]=b[U++];return F}function x(N){var C=p(N);if(C)return C;throw new Error("Non-base"+o+" character")}return{encode:d,decodeUnsafe:p,decode:x}}var f3=d3;const h3=f3,p3="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var m3=h3(p3);const g3=ls(m3);function Od(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function Sl(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(p){o(p)}}function c(d){try{u(r.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,[])).next())})}function Ow(e){return window.btoa(String.fromCharCode.call(null,...e))}function Ud(e){return new Uint8Array(window.atob(e).split("").map(t=>t.charCodeAt(0)))}function rg(e){const t="version"in e?e.serialize():e.serialize({requireAllSignatures:!1,verifySignatures:!1});return Ow(t)}function y3(e){const n=e[0]*Ba+1;return Bp.deserializeMessageVersion(e.slice(n,e.length))==="legacy"?qt.from(e):La.deserialize(e)}function x3(e,t){return Sl(this,void 0,void 0,function*(){return yield u3(r=>{const s=new Proxy({},{get(i,o){if(i[o]==null)switch(o){case"signAndSendTransactions":i[o]=function(l){var{minContextSlot:c,commitment:u,skipPreflight:d,maxRetries:p,waitForCommitmentToSendNextTransaction:x,transactions:N}=l,C=Od(l,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return Sl(this,void 0,void 0,function*(){const S=N.map(rg),E={min_context_slot:c,commitment:u,skip_preflight:d,max_retries:p,wait_for_commitment_to_send_next_transaction:x},{signatures:v}=yield r.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},C),Object.values(E).some(g=>g!=null)?{options:E}:null),{payloads:S}));return v.map(Ud).map(g3.encode)})};break;case"signMessages":i[o]=function(l){var{payloads:c}=l,u=Od(l,["payloads"]);return Sl(this,void 0,void 0,function*(){const d=c.map(Ow),{signed_payloads:p}=yield r.signMessages(Object.assign(Object.assign({},u),{payloads:d}));return p.map(Ud)})};break;case"signTransactions":i[o]=function(l){var{transactions:c}=l,u=Od(l,["transactions"]);return Sl(this,void 0,void 0,function*(){const d=c.map(rg),{signed_payloads:p}=yield r.signTransactions(Object.assign(Object.assign({},u),{payloads:d}));return p.map(Ud).map(y3)})};break;default:{i[o]=r[o];break}}return i[o]},defineProperty(){return!1},deleteProperty(){return!1}});return e(s)},t)})}var w3=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Uw={},nr={};let Dp;const v3=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];nr.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};nr.getSymbolTotalCodewords=function(t){return v3[t]};nr.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};nr.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Dp=t};nr.isKanjiModeEnabled=function(){return typeof Dp<"u"};nr.toSJIS=function(t){return Dp(t)};var cu={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,s){if(e.isValid(r))return r;try{return t(r)}catch{return s}}})(cu);function zw(){this.buffer=[],this.length=0}zw.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var b3=zw;function Xa(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}Xa.prototype.set=function(e,t,n,r){const s=e*this.size+t;this.data[s]=n,r&&(this.reservedBit[s]=!0)};Xa.prototype.get=function(e,t){return this.data[e*this.size+t]};Xa.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};Xa.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var S3=Xa,Fw={};(function(e){const t=nr.getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,i=t(r),o=i===145?26:Math.ceil((i-13)/(2*s-2))*2,l=[i-7];for(let c=1;c<s-1;c++)l[c]=l[c-1]-o;return l.push(6),l.reverse()},e.getPositions=function(r){const s=[],i=e.getRowColCoords(r),o=i.length;for(let l=0;l<o;l++)for(let c=0;c<o;c++)l===0&&c===0||l===0&&c===o-1||l===o-1&&c===0||s.push([i[l],i[c]]);return s}})(Fw);var Dw={};const E3=nr.getSymbolSize,sg=7;Dw.getPositions=function(t){const n=E3(t);return[[0,0],[n-sg,0],[0,n-sg]]};var $w={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},e.from=function(s){return e.isValid(s)?parseInt(s,10):void 0},e.getPenaltyN1=function(s){const i=s.size;let o=0,l=0,c=0,u=null,d=null;for(let p=0;p<i;p++){l=c=0,u=d=null;for(let x=0;x<i;x++){let N=s.get(p,x);N===u?l++:(l>=5&&(o+=t.N1+(l-5)),u=N,l=1),N=s.get(x,p),N===d?c++:(c>=5&&(o+=t.N1+(c-5)),d=N,c=1)}l>=5&&(o+=t.N1+(l-5)),c>=5&&(o+=t.N1+(c-5))}return o},e.getPenaltyN2=function(s){const i=s.size;let o=0;for(let l=0;l<i-1;l++)for(let c=0;c<i-1;c++){const u=s.get(l,c)+s.get(l,c+1)+s.get(l+1,c)+s.get(l+1,c+1);(u===4||u===0)&&o++}return o*t.N2},e.getPenaltyN3=function(s){const i=s.size;let o=0,l=0,c=0;for(let u=0;u<i;u++){l=c=0;for(let d=0;d<i;d++)l=l<<1&2047|s.get(u,d),d>=10&&(l===1488||l===93)&&o++,c=c<<1&2047|s.get(d,u),d>=10&&(c===1488||c===93)&&o++}return o*t.N3},e.getPenaltyN4=function(s){let i=0;const o=s.data.length;for(let c=0;c<o;c++)i+=s.data[c];return Math.abs(Math.ceil(i*100/o/5)-10)*t.N4};function n(r,s,i){switch(r){case e.Patterns.PATTERN000:return(s+i)%2===0;case e.Patterns.PATTERN001:return s%2===0;case e.Patterns.PATTERN010:return i%3===0;case e.Patterns.PATTERN011:return(s+i)%3===0;case e.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case e.Patterns.PATTERN101:return s*i%2+s*i%3===0;case e.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case e.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(s,i){const o=i.size;for(let l=0;l<o;l++)for(let c=0;c<o;c++)i.isReserved(c,l)||i.xor(c,l,n(s,c,l))},e.getBestMask=function(s,i){const o=Object.keys(e.Patterns).length;let l=0,c=1/0;for(let u=0;u<o;u++){i(u),e.applyMask(u,s);const d=e.getPenaltyN1(s)+e.getPenaltyN2(s)+e.getPenaltyN3(s)+e.getPenaltyN4(s);e.applyMask(u,s),d<c&&(c=d,l=u)}return l}})($w);var uu={};const Is=cu,El=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Nl=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];uu.getBlocksCount=function(t,n){switch(n){case Is.L:return El[(t-1)*4+0];case Is.M:return El[(t-1)*4+1];case Is.Q:return El[(t-1)*4+2];case Is.H:return El[(t-1)*4+3];default:return}};uu.getTotalCodewordsCount=function(t,n){switch(n){case Is.L:return Nl[(t-1)*4+0];case Is.M:return Nl[(t-1)*4+1];case Is.Q:return Nl[(t-1)*4+2];case Is.H:return Nl[(t-1)*4+3];default:return}};var Ww={},du={};const aa=new Uint8Array(512),kc=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)aa[n]=t,kc[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)aa[n]=aa[n-255]})();du.log=function(t){if(t<1)throw new Error("log("+t+")");return kc[t]};du.exp=function(t){return aa[t]};du.mul=function(t,n){return t===0||n===0?0:aa[kc[t]+kc[n]]};(function(e){const t=du;e.mul=function(r,s){const i=new Uint8Array(r.length+s.length-1);for(let o=0;o<r.length;o++)for(let l=0;l<s.length;l++)i[o+l]^=t.mul(r[o],s[l]);return i},e.mod=function(r,s){let i=new Uint8Array(r);for(;i.length-s.length>=0;){const o=i[0];for(let c=0;c<s.length;c++)i[c]^=t.mul(s[c],o);let l=0;for(;l<i.length&&i[l]===0;)l++;i=i.slice(l)}return i},e.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let i=0;i<r;i++)s=e.mul(s,new Uint8Array([1,t.exp(i)]));return s}})(Ww);const Kw=Ww;function $p(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}$p.prototype.initialize=function(t){this.degree=t,this.genPoly=Kw.generateECPolynomial(this.degree)};$p.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const r=Kw.mod(n,this.genPoly),s=this.degree-r.length;if(s>0){const i=new Uint8Array(this.degree);return i.set(r,s),i}return r};var N3=$p,Hw={},qs={},Wp={};Wp.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var zr={};const Vw="[0-9]+",_3="[A-Z $%*+\\-./:]+";let Ua="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Ua=Ua.replace(/u/g,"\\u");const k3="(?:(?![A-Z0-9 $%*+\\-./:]|"+Ua+`)(?:.|[\r
]))+`;zr.KANJI=new RegExp(Ua,"g");zr.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");zr.BYTE=new RegExp(k3,"g");zr.NUMERIC=new RegExp(Vw,"g");zr.ALPHANUMERIC=new RegExp(_3,"g");const j3=new RegExp("^"+Ua+"$"),C3=new RegExp("^"+Vw+"$"),A3=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");zr.testKanji=function(t){return j3.test(t)};zr.testNumeric=function(t){return C3.test(t)};zr.testAlphanumeric=function(t){return A3.test(t)};(function(e){const t=Wp,n=zr;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},e.getBestModeForData=function(i){return n.testNumeric(i)?e.NUMERIC:n.testAlphanumeric(i)?e.ALPHANUMERIC:n.testKanji(i)?e.KANJI:e.BYTE},e.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},e.isValid=function(i){return i&&i.bit&&i.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+s)}}e.from=function(i,o){if(e.isValid(i))return i;try{return r(i)}catch{return o}}})(qs);(function(e){const t=nr,n=uu,r=cu,s=qs,i=Wp,o=7973,l=t.getBCHDigit(o);function c(x,N,C){for(let S=1;S<=40;S++)if(N<=e.getCapacity(S,C,x))return S}function u(x,N){return s.getCharCountIndicator(x,N)+4}function d(x,N){let C=0;return x.forEach(function(S){const E=u(S.mode,N);C+=E+S.getBitsLength()}),C}function p(x,N){for(let C=1;C<=40;C++)if(d(x,C)<=e.getCapacity(C,N,s.MIXED))return C}e.from=function(N,C){return i.isValid(N)?parseInt(N,10):C},e.getCapacity=function(N,C,S){if(!i.isValid(N))throw new Error("Invalid QR Code version");typeof S>"u"&&(S=s.BYTE);const E=t.getSymbolTotalCodewords(N),v=n.getTotalCodewordsCount(N,C),b=(E-v)*8;if(S===s.MIXED)return b;const g=b-u(S,N);switch(S){case s.NUMERIC:return Math.floor(g/10*3);case s.ALPHANUMERIC:return Math.floor(g/11*2);case s.KANJI:return Math.floor(g/13);case s.BYTE:default:return Math.floor(g/8)}},e.getBestVersionForData=function(N,C){let S;const E=r.from(C,r.M);if(Array.isArray(N)){if(N.length>1)return p(N,E);if(N.length===0)return 1;S=N[0]}else S=N;return c(S.mode,S.getLength(),E)},e.getEncodedBits=function(N){if(!i.isValid(N)||N<7)throw new Error("Invalid QR Code version");let C=N<<12;for(;t.getBCHDigit(C)-l>=0;)C^=o<<t.getBCHDigit(C)-l;return N<<12|C}})(Hw);var qw={};const rh=nr,Gw=1335,I3=21522,ig=rh.getBCHDigit(Gw);qw.getEncodedBits=function(t,n){const r=t.bit<<3|n;let s=r<<10;for(;rh.getBCHDigit(s)-ig>=0;)s^=Gw<<rh.getBCHDigit(s)-ig;return(r<<10|s)^I3};var Yw={};const T3=qs;function wo(e){this.mode=T3.NUMERIC,this.data=e.toString()}wo.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};wo.prototype.getLength=function(){return this.data.length};wo.prototype.getBitsLength=function(){return wo.getBitsLength(this.data.length)};wo.prototype.write=function(t){let n,r,s;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),s=parseInt(r,10),t.put(s,10);const i=this.data.length-n;i>0&&(r=this.data.substr(n),s=parseInt(r,10),t.put(s,i*3+1))};var M3=wo;const R3=qs,zd=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function vo(e){this.mode=R3.ALPHANUMERIC,this.data=e}vo.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};vo.prototype.getLength=function(){return this.data.length};vo.prototype.getBitsLength=function(){return vo.getBitsLength(this.data.length)};vo.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let r=zd.indexOf(this.data[n])*45;r+=zd.indexOf(this.data[n+1]),t.put(r,11)}this.data.length%2&&t.put(zd.indexOf(this.data[n]),6)};var B3=vo;const P3=qs;function bo(e){this.mode=P3.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}bo.getBitsLength=function(t){return t*8};bo.prototype.getLength=function(){return this.data.length};bo.prototype.getBitsLength=function(){return bo.getBitsLength(this.data.length)};bo.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var L3=bo;const O3=qs,U3=nr;function So(e){this.mode=O3.KANJI,this.data=e}So.getBitsLength=function(t){return t*13};So.prototype.getLength=function(){return this.data.length};So.prototype.getBitsLength=function(){return So.getBitsLength(this.data.length)};So.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=U3.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var z3=So,Zw={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,r,s){var i={},o={};o[r]=0;var l=t.PriorityQueue.make();l.push(r,0);for(var c,u,d,p,x,N,C,S,E;!l.empty();){c=l.pop(),u=c.value,p=c.cost,x=n[u]||{};for(d in x)x.hasOwnProperty(d)&&(N=x[d],C=p+N,S=o[d],E=typeof o[d]>"u",(E||S>C)&&(o[d]=C,l.push(d,C),i[d]=u))}if(typeof s<"u"&&typeof o[s]>"u"){var v=["Could not find a path from ",r," to ",s,"."].join("");throw new Error(v)}return i},extract_shortest_path_from_predecessor_list:function(n,r){for(var s=[],i=r;i;)s.push(i),n[i],i=n[i];return s.reverse(),s},find_path:function(n,r,s){var i=t.single_source_shortest_paths(n,r,s);return t.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,s={},i;n=n||{};for(i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);return s.queue=[],s.sorter=n.sorter||r.default_sorter,s},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var s={value:n,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(Zw);var F3=Zw.exports;(function(e){const t=qs,n=M3,r=B3,s=L3,i=z3,o=zr,l=nr,c=F3;function u(v){return unescape(encodeURIComponent(v)).length}function d(v,b,g){const R=[];let z;for(;(z=v.exec(g))!==null;)R.push({data:z[0],index:z.index,mode:b,length:z[0].length});return R}function p(v){const b=d(o.NUMERIC,t.NUMERIC,v),g=d(o.ALPHANUMERIC,t.ALPHANUMERIC,v);let R,z;return l.isKanjiModeEnabled()?(R=d(o.BYTE,t.BYTE,v),z=d(o.KANJI,t.KANJI,v)):(R=d(o.BYTE_KANJI,t.BYTE,v),z=[]),b.concat(g,R,z).sort(function(F,D){return F.index-D.index}).map(function(F){return{data:F.data,mode:F.mode,length:F.length}})}function x(v,b){switch(b){case t.NUMERIC:return n.getBitsLength(v);case t.ALPHANUMERIC:return r.getBitsLength(v);case t.KANJI:return i.getBitsLength(v);case t.BYTE:return s.getBitsLength(v)}}function N(v){return v.reduce(function(b,g){const R=b.length-1>=0?b[b.length-1]:null;return R&&R.mode===g.mode?(b[b.length-1].data+=g.data,b):(b.push(g),b)},[])}function C(v){const b=[];for(let g=0;g<v.length;g++){const R=v[g];switch(R.mode){case t.NUMERIC:b.push([R,{data:R.data,mode:t.ALPHANUMERIC,length:R.length},{data:R.data,mode:t.BYTE,length:R.length}]);break;case t.ALPHANUMERIC:b.push([R,{data:R.data,mode:t.BYTE,length:R.length}]);break;case t.KANJI:b.push([R,{data:R.data,mode:t.BYTE,length:u(R.data)}]);break;case t.BYTE:b.push([{data:R.data,mode:t.BYTE,length:u(R.data)}])}}return b}function S(v,b){const g={},R={start:{}};let z=["start"];for(let U=0;U<v.length;U++){const F=v[U],D=[];for(let q=0;q<F.length;q++){const G=F[q],Z=""+U+q;D.push(Z),g[Z]={node:G,lastCount:0},R[Z]={};for(let ee=0;ee<z.length;ee++){const P=z[ee];g[P]&&g[P].node.mode===G.mode?(R[P][Z]=x(g[P].lastCount+G.length,G.mode)-x(g[P].lastCount,G.mode),g[P].lastCount+=G.length):(g[P]&&(g[P].lastCount=G.length),R[P][Z]=x(G.length,G.mode)+4+t.getCharCountIndicator(G.mode,b))}}z=D}for(let U=0;U<z.length;U++)R[z[U]].end=0;return{map:R,table:g}}function E(v,b){let g;const R=t.getBestModeForData(v);if(g=t.from(b,R),g!==t.BYTE&&g.bit<R.bit)throw new Error('"'+v+'" cannot be encoded with mode '+t.toString(g)+`.
 Suggested mode is: `+t.toString(R));switch(g===t.KANJI&&!l.isKanjiModeEnabled()&&(g=t.BYTE),g){case t.NUMERIC:return new n(v);case t.ALPHANUMERIC:return new r(v);case t.KANJI:return new i(v);case t.BYTE:return new s(v)}}e.fromArray=function(b){return b.reduce(function(g,R){return typeof R=="string"?g.push(E(R,null)):R.data&&g.push(E(R.data,R.mode)),g},[])},e.fromString=function(b,g){const R=p(b,l.isKanjiModeEnabled()),z=C(R),U=S(z,g),F=c.find_path(U.map,"start","end"),D=[];for(let q=1;q<F.length-1;q++)D.push(U.table[F[q]].node);return e.fromArray(N(D))},e.rawSplit=function(b){return e.fromArray(p(b,l.isKanjiModeEnabled()))}})(Yw);const fu=nr,Fd=cu,D3=b3,$3=S3,W3=Fw,K3=Dw,sh=$w,ih=uu,H3=N3,jc=Hw,V3=qw,q3=qs,Dd=Yw;function G3(e,t){const n=e.size,r=K3.getPositions(t);for(let s=0;s<r.length;s++){const i=r[s][0],o=r[s][1];for(let l=-1;l<=7;l++)if(!(i+l<=-1||n<=i+l))for(let c=-1;c<=7;c++)o+c<=-1||n<=o+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?e.set(i+l,o+c,!0,!0):e.set(i+l,o+c,!1,!0))}}function Y3(e){const t=e.size;for(let n=8;n<t-8;n++){const r=n%2===0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}function Z3(e,t){const n=W3.getPositions(t);for(let r=0;r<n.length;r++){const s=n[r][0],i=n[r][1];for(let o=-2;o<=2;o++)for(let l=-2;l<=2;l++)o===-2||o===2||l===-2||l===2||o===0&&l===0?e.set(s+o,i+l,!0,!0):e.set(s+o,i+l,!1,!0)}}function Q3(e,t){const n=e.size,r=jc.getEncodedBits(t);let s,i,o;for(let l=0;l<18;l++)s=Math.floor(l/3),i=l%3+n-8-3,o=(r>>l&1)===1,e.set(s,i,o,!0),e.set(i,s,o,!0)}function $d(e,t,n){const r=e.size,s=V3.getEncodedBits(t,n);let i,o;for(i=0;i<15;i++)o=(s>>i&1)===1,i<6?e.set(i,8,o,!0):i<8?e.set(i+1,8,o,!0):e.set(r-15+i,8,o,!0),i<8?e.set(8,r-i-1,o,!0):i<9?e.set(8,15-i-1+1,o,!0):e.set(8,15-i-1,o,!0);e.set(r-8,8,1,!0)}function X3(e,t){const n=e.size;let r=-1,s=n-1,i=7,o=0;for(let l=n-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!e.isReserved(s,l-c)){let u=!1;o<t.length&&(u=(t[o]>>>i&1)===1),e.set(s,l-c,u),i--,i===-1&&(o++,i=7)}if(s+=r,s<0||n<=s){s-=r,r=-r;break}}}function J3(e,t,n){const r=new D3;n.forEach(function(c){r.put(c.mode.bit,4),r.put(c.getLength(),q3.getCharCountIndicator(c.mode,e)),c.write(r)});const s=fu.getSymbolTotalCodewords(e),i=ih.getTotalCodewordsCount(e,t),o=(s-i)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const l=(o-r.getLengthInBits())/8;for(let c=0;c<l;c++)r.put(c%2?17:236,8);return e5(r,e,t)}function e5(e,t,n){const r=fu.getSymbolTotalCodewords(t),s=ih.getTotalCodewordsCount(t,n),i=r-s,o=ih.getBlocksCount(t,n),l=r%o,c=o-l,u=Math.floor(r/o),d=Math.floor(i/o),p=d+1,x=u-d,N=new H3(x);let C=0;const S=new Array(o),E=new Array(o);let v=0;const b=new Uint8Array(e.buffer);for(let F=0;F<o;F++){const D=F<c?d:p;S[F]=b.slice(C,C+D),E[F]=N.encode(S[F]),C+=D,v=Math.max(v,D)}const g=new Uint8Array(r);let R=0,z,U;for(z=0;z<v;z++)for(U=0;U<o;U++)z<S[U].length&&(g[R++]=S[U][z]);for(z=0;z<x;z++)for(U=0;U<o;U++)g[R++]=E[U][z];return g}function t5(e,t,n,r){let s;if(Array.isArray(e))s=Dd.fromArray(e);else if(typeof e=="string"){let u=t;if(!u){const d=Dd.rawSplit(e);u=jc.getBestVersionForData(d,n)}s=Dd.fromString(e,u||40)}else throw new Error("Invalid data");const i=jc.getBestVersionForData(s,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=i;else if(t<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const o=J3(t,n,s),l=fu.getSymbolSize(t),c=new $3(l);return G3(c,t),Y3(c),Z3(c,t),$d(c,n,0),t>=7&&Q3(c,t),X3(c,o),isNaN(r)&&(r=sh.getBestMask(c,$d.bind(null,c,n))),sh.applyMask(r,c),$d(c,n,r),{modules:c,version:t,errorCorrectionLevel:n,maskPattern:r,segments:s}}Uw.create=function(t,n){if(typeof t>"u"||t==="")throw new Error("No input text");let r=Fd.M,s,i;return typeof n<"u"&&(r=Fd.from(n.errorCorrectionLevel,Fd.M),s=jc.from(n.version),i=sh.from(n.maskPattern),n.toSJISFunc&&fu.setToSJISFunction(n.toSJISFunc)),t5(t,s,r,i)};var Qw={},Kp={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:i,scale:i?4:o,margin:s,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},e.getImageWidth=function(r,s){const i=e.getScale(r,s);return Math.floor((r+s.margin*2)*i)},e.qrToImageData=function(r,s,i){const o=s.modules.size,l=s.modules.data,c=e.getScale(o,i),u=Math.floor((o+i.margin*2)*c),d=i.margin*c,p=[i.color.light,i.color.dark];for(let x=0;x<u;x++)for(let N=0;N<u;N++){let C=(x*u+N)*4,S=i.color.light;if(x>=d&&N>=d&&x<u-d&&N<u-d){const E=Math.floor((x-d)/c),v=Math.floor((N-d)/c);S=p[l[E*o+v]?1:0]}r[C++]=S.r,r[C++]=S.g,r[C++]=S.b,r[C]=S.a}}})(Kp);(function(e){const t=Kp;function n(s,i,o){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(i,o,l){let c=l,u=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(u=r()),c=t.getOptions(c);const d=t.getImageWidth(i.modules.size,c),p=u.getContext("2d"),x=p.createImageData(d,d);return t.qrToImageData(x.data,i,c),n(p,u,d),p.putImageData(x,0,0),u},e.renderToDataURL=function(i,o,l){let c=l;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const u=e.render(i,o,c),d=c.type||"image/png",p=c.rendererOpts||{};return u.toDataURL(d,p.quality)}})(Qw);var Xw={};const n5=Kp;function og(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function Wd(e,t,n){let r=e+t;return typeof n<"u"&&(r+=" "+n),r}function r5(e,t,n){let r="",s=0,i=!1,o=0;for(let l=0;l<e.length;l++){const c=Math.floor(l%t),u=Math.floor(l/t);!c&&!i&&(i=!0),e[l]?(o++,l>0&&c>0&&e[l-1]||(r+=i?Wd("M",c+n,.5+u+n):Wd("m",s,0),s=0,i=!1),c+1<t&&e[l+1]||(r+=Wd("h",o),o=0)):s++}return r}Xw.render=function(t,n,r){const s=n5.getOptions(n),i=t.modules.size,o=t.modules.data,l=i+s.margin*2,c=s.color.light.a?"<path "+og(s.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",u="<path "+og(s.color.dark,"stroke")+' d="'+r5(o,i,s.margin)+'"/>',d='viewBox="0 0 '+l+" "+l+'"',x='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+d+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof r=="function"&&r(null,x),x};const s5=w3,oh=Uw,Jw=Qw,i5=Xw;function Hp(e,t,n,r,s){const i=[].slice.call(arguments,1),o=i.length,l=typeof i[o-1]=="function";if(!l&&!s5())throw new Error("Callback required as last argument");if(l){if(o<2)throw new Error("Too few arguments provided");o===2?(s=n,n=t,t=r=void 0):o===3&&(t.getContext&&typeof s>"u"?(s=r,r=void 0):(s=r,r=n,n=t,t=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=t,t=r=void 0):o===2&&!t.getContext&&(r=n,n=t,t=void 0),new Promise(function(c,u){try{const d=oh.create(n,r);c(e(d,t,r))}catch(d){u(d)}})}try{const c=oh.create(n,r);s(null,e(c,t,r))}catch(c){s(c)}}oh.create;Hp.bind(null,Jw.render);Hp.bind(null,Jw.renderToDataURL);Hp.bind(null,function(e,t,n){return i5.render(e,n)});function De(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(p){o(p)}}function c(d){try{u(r.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,[])).next())})}function zl(e){return new Uint8Array(window.atob(e).split("").map(t=>t.charCodeAt(0)))}function o5(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}const ws="Mobile Wallet Adapter",a5=64;function l5(e){const t=zl(e);return new ue(t)}function ag(e){return"version"in e}function c5(e){switch(e){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet"}}class u5 extends Nj{constructor(t){var n;super(),this.supportedTransactionVersions=new Set(["legacy",0]),this.name=ws,this.url="https://solanamobile.com/wallets",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjI4IiB3aWR0aD0iMjgiIHZpZXdCb3g9Ii0zIDAgMjggMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0RDQjhGRiI+PHBhdGggZD0iTTE3LjQgMTcuNEgxNXYyLjRoMi40di0yLjRabTEuMi05LjZoLTIuNHYyLjRoMi40VjcuOFoiLz48cGF0aCBkPSJNMjEuNiAzVjBoLTIuNHYzaC0zLjZWMGgtMi40djNoLTIuNHY2LjZINC41YTIuMSAyLjEgMCAxIDEgMC00LjJoMi43VjNINC41QTQuNSA0LjUgMCAwIDAgMCA3LjVWMjRoMjEuNnYtNi42aC0yLjR2NC4ySDIuNFYxMS41Yy41LjMgMS4yLjQgMS44LjVoNy41QTYuNiA2LjYgMCAwIDAgMjQgOVYzaC0yLjRabTAgNS43YTQuMiA0LjIgMCAxIDEtOC40IDBWNS40aDguNHYzLjNaIi8+PC9nPjwvc3ZnPg==",this._connecting=!1,this._connectionGeneration=0,this._readyState=o5()?Ue.Loadable:Ue.Unsupported,this._authorizationResultCache=t.authorizationResultCache,this._addressSelector=t.addressSelector,this._appIdentity=t.appIdentity,this._chain=(n=t.chain)!==null&&n!==void 0?n:c5(t.cluster),this._hostAuthority=t.remoteHostAuthority,this._onWalletNotFound=t.onWalletNotFound,this._readyState!==Ue.Unsupported&&this._authorizationResultCache.get().then(r=>{r&&this.declareWalletAsInstalled()})}get publicKey(){if(this._publicKey==null&&this._selectedAddress!=null)try{this._publicKey=l5(this._selectedAddress)}catch(t){throw new Nc(t instanceof Error&&(t==null?void 0:t.message)||"Unknown error",t)}return this._publicKey?this._publicKey:null}get connected(){return!!this._authorizationResult}get connecting(){return this._connecting}get readyState(){return this._readyState}declareWalletAsInstalled(){this._readyState!==Ue.Installed&&this.emit("readyStateChange",this._readyState=Ue.Installed)}runWithGuard(t){return De(this,void 0,void 0,function*(){try{return yield t()}catch(n){throw this.emit("error",n),n}})}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return De(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return De(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield this.runWithGuard(()=>De(this,void 0,void 0,function*(){if(this._readyState!==Ue.Installed&&this._readyState!==Ue.Loadable)throw new di;this._connecting=!0;try{const t=yield this._authorizationResultCache.get();t&&this.handleAuthorizationResult(t)}catch(t){throw new Yi(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))})}connect(){return De(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield this.runWithGuard(()=>De(this,void 0,void 0,function*(){if(this._readyState!==Ue.Installed&&this._readyState!==Ue.Loadable)throw new di;this._connecting=!0;try{yield this.performAuthorization()}catch(t){throw new Yi(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))})}performAuthorization(t){return De(this,void 0,void 0,function*(){try{const n=yield this._authorizationResultCache.get();return n?(this.handleAuthorizationResult(n),n):yield this.transact(r=>De(this,void 0,void 0,function*(){const s=yield r.authorize({chain:this._chain,identity:this._appIdentity,sign_in_payload:t});return Promise.all([this._authorizationResultCache.set(s),this.handleAuthorizationResult(s)]),s}))}catch(n){throw new Yi(n instanceof Error&&n.message||"Unknown error",n)}})}handleAuthorizationResult(t){var n;return De(this,void 0,void 0,function*(){const r=this._authorizationResult==null||((n=this._authorizationResult)===null||n===void 0?void 0:n.accounts.length)!==t.accounts.length||this._authorizationResult.accounts.some((s,i)=>s.address!==t.accounts[i].address);if(this._authorizationResult=t,this.declareWalletAsInstalled(),r){const s=yield this._addressSelector.select(t.accounts.map(({address:i})=>i));s!==this._selectedAddress&&(this._selectedAddress=s,delete this._publicKey,this.emit("connect",this.publicKey))}})}performReauthorization(t,n){return De(this,void 0,void 0,function*(){try{const r=yield t.authorize({auth_token:n,identity:this._appIdentity});Promise.all([this._authorizationResultCache.set(r),this.handleAuthorizationResult(r)])}catch(r){throw this.disconnect(),new zp(r instanceof Error&&(r==null?void 0:r.message)||"Unknown error",r)}})}disconnect(){return De(this,void 0,void 0,function*(){this._authorizationResultCache.clear(),this._connecting=!1,this._connectionGeneration++,delete this._authorizationResult,delete this._publicKey,delete this._selectedAddress,this.emit("disconnect")})}transact(t){var n;return De(this,void 0,void 0,function*(){const r=(n=this._authorizationResult)===null||n===void 0?void 0:n.wallet_uri_base,s=r?{baseUri:r}:void 0,i=this._hostAuthority?{remoteHostAuthority:this._hostAuthority}:void 0,o=this._connectionGeneration;try{return yield x3(t,Object.assign(Object.assign({},s),i))}catch(l){throw this._connectionGeneration!==o&&(yield new Promise(()=>{})),l instanceof Error&&l.name==="SolanaMobileWalletAdapterError"&&l.code==="ERROR_WALLET_NOT_FOUND"&&(yield this._onWalletNotFound(this)),l}})}assertIsAuthorized(){if(!this._authorizationResult||!this._selectedAddress)throw new Mn;return{authToken:this._authorizationResult.auth_token,selectedAddress:this._selectedAddress}}performSignTransactions(t){return De(this,void 0,void 0,function*(){const{authToken:n}=this.assertIsAuthorized();try{return yield this.transact(r=>De(this,void 0,void 0,function*(){return yield this.performReauthorization(r,n),yield r.signTransactions({transactions:t})}))}catch(r){throw new Zr(r==null?void 0:r.message,r)}})}sendTransaction(t,n,r){return De(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>De(this,void 0,void 0,function*(){const{authToken:s}=this.assertIsAuthorized(),i=r==null?void 0:r.minContextSlot;try{return yield this.transact(o=>De(this,void 0,void 0,function*(){function l(){let p;switch(n.commitment){case"confirmed":case"finalized":case"processed":p=n.commitment;break;default:p="finalized"}let x;switch(r==null?void 0:r.preflightCommitment){case"confirmed":case"finalized":case"processed":x=r.preflightCommitment;break;case void 0:x=p;break;default:x="finalized"}return(x==="finalized"?2:x==="confirmed"?1:0)<(p==="finalized"?2:p==="confirmed"?1:0)?x:p}const[c,u,d]=yield Promise.all([o.getCapabilities(),this.performReauthorization(o,s),ag(t)?null:De(this,void 0,void 0,function*(){var p;if(t.feePayer||(t.feePayer=(p=this.publicKey)!==null&&p!==void 0?p:void 0),t.recentBlockhash==null){const{blockhash:x}=yield n.getLatestBlockhash({commitment:l()});t.recentBlockhash=x}})]);if(c.supports_sign_and_send_transactions)return(yield o.signAndSendTransactions({minContextSlot:i,transactions:[t]}))[0];{const[p]=yield o.signTransactions({transactions:[t]});if(ag(p))return yield n.sendTransaction(p);{const x=p.serialize();return yield n.sendRawTransaction(x,Object.assign(Object.assign({},r),{preflightCommitment:l()}))}}}))}catch(o){throw new Cs(o==null?void 0:o.message,o)}}))})}signTransaction(t){return De(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>De(this,void 0,void 0,function*(){const[n]=yield this.performSignTransactions([t]);return n}))})}signAllTransactions(t){return De(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>De(this,void 0,void 0,function*(){return yield this.performSignTransactions(t)}))})}signMessage(t){return De(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>De(this,void 0,void 0,function*(){const{authToken:n,selectedAddress:r}=this.assertIsAuthorized();try{return yield this.transact(s=>De(this,void 0,void 0,function*(){yield this.performReauthorization(s,n);const[i]=yield s.signMessages({addresses:[r],payloads:[t]});return i.slice(-a5)}))}catch(s){throw new Fp(s==null?void 0:s.message,s)}}))})}signIn(t){return De(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>De(this,void 0,void 0,function*(){var n,r;if(this._readyState!==Ue.Installed&&this._readyState!==Ue.Loadable)throw new di;this._connecting=!0;try{const s=yield this.performAuthorization(Object.assign(Object.assign({},t),{domain:(n=t==null?void 0:t.domain)!==null&&n!==void 0?n:window.location.host}));if(!s.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const i=s.sign_in_result.address;return{account:Object.assign(Object.assign({},(r=s.accounts.find(l=>l.address==i))!==null&&r!==void 0?r:{address:i}),{publicKey:zl(i)}),signedMessage:zl(s.sign_in_result.signed_message),signature:zl(s.sign_in_result.signature)}}catch(s){throw new Yi(s instanceof Error&&s.message||"Unknown error",s)}finally{this._connecting=!1}}))})}}function d5(){return{select(e){return De(this,void 0,void 0,function*(){return e[0]})}}}const Kd="SolanaMobileWalletAdapterDefaultAuthorizationCache";function f5(){let e;try{e=window.localStorage}catch{}return{clear(){return De(this,void 0,void 0,function*(){if(e)try{e.removeItem(Kd)}catch{}})},get(){return De(this,void 0,void 0,function*(){if(e)try{return JSON.parse(e.getItem(Kd))||void 0}catch{}})},set(t){return De(this,void 0,void 0,function*(){if(e)try{e.setItem(Kd,JSON.stringify(t))}catch{}})}}}function h5(e){return De(this,void 0,void 0,function*(){typeof window<"u"&&window.location.assign(e.url)})}function p5(){return h5}function m5(e,t){if(e===t)return!0;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function g5(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let u=0;u<t.length;u++)t[u]=255;for(let u=0;u<e.length;u++){const d=e.charAt(u),p=d.charCodeAt(0);if(t[p]!==255)throw new TypeError(d+" is ambiguous");t[p]=u}const n=e.length,r=e.charAt(0),s=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function o(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";let d=0,p=0,x=0;const N=u.length;for(;x!==N&&u[x]===0;)x++,d++;const C=(N-x)*i+1>>>0,S=new Uint8Array(C);for(;x!==N;){let b=u[x],g=0;for(let R=C-1;(b!==0||g<p)&&R!==-1;R--,g++)b+=256*S[R]>>>0,S[R]=b%n>>>0,b=b/n>>>0;if(b!==0)throw new Error("Non-zero carry");p=g,x++}let E=C-p;for(;E!==C&&S[E]===0;)E++;let v=r.repeat(d);for(;E<C;++E)v+=e.charAt(S[E]);return v}function l(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;let d=0,p=0,x=0;for(;u[d]===r;)p++,d++;const N=(u.length-d)*s+1>>>0,C=new Uint8Array(N);for(;u[d];){let b=t[u.charCodeAt(d)];if(b===255)return;let g=0;for(let R=N-1;(b!==0||g<x)&&R!==-1;R--,g++)b+=n*C[R]>>>0,C[R]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");x=g,d++}let S=N-x;for(;S!==N&&C[S]===0;)S++;const E=new Uint8Array(p+(N-S));let v=p;for(;S!==N;)E[v++]=C[S++];return E}function c(u){const d=l(u);if(d)return d;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:l,decode:c}}var y5="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const x5=g5(y5);var ve=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Pt=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},tn,Cn,ii,oi,Zs,Qo,Cc,$e,Ac,ah,Fl,lh,la,ch,lg,cg,ug,dg;class w5 extends jw{get name(){return ve(this,$e,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return ve(this,$e,"f").icon}get readyState(){return ve(this,Ac,"f")}get publicKey(){return ve(this,ii,"f")}get connecting(){return ve(this,oi,"f")}get supportedTransactionVersions(){return ve(this,Cc,"f")}get wallet(){return ve(this,$e,"f")}get standard(){return!0}constructor({wallet:t}){super(),tn.add(this),Cn.set(this,void 0),ii.set(this,void 0),oi.set(this,void 0),Zs.set(this,void 0),Qo.set(this,void 0),Cc.set(this,void 0),$e.set(this,void 0),Ac.set(this,typeof window>"u"||typeof document>"u"?Ue.Unsupported:Ue.Installed),ch.set(this,n=>{if("accounts"in n){const r=ve(this,$e,"f").accounts[0];ve(this,Cn,"f")&&!ve(this,Zs,"f")&&r!==ve(this,Cn,"f")&&(r?ve(this,tn,"m",Fl).call(this,r):(this.emit("error",new zp),ve(this,tn,"m",lh).call(this)))}"features"in n&&ve(this,tn,"m",la).call(this)}),Pt(this,$e,t,"f"),Pt(this,Cn,null,"f"),Pt(this,ii,null,"f"),Pt(this,oi,!1,"f"),Pt(this,Zs,!1,"f"),Pt(this,Qo,ve(this,$e,"f").features[Iw].on("change",ve(this,ch,"f")),"f"),ve(this,tn,"m",la).call(this)}destroy(){Pt(this,Cn,null,"f"),Pt(this,ii,null,"f"),Pt(this,oi,!1,"f"),Pt(this,Zs,!1,"f");const t=ve(this,Qo,"f");t&&(Pt(this,Qo,null,"f"),t())}async autoConnect(){return ve(this,tn,"m",ah).call(this,{silent:!0})}async connect(){return ve(this,tn,"m",ah).call(this)}async disconnect(){if(Zm in ve(this,$e,"f").features)try{Pt(this,Zs,!0,"f"),await ve(this,$e,"f").features[Zm].disconnect()}catch(t){this.emit("error",new kw(t==null?void 0:t.message,t))}finally{Pt(this,Zs,!1,"f")}ve(this,tn,"m",lh).call(this)}async sendTransaction(t,n,r={}){try{const s=ve(this,Cn,"f");if(!s)throw new Mn;let i;if(Ss in ve(this,$e,"f").features)if(s.features.includes(Ss))i=Ss;else if(en in ve(this,$e,"f").features&&s.features.includes(en))i=en;else throw new ri;else if(en in ve(this,$e,"f").features){if(!s.features.includes(en))throw new ri;i=en}else throw new Zo;const o=Mj(n.rpcEndpoint);if(!s.chains.includes(o))throw new Cs;try{const{signers:l,...c}=r;let u;if(As(t)?(l!=null&&l.length&&t.sign(l),u=t.serialize()):(t=await this.prepareTransaction(t,n,c),l!=null&&l.length&&t.partialSign(...l),u=new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))),i===Ss){const[d]=await ve(this,$e,"f").features[Ss].signAndSendTransaction({account:s,chain:o,transaction:u,options:{preflightCommitment:Rd(c.preflightCommitment||n.commitment),skipPreflight:c.skipPreflight,maxRetries:c.maxRetries,minContextSlot:c.minContextSlot}});return x5.encode(d.signature)}else{const[d]=await ve(this,$e,"f").features[en].signTransaction({account:s,chain:o,transaction:u,options:{preflightCommitment:Rd(c.preflightCommitment||n.commitment),minContextSlot:c.minContextSlot}});return await n.sendRawTransaction(d.signedTransaction,{...c,preflightCommitment:Rd(c.preflightCommitment||n.commitment)})}}catch(l){throw l instanceof xn?l:new Cs(l==null?void 0:l.message,l)}}catch(s){throw this.emit("error",s),s}}}Cn=new WeakMap,ii=new WeakMap,oi=new WeakMap,Zs=new WeakMap,Qo=new WeakMap,Cc=new WeakMap,$e=new WeakMap,Ac=new WeakMap,ch=new WeakMap,tn=new WeakSet,ah=async function(t){try{if(this.connected||this.connecting)return;if(ve(this,Ac,"f")!==Ue.Installed)throw new di;if(Pt(this,oi,!0,"f"),!ve(this,$e,"f").accounts.length)try{await ve(this,$e,"f").features[Aw].connect(t)}catch(r){throw new Yi(r==null?void 0:r.message,r)}const n=ve(this,$e,"f").accounts[0];if(!n)throw new ri;ve(this,tn,"m",Fl).call(this,n)}catch(n){throw this.emit("error",n),n}finally{Pt(this,oi,!1,"f")}},Fl=function(t){let n;try{n=new ue(t.address)}catch(r){throw new Nc(r==null?void 0:r.message,r)}Pt(this,Cn,t,"f"),Pt(this,ii,n,"f"),ve(this,tn,"m",la).call(this),this.emit("connect",n)},lh=function(){Pt(this,Cn,null,"f"),Pt(this,ii,null,"f"),ve(this,tn,"m",la).call(this),this.emit("disconnect")},la=function(){var n,r;const t=Ss in ve(this,$e,"f").features?ve(this,$e,"f").features[Ss].supportedTransactionVersions:ve(this,$e,"f").features[en].supportedTransactionVersions;Pt(this,Cc,m5(t,["legacy"])?null:new Set(t),"f"),en in ve(this,$e,"f").features&&((n=ve(this,Cn,"f"))!=null&&n.features.includes(en))?(this.signTransaction=ve(this,tn,"m",lg),this.signAllTransactions=ve(this,tn,"m",cg)):(delete this.signTransaction,delete this.signAllTransactions),Wo in ve(this,$e,"f").features&&((r=ve(this,Cn,"f"))!=null&&r.features.includes(Wo))?this.signMessage=ve(this,tn,"m",ug):delete this.signMessage,Md in ve(this,$e,"f").features?this.signIn=ve(this,tn,"m",dg):delete this.signIn},lg=async function(t){try{const n=ve(this,Cn,"f");if(!n)throw new Mn;if(!(en in ve(this,$e,"f").features))throw new Zo;if(!n.features.includes(en))throw new ri;try{const s=(await ve(this,$e,"f").features[en].signTransaction({account:n,transaction:As(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return As(t)?La.deserialize(s):qt.from(s)}catch(r){throw r instanceof xn?r:new Zr(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},cg=async function(t){try{const n=ve(this,Cn,"f");if(!n)throw new Mn;if(!(en in ve(this,$e,"f").features))throw new Zo;if(!n.features.includes(en))throw new ri;try{const r=await ve(this,$e,"f").features[en].signTransaction(...t.map(s=>({account:n,transaction:As(s)?s.serialize():new Uint8Array(s.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return t.map((s,i)=>{const o=r[i].signedTransaction;return As(s)?La.deserialize(o):qt.from(o)})}catch(r){throw new Zr(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},ug=async function(t){try{const n=ve(this,Cn,"f");if(!n)throw new Mn;if(!(Wo in ve(this,$e,"f").features))throw new Zo;if(!n.features.includes(Wo))throw new ri;try{return(await ve(this,$e,"f").features[Wo].signMessage({account:n,message:t}))[0].signature}catch(r){throw new Fp(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},dg=async function(t={}){try{if(!(Md in ve(this,$e,"f").features))throw new Zo;let n;try{[n]=await ve(this,$e,"f").features[Md].signIn(t)}catch(r){throw new Ym(r==null?void 0:r.message,r)}if(!n)throw new Ym;return ve(this,tn,"m",Fl).call(this,n.account),n}catch(n){throw this.emit("error",n),n}};const v5=_j;var b5=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},S5=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},Dl;let $n;const hu=new Set;function E5(e){ca=void 0,hu.add(e)}function N5(e){ca=void 0,hu.delete(e)}const Zi={};function _5(){if($n||($n=Object.freeze({register:fg,get:k5,on:j5}),typeof window>"u"))return $n;const e=Object.freeze({register:fg});try{window.addEventListener("wallet-standard:register-wallet",({detail:t})=>t(e))}catch(t){console.error(`wallet-standard:register-wallet event listener could not be added
`,t)}try{window.dispatchEvent(new C5(e))}catch(t){console.error(`wallet-standard:app-ready event could not be dispatched
`,t)}return $n}function fg(...e){var t;return e=e.filter(n=>!hu.has(n)),e.length?(e.forEach(n=>E5(n)),(t=Zi.register)==null||t.forEach(n=>uh(()=>n(...e))),function(){var r;e.forEach(s=>N5(s)),(r=Zi.unregister)==null||r.forEach(s=>uh(()=>s(...e)))}):()=>{}}let ca;function k5(){return ca||(ca=[...hu]),ca}function j5(e,t){var n;return(n=Zi[e])!=null&&n.push(t)||(Zi[e]=[t]),function(){var s;Zi[e]=(s=Zi[e])==null?void 0:s.filter(i=>t!==i)}}function uh(e){try{e()}catch(t){console.error(t)}}class C5 extends Event{get detail(){return b5(this,Dl,"f")}get type(){return"wallet-standard:app-ready"}constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),Dl.set(this,void 0),S5(this,Dl,t,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Dl=new WeakMap;function A5(){if($n||($n=_5(),typeof window>"u"))return $n;const e=window.navigator.wallets||[];if(!Array.isArray(e))return console.error("window.navigator.wallets is not an array"),$n;const{register:t}=$n,n=(...r)=>r.forEach(s=>uh(()=>s({register:t})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch{return console.error("window.navigator.wallets could not be set"),$n}return n(...e),$n}function I5(e){const t=hg(()=>new Set),{get:n,on:r}=hg(()=>A5()),[s,i]=L.useState(()=>pg(n()));L.useEffect(()=>{const l=[r("register",(...c)=>i(u=>[...u,...pg(c)])),r("unregister",(...c)=>i(u=>u.filter(d=>c.some(p=>p===d.wallet))))];return()=>l.forEach(c=>c())},[r]);const o=T5(s);return L.useEffect(()=>{if(!o)return;const l=new Set(s);new Set(o.filter(u=>!l.has(u))).forEach(u=>u.destroy())},[o,s]),L.useEffect(()=>()=>s.forEach(l=>l.destroy()),[]),L.useMemo(()=>[...s,...e.filter(({name:l})=>s.some(c=>c.name===l)?(t.has(l)||(t.add(l),console.warn(`${l} was registered as a Standard Wallet. The Wallet Adapter for ${l} can be removed from your app.`)),!1):!0)],[s,e,t])}function hg(e){const t=L.useRef(void 0);return t.current===void 0&&(t.current={value:e()}),t.current.value}function T5(e){const t=L.useRef(void 0);return L.useEffect(()=>{t.current=e}),t.current}function pg(e){return e.filter(v5).map(t=>new w5({wallet:t}))}var io;(function(e){e[e.DESKTOP_WEB=0]="DESKTOP_WEB",e[e.MOBILE_WEB=1]="MOBILE_WEB"})(io||(io={}));function M5(e){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(e)}function R5({adapters:e,userAgentString:t}){return e.some(n=>n.name!==ws&&n.readyState===Ue.Installed)?io.DESKTOP_WEB:t&&/android/i.test(t)&&!M5(t)?io.MOBILE_WEB:io.DESKTOP_WEB}function B5(e){return e?/devnet/i.test(e)?"devnet":/testnet/i.test(e)?"testnet":"mainnet-beta":"mainnet-beta"}function P5({children:e,wallets:t,adapter:n,isUnloadingRef:r,onAutoConnectRequest:s,onConnectError:i,onError:o,onSelectWallet:l}){const c=L.useRef(!1),[u,d]=L.useState(!1),p=L.useRef(!1),[x,N]=L.useState(!1),[C,S]=L.useState(()=>(n==null?void 0:n.publicKey)??null),[E,v]=L.useState(()=>(n==null?void 0:n.connected)??!1),b=L.useRef(o);L.useEffect(()=>(b.current=o,()=>{b.current=void 0}),[o]);const g=L.useRef((y,_)=>(r.current||(b.current?b.current(y,_):(console.error(y,_),y instanceof di&&typeof window<"u"&&_&&window.open(_.url,"_blank"))),y)),[R,z]=L.useState(()=>t.map(y=>({adapter:y,readyState:y.readyState})).filter(({readyState:y})=>y!==Ue.Unsupported));L.useEffect(()=>{z(_=>t.map((k,j)=>{const T=_[j];return T&&T.adapter===k&&T.readyState===k.readyState?T:{adapter:k,readyState:k.readyState}}).filter(({readyState:k})=>k!==Ue.Unsupported));function y(_){z(k=>{const j=k.findIndex(({adapter:B})=>B===this);if(j===-1)return k;const{adapter:T}=k[j];return[...k.slice(0,j),{adapter:T,readyState:_},...k.slice(j+1)].filter(({readyState:B})=>B!==Ue.Unsupported)})}return t.forEach(_=>_.on("readyStateChange",y,_)),()=>{t.forEach(_=>_.off("readyStateChange",y,_))}},[n,t]);const U=L.useMemo(()=>R.find(y=>y.adapter===n)??null,[n,R]);L.useEffect(()=>{if(!n)return;const y=j=>{S(j),c.current=!1,d(!1),v(!0),p.current=!1,N(!1)},_=()=>{r.current||(S(null),c.current=!1,d(!1),v(!1),p.current=!1,N(!1))},k=j=>{g.current(j,n)};return n.on("connect",y),n.on("disconnect",_),n.on("error",k),()=>{n.off("connect",y),n.off("disconnect",_),n.off("error",k),_()}},[n,r]);const F=L.useRef(!1);L.useEffect(()=>()=>{F.current=!1},[n]),L.useEffect(()=>{F.current||c.current||E||!s||!((U==null?void 0:U.readyState)===Ue.Installed||(U==null?void 0:U.readyState)===Ue.Loadable)||(c.current=!0,d(!0),F.current=!0,async function(){try{await s()}catch{i()}finally{d(!1),c.current=!1}}())},[E,s,i,U]);const D=L.useCallback(async(y,_,k)=>{if(!n)throw g.current(new Qm);if(!E)throw g.current(new Mn,n);return await n.sendTransaction(y,_,k)},[n,E]),q=L.useMemo(()=>n&&"signTransaction"in n?async y=>{if(!E)throw g.current(new Mn,n);return await n.signTransaction(y)}:void 0,[n,E]),G=L.useMemo(()=>n&&"signAllTransactions"in n?async y=>{if(!E)throw g.current(new Mn,n);return await n.signAllTransactions(y)}:void 0,[n,E]),Z=L.useMemo(()=>n&&"signMessage"in n?async y=>{if(!E)throw g.current(new Mn,n);return await n.signMessage(y)}:void 0,[n,E]),ee=L.useMemo(()=>n&&"signIn"in n?async y=>await n.signIn(y):void 0,[n]),P=L.useCallback(async()=>{if(c.current||p.current||U!=null&&U.adapter.connected)return;if(!U)throw g.current(new Qm);const{adapter:y,readyState:_}=U;if(!(_===Ue.Installed||_===Ue.Loadable))throw g.current(new di,y);c.current=!0,d(!0);try{await y.connect()}catch(k){throw i(),k}finally{d(!1),c.current=!1}},[i,U]),f=L.useCallback(async()=>{if(!p.current&&n){p.current=!0,N(!0);try{await n.disconnect()}finally{N(!1),p.current=!1}}},[n]);return oe.createElement(Tw.Provider,{value:{autoConnect:!!s,wallets:R,wallet:U,publicKey:C,connected:E,connecting:u,disconnecting:x,select:l,connect:P,disconnect:f,sendTransaction:D,signTransaction:q,signAllTransactions:G,signMessage:Z,signIn:ee}},e)}let Hd;function L5(){var e;return Hd===void 0&&(Hd=((e=globalThis.navigator)==null?void 0:e.userAgent)??null),Hd}function _l(e){const t=L5();return R5({adapters:e,userAgentString:t})===io.MOBILE_WEB}function O5(){const e=globalThis.location;if(e)return`${e.protocol}//${e.host}`}function U5({children:e,wallets:t,autoConnect:n,localStorageKey:r="walletName",onError:s}){const{connection:i}=yj(),o=I5(t),l=L.useMemo(()=>{if(!_l(o))return null;const b=o.find(g=>g.name===ws);return b||new u5({addressSelector:d5(),appIdentity:{uri:O5()},authorizationResultCache:f5(),cluster:B5(i==null?void 0:i.rpcEndpoint),onWalletNotFound:p5()})},[o,i==null?void 0:i.rpcEndpoint]),c=L.useMemo(()=>l==null||o.indexOf(l)!==-1?o:[l,...o],[o,l]),[u,d]=jj(r,_l(o)?ws:null),p=L.useMemo(()=>c.find(b=>b.name===u)??null,[c,u]),x=L.useCallback(b=>{u!==b&&(p&&p.name!==ws&&p.disconnect(),d(b))},[p,d,u]);L.useEffect(()=>{if(!p)return;function b(){S.current||u===ws&&_l(o)||d(null)}return p.on("disconnect",b),()=>{p.off("disconnect",b)}},[p,o,d,u]);const N=L.useRef(!1),C=L.useMemo(()=>{if(!(!n||!p))return async()=>{(n===!0||await n(p))&&(N.current?await p.connect():await p.autoConnect())}},[n,p]),S=L.useRef(!1);L.useEffect(()=>{if(u===ws&&_l(o)){S.current=!1;return}function b(){S.current=!0}return window.addEventListener("beforeunload",b),()=>{window.removeEventListener("beforeunload",b)}},[o,u]);const E=L.useCallback(()=>{p&&p.name!==ws&&x(null)},[p,x]),v=L.useCallback(b=>{N.current=!0,x(b)},[x]);return oe.createElement(P5,{wallets:c,adapter:p,isUnloadingRef:S,onAutoConnectRequest:C,onConnectError:E,onError:s,onSelectWallet:v},e)}const z5={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://www.api.pawverse.pet",VITE_APP_VERSION:"1.0.0",VITE_BACKEND_WALLET:"PAWpVcQF3e1XF4yseG5yhkKdoJpwgGqd2ixZNgf9zfy",VITE_COLLECTION_MINT:"9PihSXXMrKZK5M7wRf4j15GiGNrrPw9GgS3r79HLVYjB",VITE_NFT_STORAGE_API_KEY:"d5b54adc.51628ec5ad9349308c705241f9d02e44",VITE_SOLANA_RPC:"https://mainnet.helius-rpc.com/?api-key=8e902922-0b06-4126-aec8-05865b7b63e9",VITE_TOKEN_MINT:"TBD",VITE_TOKEN_SYMBOL:"bonkland"},mg=e=>{let t;const n=new Set,r=(d,p)=>{const x=typeof d=="function"?d(t):d;if(!Object.is(x,t)){const N=t;t=p??(typeof x!="object"||x===null)?x:Object.assign({},t,x),n.forEach(C=>C(t,N))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(z5?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,s,c);return c},F5=e=>e?mg(e):mg;var ev={exports:{}},tv={},nv={exports:{}},rv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eo=L;function D5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $5=typeof Object.is=="function"?Object.is:D5,W5=Eo.useState,K5=Eo.useEffect,H5=Eo.useLayoutEffect,V5=Eo.useDebugValue;function q5(e,t){var n=t(),r=W5({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return H5(function(){s.value=n,s.getSnapshot=t,Vd(s)&&i({inst:s})},[e,n,t]),K5(function(){return Vd(s)&&i({inst:s}),e(function(){Vd(s)&&i({inst:s})})},[e]),V5(n),n}function Vd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$5(e,n)}catch{return!0}}function G5(e,t){return t()}var Y5=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?G5:q5;rv.useSyncExternalStore=Eo.useSyncExternalStore!==void 0?Eo.useSyncExternalStore:Y5;nv.exports=rv;var Z5=nv.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pu=L,Q5=Z5;function X5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var J5=typeof Object.is=="function"?Object.is:X5,e8=Q5.useSyncExternalStore,t8=pu.useRef,n8=pu.useEffect,r8=pu.useMemo,s8=pu.useDebugValue;tv.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=t8(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=r8(function(){function c(N){if(!u){if(u=!0,d=N,N=r(N),s!==void 0&&o.hasValue){var C=o.value;if(s(C,N))return p=C}return p=N}if(C=p,J5(d,N))return C;var S=r(N);return s!==void 0&&s(C,S)?(d=N,C):(d=N,p=S)}var u=!1,d,p,x=n===void 0?null:n;return[function(){return c(t())},x===null?void 0:function(){return c(x())}]},[t,n,r,s]);var l=e8(e,i[0],i[1]);return n8(function(){o.hasValue=!0,o.value=l},[l]),s8(l),l};ev.exports=tv;var i8=ev.exports;const o8=ls(i8),sv={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://www.api.pawverse.pet",VITE_APP_VERSION:"1.0.0",VITE_BACKEND_WALLET:"PAWpVcQF3e1XF4yseG5yhkKdoJpwgGqd2ixZNgf9zfy",VITE_COLLECTION_MINT:"9PihSXXMrKZK5M7wRf4j15GiGNrrPw9GgS3r79HLVYjB",VITE_NFT_STORAGE_API_KEY:"d5b54adc.51628ec5ad9349308c705241f9d02e44",VITE_SOLANA_RPC:"https://mainnet.helius-rpc.com/?api-key=8e902922-0b06-4126-aec8-05865b7b63e9",VITE_TOKEN_MINT:"TBD",VITE_TOKEN_SYMBOL:"bonkland"},{useDebugValue:a8}=oe,{useSyncExternalStoreWithSelector:l8}=o8;let gg=!1;const c8=e=>e;function u8(e,t=c8,n){(sv?"production":void 0)!=="production"&&n&&!gg&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),gg=!0);const r=l8(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return a8(r),r}const d8=e=>{(sv?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?F5(e):e,n=(r,s)=>u8(t,r,s);return Object.assign(n,t),n},f8=e=>d8,h8={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://www.api.pawverse.pet",VITE_APP_VERSION:"1.0.0",VITE_BACKEND_WALLET:"PAWpVcQF3e1XF4yseG5yhkKdoJpwgGqd2ixZNgf9zfy",VITE_COLLECTION_MINT:"9PihSXXMrKZK5M7wRf4j15GiGNrrPw9GgS3r79HLVYjB",VITE_NFT_STORAGE_API_KEY:"d5b54adc.51628ec5ad9349308c705241f9d02e44",VITE_SOLANA_RPC:"https://mainnet.helius-rpc.com/?api-key=8e902922-0b06-4126-aec8-05865b7b63e9",VITE_TOKEN_MINT:"TBD",VITE_TOKEN_SYMBOL:"bonkland"};function iv(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=n.getItem(s))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const za=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return za(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return za(r)(n)}}}},p8=(e,t)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:E=>E,version:0,merge:(E,v)=>({...v,...E}),...t},o=!1;const l=new Set,c=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...E)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...E)},r,s);const d=za(i.serialize),p=()=>{const E=i.partialize({...r()});let v;const b=d({state:E,version:i.version}).then(g=>u.setItem(i.name,g)).catch(g=>{v=g});if(v)throw v;return b},x=s.setState;s.setState=(E,v)=>{x(E,v),p()};const N=e((...E)=>{n(...E),p()},r,s);let C;const S=()=>{var E;if(!u)return;o=!1,l.forEach(b=>b(r()));const v=((E=i.onRehydrateStorage)==null?void 0:E.call(i,r()))||void 0;return za(u.getItem.bind(u))(i.name).then(b=>{if(b)return i.deserialize(b)}).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==i.version){if(i.migrate)return i.migrate(b.state,b.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return b.state}).then(b=>{var g;return C=i.merge(b,(g=r())!=null?g:N),n(C,!0),p()}).then(()=>{v==null||v(C,void 0),o=!0,c.forEach(b=>b(C))}).catch(b=>{v==null||v(void 0,b)})};return s.persist={setOptions:E=>{i={...i,...E},E.getStorage&&(u=E.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>S(),hasHydrated:()=>o,onHydrate:E=>(l.add(E),()=>{l.delete(E)}),onFinishHydration:E=>(c.add(E),()=>{c.delete(E)})},S(),C||N},m8=(e,t)=>(n,r,s)=>{let i={storage:iv(()=>localStorage),partialize:S=>S,version:0,merge:(S,E)=>({...E,...S}),...t},o=!1;const l=new Set,c=new Set;let u=i.storage;if(!u)return e((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...S)},r,s);const d=()=>{const S=i.partialize({...r()});return u.setItem(i.name,{state:S,version:i.version})},p=s.setState;s.setState=(S,E)=>{p(S,E),d()};const x=e((...S)=>{n(...S),d()},r,s);s.getInitialState=()=>x;let N;const C=()=>{var S,E;if(!u)return;o=!1,l.forEach(b=>{var g;return b((g=r())!=null?g:x)});const v=((E=i.onRehydrateStorage)==null?void 0:E.call(i,(S=r())!=null?S:x))||void 0;return za(u.getItem.bind(u))(i.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==i.version){if(i.migrate)return[!0,i.migrate(b.state,b.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var g;const[R,z]=b;if(N=i.merge(z,(g=r())!=null?g:x),n(N,!0),R)return d()}).then(()=>{v==null||v(N,void 0),N=r(),o=!0,c.forEach(b=>b(N))}).catch(b=>{v==null||v(void 0,b)})};return s.persist={setOptions:S=>{i={...i,...S},S.storage&&(u=S.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>C(),hasHydrated:()=>o,onHydrate:S=>(l.add(S),()=>{l.delete(S)}),onFinishHydration:S=>(c.add(S),()=>{c.delete(S)})},i.skipHydration||C(),N||x},g8=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((h8?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),p8(e,t)):m8(e,t),y8=g8,rt=f8()(y8((e,t)=>({currentPetIndex:0,cachedpupism:[],lastFetchTime:null,setCachedpupism:n=>e({cachedpupism:n,lastFetchTime:Date.now(),currentPetIndex:n.length>0&&t().currentPetIndex<n.length?t().currentPetIndex:0}),addCachedPet:n=>{const r=[...t().cachedpupism,n];e({cachedpupism:r,currentPetIndex:r.length-1,lastFetchTime:Date.now()})},updateCachedPet:n=>{const r=[...t().cachedpupism],s=r.findIndex(i=>i.id===n.id);s!==-1&&(r[s]=n,e({cachedpupism:r}))},nextPet:()=>{const{cachedpupism:n,currentPetIndex:r}=t();if(n.length<=1)return;const s=(r+1)%n.length;e({currentPetIndex:s})},previousPet:()=>{const{cachedpupism:n,currentPetIndex:r}=t();if(n.length<=1)return;const s=(r-1+n.length)%n.length;e({currentPetIndex:s})},selectPetById:n=>{const{cachedpupism:r}=t(),s=r.findIndex(i=>i.id===n);return s!==-1?(e({currentPetIndex:s}),!0):!1},resetCache:()=>e({cachedpupism:[],lastFetchTime:null})}),{name:"pawverse-storage",storage:iv(()=>localStorage),partialize:e=>({cachedpupism:e.cachedpupism,lastFetchTime:e.lastFetchTime,currentPetIndex:e.currentPetIndex})})),Fr=new ue("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new ue("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");const Vp=new ue("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new ue("So11111111111111111111111111111111111111112");new ue("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");const qp=e=>{const t=e.decode.bind(e),n=e.encode.bind(e);return{decode:t,encode:n}},x8=e=>t=>{const n=Qe(e,t),{encode:r,decode:s}=qp(n),i=n;return i.decode=(o,l)=>{const c=s(o,l);return Hx(mt.from(c))},i.encode=(o,l,c)=>{const u=Vx(o,e);return r(u,l,c)},i},ov=x8(8),w8=e=>{const t=ze(e),{encode:n,decode:r}=qp(t),s=t;return s.decode=(i,o)=>!!r(i,o),s.encode=(i,o,l)=>{const c=Number(i);return n(c,o,l)},s},yg=e=>{const t=Qe(32,e),{encode:n,decode:r}=qp(t),s=t;return s.decode=(i,o)=>{const l=r(i,o);return new ue(l)},s.encode=(i,o,l)=>{const c=i.toBuffer();return n(c,o,l)},s};class v8 extends Error{constructor(t){super(t)}}class b8 extends v8{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}var dh;(function(e){e[e.InitializeMint=0]="InitializeMint",e[e.InitializeAccount=1]="InitializeAccount",e[e.InitializeMultisig=2]="InitializeMultisig",e[e.Transfer=3]="Transfer",e[e.Approve=4]="Approve",e[e.Revoke=5]="Revoke",e[e.SetAuthority=6]="SetAuthority",e[e.MintTo=7]="MintTo",e[e.Burn=8]="Burn",e[e.CloseAccount=9]="CloseAccount",e[e.FreezeAccount=10]="FreezeAccount",e[e.ThawAccount=11]="ThawAccount",e[e.TransferChecked=12]="TransferChecked",e[e.ApproveChecked=13]="ApproveChecked",e[e.MintToChecked=14]="MintToChecked",e[e.BurnChecked=15]="BurnChecked",e[e.InitializeAccount2=16]="InitializeAccount2",e[e.SyncNative=17]="SyncNative",e[e.InitializeAccount3=18]="InitializeAccount3",e[e.InitializeMultisig2=19]="InitializeMultisig2",e[e.InitializeMint2=20]="InitializeMint2",e[e.GetAccountDataSize=21]="GetAccountDataSize",e[e.InitializeImmutableOwner=22]="InitializeImmutableOwner",e[e.AmountToUiAmount=23]="AmountToUiAmount",e[e.UiAmountToAmount=24]="UiAmountToAmount",e[e.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",e[e.TransferFeeExtension=26]="TransferFeeExtension",e[e.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",e[e.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",e[e.Reallocate=29]="Reallocate",e[e.MemoTransferExtension=30]="MemoTransferExtension",e[e.CreateNativeMint=31]="CreateNativeMint",e[e.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",e[e.InterestBearingMintExtension=33]="InterestBearingMintExtension",e[e.CpiGuardExtension=34]="CpiGuardExtension",e[e.InitializePermanentDelegate=35]="InitializePermanentDelegate",e[e.TransferHookExtension=36]="TransferHookExtension",e[e.MetadataPointerExtension=39]="MetadataPointerExtension"})(dh||(dh={}));function S8(e,t,n){if(n.length){e.push({pubkey:t,isSigner:!1,isWritable:!1});for(const r of n)e.push({pubkey:r instanceof ue?r:r.publicKey,isSigner:!0,isWritable:!1})}else e.push({pubkey:t,isSigner:!0,isWritable:!1});return e}const E8=xe([Ee("mintAuthorityOption"),yg("mintAuthority"),ov("supply"),ze("decimals"),w8("isInitialized"),Ee("freezeAuthorityOption"),yg("freezeAuthority")]);E8.span;async function on(e,t,n=!1,r=Fr,s=Vp){if(!n&&!ue.isOnCurve(t.toBuffer()))throw new b8;const[i]=await ue.findProgramAddress([t.toBuffer(),r.toBuffer(),e.toBuffer()],s);return i}function Gp(e,t,n,r,s=Fr,i=Vp){return N8(e,t,n,r,mt.alloc(0),s,i)}function N8(e,t,n,r,s,i=Fr,o=Vp){const l=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:xo.programId,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1}];return new Fn({keys:l,programId:o,data:s})}const xg=xe([ze("instruction"),ov("amount")]);function Ro(e,t,n,r,s=[],i=Fr){const o=S8([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}],n,s),l=mt.alloc(xg.span);return xg.encode({instruction:dh.Transfer,amount:BigInt(r)},l),new Fn({keys:o,programId:i,data:l})}const _8={Common:{chance:50,decayRate:5,color:"#A0A0A0"},Uncommon:{chance:30,decayRate:3,color:"#00ff9d"},Rare:{chance:15,decayRate:2,color:"#ff77a8"},Legendary:{chance:5,decayRate:1,color:"#ffec27"}};class as extends Error{constructor(t,n){super(t),this.name="ApiError",this.status=n}}const mu="https://www.api.pawverse.pet";async function gu(e){const t=e.headers.get("Content-Type")||"";if(e.ok)return t.includes("application/json")?e.json():e.text();let n=`HTTP Error ${e.status}: ${e.statusText}`;try{if(t.includes("application/json")){const r=await e.json();n=r.error||r.message||n}else{const r=await e.text();r&&(n=r)}}catch{}throw new as(n,e.status)}async function k8(e){try{const t=await fetch(`${mu}/bonkland/${e}/feed`,{method:"POST"});return gu(t)}catch(t){throw t instanceof as?t:new as(`Failed to feed pet: ${t.message}`,500)}}async function j8(e){try{const t=await fetch(`${mu}/bonkland/${e}/play`,{method:"POST"});return gu(t)}catch(t){throw t instanceof as?t:new as(`Failed to play with pet: ${t.message}`,500)}}async function C8(e,t,n){try{const r=await fetch(`${mu}/bonkland/${e}/train`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:t,increase:n})});return gu(r)}catch(r){throw r instanceof as?r:new as(`Failed to train pet: ${r.message}`,500)}}async function fh(e){try{const t=await fetch(`${mu}/bonkland/${e}/restore_energy`,{method:"POST"});return gu(t)}catch(t){throw t instanceof as?t:new as(`Failed to restore energy: ${t.message}`,500)}}function jr({type:e,message:t}){return t?a.jsxs("div",{className:`mb-4 p-2 rounded flex items-center justify-center ${e==="error"?"bg-red-800/20":"bg-green-800/20"}`,children:[e==="error"&&a.jsx(Va,{className:"w-4 h-4 mr-2 text-red-500"}),e==="success"&&a.jsx(wE,{className:"w-4 h-4 mr-2 text-green-500"}),a.jsx("p",{className:`text-center pixel-text text-sm ${e==="error"?"text-red-500":"text-green-500"}`,children:t})]}):null}function mn({value:e,max:t,label:n,gradient:r,height:s="4"}){const i=Math.min(100,Math.max(0,e/t*100));return a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-xs pixel-text",children:n}),a.jsxs("span",{className:"text-xs pixel-text",children:[e.toFixed(1),"%"]})]}),a.jsx("div",{className:`pixel-progress h-${s}`,children:a.jsx("div",{className:"pixel-progress-bar",style:{width:`${i}%`,background:r||void 0}})})]})}class A8{constructor(){this.config={apiUrl:"https://www.api.pawverse.pet",solanaEndpoint:"https://mainnet.helius-rpc.com/?api-key=8e902922-0b06-4126-aec8-05865b7b63e9",tokenMint:"TBD",tokenSymbol:"bonkland",backendWallet:"PAWpVcQF3e1XF4yseG5yhkKdoJpwgGqd2ixZNgf9zfy",collectionMint:"9PihSXXMrKZK5M7wRf4j15GiGNrrPw9GgS3r79HLVYjB"}}get(t){return this.config[t]}getAll(){return{...this.config}}}const Ie=new A8;function I8({pet:e}){const t=Un(),n=wn();rt(T=>T.playWithPet);const[r,s]=L.useState("idle"),[i,o]=L.useState(!1),[l,c]=L.useState(!1),[u,d]=L.useState(!1),[p,x]=L.useState(""),[N,C]=L.useState(""),[S,E]=L.useState(0),[v,b]=L.useState(0),g=Ie.get("solanaEndpoint"),R=Ie.get("tokenMint"),z=Ie.get("backendWallet"),U=Ie.get("tokenSymbol"),F=1e3,D=5e3;L.useEffect(()=>{const T=async()=>{if(n.publicKey)try{const I=new On(g),h=await I.getBalance(n.publicKey);if(E(h/th),R)try{const A=new ue(R),$=await on(A,n.publicKey);try{const W=await I.getTokenAccountBalance($);b(Number(W.value.amount)/10**W.value.decimals)}catch{b(0)}}catch(A){console.error("Error fetching token balance:",A),b(0)}}catch(I){console.error("Error fetching balances:",I)}};T();const B=setInterval(T,15e3);return()=>clearInterval(B)},[n.publicKey,g,R]),L.useEffect(()=>{if(e){const T=new Date(e.last_fed),B=new Date(e.last_played),I=new Date;console.log("Pet timestamp information:",{petId:e.id,name:e.name,last_fed:e.last_fed,last_played:e.last_played,lastFedDate:T.toISOString(),lastPlayedDate:B.toISOString(),currentDate:I.toISOString(),minutesSinceLastFed:(I.getTime()-T.getTime())/(60*1e3),minutesSinceLastPlayed:(I.getTime()-B.getTime())/(60*1e3),timezoneOffset:new Date().getTimezoneOffset()})}},[e.id]);function q(){return new Date().toISOString()}L.useEffect(()=>{const T=setInterval(()=>{if(!e||!e.last_fed||!e.last_played||!e.last_energy_restored){console.warn("Pet object is missing required fields for decay calculation");return}try{const B=new Date,I=B.toISOString();let h=!1;const A=new Date(e.last_fed).getTime(),$=new Date(e.last_played).getTime(),W=new Date(e.last_energy_restored).getTime();if(Math.random()<.01&&console.log("Debug interval timestamps:",{now:I,last_fed:e.last_fed,last_played:e.last_played,last_energy:e.last_energy_restored,millisSinceFed:B.getTime()-A,millisSincePlayed:B.getTime()-$}),isNaN(A)||isNaN($)||isNaN(W)){console.error("Invalid timestamp in pet object",{last_fed:e.last_fed,last_played:e.last_played,last_energy_restored:e.last_energy_restored});return}const H={...e},te=20*60*1e3,J=30*1e3;B.getTime()-A>te&&(H.hunger=Math.max(0,H.hunger-1),H.last_fed=I,h=!0,console.log(`Reduced hunger by 1 to ${H.hunger}, new timestamp: ${I}`)),B.getTime()-$>te&&(H.happiness=Math.max(0,H.happiness-1),H.last_played=I,h=!0,console.log(`Reduced happiness by 1 to ${H.happiness}, new timestamp: ${I}`)),H.hunger>20&&B.getTime()-W>J&&(H.energy=Math.min(100,H.energy+1),H.last_energy_restored=I,h=!0),h&&(e.hunger=H.hunger,e.happiness=H.happiness,e.energy=H.energy,e.last_fed=H.last_fed,e.last_played=H.last_played,e.last_energy_restored=H.last_energy_restored,rt.getState().updateCachedPet(H)),H.hunger<30?s("hungry"):H.happiness>70?s("happy"):s("idle")}catch(B){console.error("Error in pet decay interval:",B)}},1e3);return()=>clearInterval(T)},[e]);const G=async T=>{var we;if(!n.publicKey||!n.signTransaction||!R||!z)throw new Error("Missing required parameters for token transfer");const B=new On(g,"confirmed"),I=new ue(R),h=new ue(z),A=await on(I,n.publicKey),$=await on(I,h),W=await B.getParsedAccountInfo(I);if(!W.value||!W.value.data)throw new Error("Could not fetch token mint information");const H=W.value.data.parsed,te=((we=H==null?void 0:H.info)==null?void 0:we.decimals)||0;console.log(`Token has ${te} decimals. Converting ${T} tokens...`);const J=T*Math.pow(10,te);console.log(`Raw amount to transfer: ${J}`);let re;try{re=await B.getAccountInfo($)}catch{console.log("Error checking recipient account, will attempt to create if needed")}let me=new qt;re||(console.log("Recipient token account doesn't exist, creating it..."),me.add(createAssociatedTokenAccountInstruction(n.publicKey,$,h,I)));const fe=Ro(A,$,n.publicKey,Math.floor(J),[],Fr);me.add(fe);const{blockhash:ye,lastValidBlockHeight:Oe}=await B.getLatestBlockhash("confirmed");me.recentBlockhash=ye,me.feePayer=n.publicKey;const ne=await n.signTransaction(me),ie=await B.sendRawTransaction(ne.serialize());return await B.confirmTransaction({signature:ie,blockhash:ye,lastValidBlockHeight:Oe},"confirmed"),ie},Z=async()=>{var T,B,I,h,A,$;if(x(""),C(""),!n.publicKey||!n.signTransaction){x("Connect your wallet to feed your pet"),setTimeout(()=>x(""),3e3);return}if(!R){x("Token not configured. Please contact administrator."),setTimeout(()=>x(""),3e3);return}if(v<F){x(`Not enough ${U}. You need ${F} ${U} to feed your pet.`),setTimeout(()=>x(""),3e3);return}if(e.hunger>=100){C("Your pet is not hungry!"),setTimeout(()=>C(""),3e3);return}c(!0);try{let W;try{W=await G(F),console.log(`Token transfer successful! Signature: ${W}`)}catch(J){if((T=J.message)!=null&&T.includes("already been processed"))console.warn("Transaction already processed - continuing with pet feeding"),W="local-"+Math.random().toString(36).substring(2,15);else throw J}const H=q(),te={...e,hunger:Math.min(100,e.hunger+20),last_fed:H};console.log(`Setting new last_fed timestamp: ${H}`);try{const J=await k8(e.id);Object.assign(e,J),e.last_fed=H}catch(J){console.error("API error feeding pet:",J),Object.assign(e,te)}rt.getState().updateCachedPet({...e,last_fed:H}),s("happy"),C("Pet fed successfully!"),setTimeout(()=>{s("idle"),C("")},2e3)}catch(W){if(console.error("Error feeding pet:",W),(B=W.message)!=null&&B.includes("User rejected"))x("Transaction was rejected in your wallet");else if((I=W.message)!=null&&I.includes("insufficient funds"))x(`Insufficient ${U} balance`);else if((h=W.message)!=null&&h.includes("already been processed"))x("This transaction was already processed. Please try again.");else if((A=W.message)!=null&&A.includes("blockhash"))x("Transaction expired. Please try again.");else if(W.name==="SendTransactionError")try{const H=(($=W.logs)==null?void 0:$.join(`
`))||"No detailed logs available";console.error("Transaction error logs:",H),x("Transaction failed. Please try again in a moment.")}catch{x("Transaction failed. Please try again in a moment.")}else x("Failed to feed pet. Please try again.");setTimeout(()=>x(""),5e3)}finally{c(!1)}},ee=async()=>{var T,B,I,h,A,$;if(x(""),C(""),!n.publicKey||!n.signTransaction){x("Connect your wallet to restore energy"),setTimeout(()=>x(""),3e3);return}if(!R){x("Token not configured. Please contact administrator."),setTimeout(()=>x(""),3e3);return}if(v<D){x(`Not enough ${U}. You need ${D} ${U} to restore energy.`),setTimeout(()=>x(""),3e3);return}if(e.energy>=100){C("Your pet's energy is already full!"),setTimeout(()=>C(""),3e3);return}d(!0);try{let W;try{W=await G(D),console.log(`Token transfer successful! Signature: ${W}`)}catch(re){if((T=re.message)!=null&&T.includes("already been processed"))console.warn("Transaction already processed - continuing with energy restoration"),W="local-"+Math.random().toString(36).substring(2,15);else throw re}const H=await fh(e.id),te=new Date().toISOString(),J={...e,energy:100,last_energy_restored:te};try{const re=await fh(e.id);Object.assign(e,re)}catch(re){console.error("API error restoring energy:",re),Object.assign(e,J)}rt.getState().updateCachedPet({...e,last_energy_restored:te}),s("happy"),C("Energy restored successfully!"),setTimeout(()=>{s("idle"),C("")},2e3)}catch(W){if(console.error("Error restoring energy:",W),(B=W.message)!=null&&B.includes("User rejected"))x("Transaction was rejected in your wallet");else if((I=W.message)!=null&&I.includes("insufficient funds"))x(`Insufficient ${U} balance`);else if((h=W.message)!=null&&h.includes("already been processed"))x("This transaction was already processed. Please try again.");else if((A=W.message)!=null&&A.includes("blockhash"))x("Transaction expired. Please try again.");else if(W.name==="SendTransactionError")try{const H=(($=W.logs)==null?void 0:$.join(`
`))||"No detailed logs available";console.error("Transaction error logs:",H),x("Transaction failed. Please try again in a moment.")}catch{x("Transaction failed. Please try again in a moment.")}else x("Failed to restore energy. Please try again.");setTimeout(()=>x(""),5e3)}finally{d(!1)}},P=()=>{const T=q();console.log(`Setting new last_played timestamp: ${T}`),e.happiness=Math.min(100,e.happiness+20),e.energy=Math.max(0,e.energy-5),e.last_played=T,rt.getState().updateCachedPet({...e,last_played:T}),j8(e.id).then(B=>{console.log("Successfully played with pet, server updated")}).catch(B=>{console.error("Error from play API call:",B)}),s("happy"),setTimeout(()=>s("idle"),2e3)},f=()=>{const T=`Meet my ${e.rarity} virtual pet ${e.name}! 🐕
Happiness: ${e.happiness}%
Hunger: ${e.hunger}%
Energy: ${e.energy}%
Speed: ${e.speed}%
Strength: ${e.strength}%

Come join the fun and create your own pet! 🎮`,B=window.location.href,I=`https://twitter.com/intent/tweet?text=${encodeURIComponent(T)}&url=${encodeURIComponent(B)}`;window.open(I,"_blank","width=600,height=400"),P()},y=T=>{T.preventDefault(),T.stopPropagation(),t(`/gym?id=${e.id}`)},_=_8[e.rarity],k=(e.natural_speed/100*1.5).toFixed(1),j=(e.natural_strength/100*1.5).toFixed(1);return a.jsx("div",{className:"flex items-start justify-center w-full pt-8",children:a.jsxs("div",{className:"flex items-start gap-16",children:[a.jsxs("div",{className:"w-56 space-y-8",children:[a.jsx(mn,{value:e.speed,max:100,label:"Speed",height:"5",gradient:`repeating-linear-gradient(
              45deg,
              #00ff9d,
              #00ff9d 10px,
              #00ffdd 10px,
              #00ffdd 20px
            )`}),a.jsx(mn,{value:e.strength,max:100,label:"Strength",height:"5",gradient:`repeating-linear-gradient(
              45deg,
              #ff004d,
              #ff004d 10px,
              #ff77a8 10px,
              #ff77a8 20px
            )`}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("button",{onClick:()=>t("/race"),className:"pixel-button flex items-center justify-center gap-2",children:[a.jsx(Qn,{className:"w-4 h-4"}),"Race"]}),a.jsxs("button",{onClick:()=>t("/fight"),className:"pixel-button flex items-center justify-center gap-2",children:[a.jsx(Xn,{className:"w-4 h-4"}),"Fight"]})]}),a.jsxs("button",{onClick:y,className:"pixel-button w-full flex items-center justify-center gap-2 text-sm py-3",children:[a.jsx(pc,{className:"w-5 h-5"}),"Train"]})]}),a.jsxs("div",{className:"pixel-panel w-[32rem]",children:[a.jsx(jr,{type:p?"error":N?"success":"",message:p||N}),a.jsxs("div",{className:"text-center mb-8 relative",children:[a.jsx("div",{className:"flex justify-center items-center h-48 mb-4",children:a.jsx(Ln,{pet:e,state:r})}),a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("h2",{className:"text-xl pixel-text",children:e.name}),a.jsx("span",{className:"pixel-button px-2 py-1 text-xs",style:{backgroundColor:_.color,color:"#181425",textShadow:"none"},children:e.rarity})]}),a.jsx("button",{onClick:()=>o(!i),className:"absolute top-0 right-0 p-2 pixel-button",title:"View natural stats",children:a.jsx(AE,{className:"w-4 h-4"})}),i&&a.jsxs("div",{className:"absolute top-12 right-0 pixel-panel bg-[#181425] p-4 z-10 w-64",children:[a.jsx("h3",{className:"text-sm pixel-text mb-4",children:"Natural Stats"}),a.jsxs("div",{className:"space-y-4 text-left",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs pixel-text mb-1",children:["Natural Speed: ",e.natural_speed,"%"]}),a.jsxs("p",{className:"text-xs pixel-text text-gray-400",children:["Training multiplier: ",k,"x"]})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs pixel-text mb-1",children:["Natural Strength: ",e.natural_strength,"%"]}),a.jsxs("p",{className:"text-xs pixel-text text-gray-400",children:["Training multiplier: ",j,"x"]})]}),a.jsx("div",{children:a.jsxs("p",{className:"text-xs pixel-text mb-1",children:["Daily Decay: -",_.decayRate,"%"]})})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(mn,{value:e.happiness,max:100,label:"Happiness"}),a.jsx(mn,{value:e.hunger,max:100,label:"Hunger",gradient:`repeating-linear-gradient(
                45deg,
                #ffa300,
                #ffa300 10px,
                #ffec27 10px,
                #ffec27 20px
              )`}),a.jsx(mn,{value:e.energy,max:100,label:"Energy",gradient:`repeating-linear-gradient(
                45deg,
                #00ffff,
                #00ffff 10px,
                #00ffaa 10px,
                #00ffaa 20px
              )`}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-8",children:[a.jsxs("button",{onClick:Z,disabled:l||!n.connected||v<F||e.hunger>=100,className:"pixel-button flex items-center justify-center gap-2 disabled:opacity-50",title:n.connected?v<F?`Need ${F} ${U} to feed`:e.hunger>=100?"Pet is not hungry":`Costs ${F} ${U}`:"Connect wallet to feed your pet",children:[a.jsx(NE,{className:"w-4 h-4"}),l?"Feeding...":`Feed (${F} ${U})`]}),a.jsxs("button",{onClick:P,className:"pixel-button flex items-center justify-center gap-2",children:[a.jsx(Y1,{className:"w-4 h-4"}),"Play"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("button",{onClick:ee,disabled:u||!n.connected||v<D||e.energy>=100,className:"pixel-button flex items-center justify-center gap-2 disabled:opacity-50",title:n.connected?v<D?`Need ${D} ${U} to restore energy`:e.energy>=100?"Energy already full":`Costs ${D} ${U}`:"Connect wallet to restore energy",children:[a.jsx(rx,{className:"w-4 h-4"}),u?"Restoring...":`Energy (${D} ${U})`]}),a.jsxs("button",{onClick:f,className:"pixel-button flex items-center justify-center gap-2 group",children:[a.jsx(X1,{className:"w-4 h-4 group-hover:rotate-12 transition-transform"}),"Share Pet"]})]}),n.connected&&a.jsxs("div",{className:"mt-4 text-center flex flex-col gap-1",children:[a.jsxs("p",{className:"text-xs pixel-text text-gray-400 flex items-center justify-center gap-1",children:[a.jsx(Aa,{className:"w-3 h-3"})," ",v.toFixed(2)," ",U]}),a.jsxs("p",{className:"text-xs pixel-text text-gray-400",children:[S.toFixed(4)," SOL"]})]})]})]}),a.jsx("div",{className:"w-64 space-y-8 text-[#181425] mt-8",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg pixel-text",children:"How to Play"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm pixel-text",children:"1. Care for Your Pet"}),a.jsxs("p",{className:"text-xs pixel-text text-gray-600",children:["Feed your pet (",F," ",U,") to maintain hunger and restore energy over time. Play to increase happiness and strengthen your bond."]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm pixel-text",children:"2. Train & Grow"}),a.jsx("p",{className:"text-xs pixel-text text-gray-600",children:"Visit the gym to train speed and strength. Higher natural stats mean better training results!"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm pixel-text",children:"3. Compete"}),a.jsx("p",{className:"text-xs pixel-text text-gray-600",children:"Challenge other players to races and battles. Use your trained stats to win!"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm pixel-text",children:"4. Maintain Stats"}),a.jsxs("p",{className:"text-xs pixel-text text-gray-600",children:["Restore energy (",D," ",U,") when needed. Stats decay daily based on rarity. Keep training to stay competitive!"]})]}),a.jsx("div",{className:"mt-8 pt-4 border-t-2 border-[#181425]/20",children:a.jsx("p",{className:"text-xs pixel-text text-gray-600",children:"Tip: Higher rarity bonkland have lower stat decay, making them easier to maintain!"})})]})})]})})}function T8(e,t){const{publicKey:n}=wn(),[r,s]=L.useState(0),[i,o]=L.useState(!1),[l,c]=L.useState(null);return L.useEffect(()=>{let u=!0;const d=async()=>{if(!(!n||!e)){o(!0),c(null);try{const x=new On(t,"confirmed"),N=new ue(e),C=await on(N,n);try{const S=await x.getTokenAccountBalance(C);u&&s(Number(S.value.amount)/10**S.value.decimals)}catch{u&&s(0)}}catch(x){u&&c(x)}finally{u&&o(!1)}}};d();const p=setInterval(d,15e3);return()=>{u=!1,clearInterval(p)}},[n,e,t]),{balance:r,isLoading:i,error:l}}const wg=[{value:"#F9B087",name:"Beige"},{value:"#463E3F",name:"Grey"},{value:"#e17d17",name:"Ginger"},{value:"#707c99",name:"Light Grey"},{value:"#000000",name:"Black"}];function vg(){const e=Un(),[t,n]=L.useState(""),[r,s]=L.useState(wg[0].value),[i,o]=L.useState(!1),[l,c]=L.useState(""),[u,d]=L.useState(""),p=wn(),[x,N]=L.useState(0),[C,S]=L.useState(""),E=Ie.get("apiUrl"),v=Ie.get("solanaEndpoint"),b=Ie.get("tokenMint"),g=Ie.get("backendWallet"),R=Ie.get("tokenSymbol"),z=Ie.get("collectionMint"),{balance:U}=T8(b,v),[F,D]=L.useState(0),q=.1,G=1e5,Z=25e3,ee=G+x*Z;L.useEffect(()=>{(async()=>{if(p.publicKey)try{const k=await new On(v).getBalance(p.publicKey);D(k/th);try{const j=await fetch(`${E}/fetch-nfts?wallet=${p.publicKey.toBase58()}`);if(j.ok){const T=await j.json();N(T.count||0)}}catch(j){console.error("Error fetching pet count:",j)}}catch(_){console.error("Error fetching balances:",_)}})()},[p.publicKey,v,E]);const P=async()=>{var te;if(!p.publicKey||!p.signTransaction||!b||!g)throw new Error("Missing required parameters for transaction");const y=new On(v,"confirmed"),_=new ue(g),k=new ue(b),j=await on(k,p.publicKey),T=await on(k,_),B=await y.getParsedAccountInfo(k);if(!B.value||!B.value.data)throw new Error("Could not fetch token mint information");const I=B.value.data.parsed,h=((te=I==null?void 0:I.info)==null?void 0:te.decimals)||0;console.log(`Token has ${h} decimals. Converting ${ee} tokens...`);const A=Math.floor(ee*Math.pow(10,h));console.log(`Raw token amount to transfer: ${A}`);const $=new qt;$.add(xo.transfer({fromPubkey:p.publicKey,toPubkey:_,lamports:q*th}));let W;try{W=await y.getAccountInfo(T)}catch{console.log("Error checking recipient account")}W||(console.log("Recipient token account doesn't exist, creating it..."),$.add(Gp(p.publicKey,T,_,k))),$.add(Ro(j,T,p.publicKey,A,[],Fr));const{blockhash:H}=await y.getLatestBlockhash("confirmed");return $.recentBlockhash=H,$.feePayer=p.publicKey,$},f=async()=>{var y,_,k,j;if(!t){c("Please enter a pet name"),setTimeout(()=>c(""),3e3);return}if(!p.publicKey||!p.signTransaction){c("Please connect your wallet first");return}if(!b){c("Token not configured. Please contact administrator.");return}if(F<q){const T=(q-F).toFixed(4);c(`Insufficient SOL balance. You need ${T} more SOL.`);return}if(U<ee){const T=(ee-U).toFixed(2);c(`Insufficient ${R} balance. You need ${T} more ${R}.`);return}o(!0),c("");try{const T=new Promise((re,me)=>setTimeout(()=>me(new Error("Transaction preparation timed out")),3e4)),B=P();S(`Preparing transaction (${q} SOL + ${ee} ${R})...`);const I=await Promise.race([B,T]);S("Please approve the transaction in your wallet...");const h=await p.signTransaction(I);S("Processing payment...");const A=new On(v,"confirmed"),$=await A.sendRawTransaction(h.serialize());try{await A.confirmTransaction({signature:$,blockhash:I.recentBlockhash,lastValidBlockHeight:await A.getBlockHeight()+150},"confirmed")}catch(re){throw console.error("Confirmation error:",re),new Error("Transaction confirmation timeout. It may still complete - please check your wallet.")}console.log(`Combined payment successful! Signature: ${$}`),S("Creating pet and minting NFT...");const W={name:t,color:r,accessory:"none",wallet_address:p.publicKey.toBase58()},H=await fetch(`${E}/create-pet-with-nft`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({petData:W,paymentSignature:$,userWalletAddress:p.publicKey.toString(),collectionAddress:z})});if(!H.ok){const re=await H.json();throw new Error(`Failed to create pet: ${re.error||re.details||H.statusText}`)}const te=await H.json();console.log("Pet created with NFT:",te),te.pet&&rt.getState().addCachedPet(te.pet),N(re=>re+1),D(re=>re-q),d("Pet created successfully!"),setTimeout(()=>d(""),3e3);const J=document.getElementById("pet-creator-dialog");J&&J.open&&J.close(),(y=te.pet)!=null&&y.id?e(`/bonkland?newPetId=${te.pet.id}`):e("/bonkland")}catch(T){console.error("Error creating pet:",T),(_=T.message)!=null&&_.includes("Transaction confirmation timeout")?c("Transaction took too long to confirm. It may still complete - please check your wallet."):(k=T.message)!=null&&k.includes("User rejected")?c("Transaction was rejected in your wallet."):(j=T.message)!=null&&j.includes("insufficient funds")?c("Insufficient funds for transaction. Please check your balances."):T.name==="WalletConnectionError"?c("Wallet connection issue. Please try reconnecting your wallet."):(c(`Error: ${T.message||"Unknown error"}`),console.error("Detailed error:",T))}finally{o(!1),S("")}};return a.jsxs("div",{className:"pixel-panel max-w-md w-full",children:[a.jsx("h2",{className:"text-xl pixel-text text-center mb-4",children:"Create Your Pet"}),a.jsx(jr,{type:l?"error":u?"success":"",message:l||u}),a.jsxs("div",{className:"bg-[#181425] p-3 rounded mb-6",children:[a.jsx("p",{className:"pixel-text text-center text-sm mb-2",children:"Creation Cost"}),a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsxs("span",{className:"text-xs pixel-text flex items-center gap-1",children:[a.jsx(Aa,{className:"w-3 h-3"})," ",R]}),a.jsx("span",{className:"text-xs pixel-text",children:ee})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs pixel-text",children:"SOL"}),a.jsx("span",{className:"text-xs pixel-text",children:q})]}),x>0&&a.jsxs("p",{className:"text-xs pixel-text text-gray-400 mt-2 text-center",children:["Token cost increases with each pet: +",Z," ",R," per pet"]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-xs pixel-text mb-2",children:"Name"}),a.jsx("input",{type:"text",value:t,onChange:y=>n(y.target.value),className:"w-full px-3 py-2 bg-[#181425] border-2 border-white text-white",placeholder:"Enter pet name..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-xs pixel-text mb-2",children:"Color"}),a.jsx("div",{className:"grid grid-cols-5 gap-2",children:wg.map(y=>a.jsx("button",{onClick:()=>s(y.value),className:`w-full aspect-square pixel-border transition-all ${r===y.value?"scale-110 border-[#ff77a8]":""}`,style:{backgroundColor:y.value},title:y.name},y.value))})]}),p.connected&&a.jsxs("div",{className:"mt-4 text-center flex justify-center items-center gap-4",children:[a.jsxs("p",{className:"text-xs pixel-text text-gray-400 flex items-center",children:[a.jsx(Aa,{className:"w-3 h-3 mr-1"})," ",U.toFixed(2)," ",R]}),a.jsxs("p",{className:"text-xs pixel-text text-gray-400",children:[F.toFixed(4)," SOL"]})]}),i&&C&&a.jsxs("div",{className:"flex items-center justify-center gap-2 my-2",children:[a.jsx(Yn,{className:"w-4 h-4 animate-spin text-[#ff77a8]"}),a.jsx("p",{className:"text-xs pixel-text",children:C})]}),a.jsx("button",{onClick:f,disabled:!t||i||!p.connected||F<q||U<ee,className:"pixel-button w-full mt-4 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Creating...":"Create Pet"}),a.jsx("p",{className:"text-xs pixel-text text-center text-gray-400",children:"One-click creation with a single transaction"})]})]})}const av={setVisible(e){console.error(lv("call","setVisible"))},visible:!1};Object.defineProperty(av,"visible",{get(){return console.error(lv("read","visible")),!1}});function lv(e,t){return`You have tried to  ${e} "${t}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const cv=L.createContext(av);function uv(){return L.useContext(cv)}function M8({onSelectWallet:e}){const{connect:t,connected:n,connecting:r,disconnect:s,disconnecting:i,publicKey:o,select:l,wallet:c,wallets:u}=wn();let d;r?d="connecting":n?d="connected":i?d="disconnecting":c?d="has-wallet":d="no-wallet";const p=L.useCallback(()=>{t().catch(()=>{})},[t]),x=L.useCallback(()=>{s().catch(()=>{})},[s]),N=L.useCallback(()=>{e({onSelectWallet:l,wallets:u})},[e,l,u]);return{buttonState:d,onConnect:d==="has-wallet"?p:void 0,onDisconnect:d!=="disconnecting"&&d!=="no-wallet"?x:void 0,onSelectWallet:N,publicKey:o??void 0,walletIcon:c==null?void 0:c.adapter.icon,walletName:c==null?void 0:c.adapter.name}}const dv=e=>oe.createElement("button",{className:`wallet-adapter-button ${e.className||""}`,disabled:e.disabled,style:e.style,onClick:e.onClick,tabIndex:e.tabIndex||0,type:"button"},e.startIcon&&oe.createElement("i",{className:"wallet-adapter-button-start-icon"},e.startIcon),e.children,e.endIcon&&oe.createElement("i",{className:"wallet-adapter-button-end-icon"},e.endIcon)),fv=({wallet:e,...t})=>e&&oe.createElement("img",{src:e.adapter.icon,alt:`${e.adapter.name} icon`,...t});function R8({walletIcon:e,walletName:t,...n}){return oe.createElement(dv,{...n,className:"wallet-adapter-button-trigger",startIcon:e&&t?oe.createElement(fv,{wallet:{adapter:{icon:e,name:t}}}):void 0})}function B8({children:e,labels:t,...n}){const{setVisible:r}=uv(),{buttonState:s,onConnect:i,onDisconnect:o,publicKey:l,walletIcon:c,walletName:u}=M8({onSelectWallet(){r(!0)}}),[d,p]=L.useState(!1),[x,N]=L.useState(!1),C=L.useRef(null);L.useEffect(()=>{const E=v=>{const b=C.current;!b||b.contains(v.target)||N(!1)};return document.addEventListener("mousedown",E),document.addEventListener("touchstart",E),()=>{document.removeEventListener("mousedown",E),document.removeEventListener("touchstart",E)}},[]);const S=L.useMemo(()=>{if(e)return e;if(l){const E=l.toBase58();return E.slice(0,4)+".."+E.slice(-4)}else return s==="connecting"||s==="has-wallet"?t[s]:t["no-wallet"]},[s,e,t,l]);return oe.createElement("div",{className:"wallet-adapter-dropdown"},oe.createElement(R8,{...n,"aria-expanded":x,style:{pointerEvents:x?"none":"auto",...n.style},onClick:()=>{switch(s){case"no-wallet":r(!0);break;case"has-wallet":i&&i();break;case"connected":N(!0);break}},walletIcon:c,walletName:u},S),oe.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${x&&"wallet-adapter-dropdown-list-active"}`,ref:C,role:"menu"},l?oe.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(l.toBase58()),p(!0),setTimeout(()=>p(!1),400)},role:"menuitem"},d?t.copied:t["copy-address"]):null,oe.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{r(!0),N(!1)},role:"menuitem"},t["change-wallet"]),o?oe.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{o(),N(!1)},role:"menuitem"},t.disconnect):null))}const bg=({id:e,children:t,expanded:n=!1})=>{const r=L.useRef(null),s=L.useRef(!0),i="height 250ms ease-out",o=()=>{const c=r.current;c&&requestAnimationFrame(()=>{c.style.height=c.scrollHeight+"px"})},l=()=>{const c=r.current;c&&requestAnimationFrame(()=>{c.style.height=c.offsetHeight+"px",c.style.overflow="hidden",requestAnimationFrame(()=>{c.style.height="0"})})};return L.useLayoutEffect(()=>{n?o():l()},[n]),L.useLayoutEffect(()=>{const c=r.current;if(!c)return;function u(){c&&(c.style.overflow=n?"initial":"hidden",n&&(c.style.height="auto"))}function d(p){c&&p.target===c&&p.propertyName==="height"&&u()}return s.current&&(u(),s.current=!1),c.addEventListener("transitionend",d),()=>c.removeEventListener("transitionend",d)},[n]),oe.createElement("div",{className:"wallet-adapter-collapse",id:e,ref:r,role:"region",style:{height:0,transition:s.current?void 0:i}},t)},qd=({handleClick:e,tabIndex:t,wallet:n})=>oe.createElement("li",null,oe.createElement(dv,{onClick:e,startIcon:oe.createElement(fv,{wallet:n}),tabIndex:t},n.adapter.name,n.readyState===Ue.Installed&&oe.createElement("span",null,"Detected"))),P8=()=>oe.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},oe.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),oe.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),oe.createElement("g",{clipPath:"url(#clip0_880_5115)"},oe.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),oe.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),oe.createElement("defs",null,oe.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},oe.createElement("stop",{stopColor:"#9945FF"}),oe.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),oe.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),oe.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),oe.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),oe.createElement("stop",{offset:"1",stopColor:"#00D18C"})),oe.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},oe.createElement("stop",{stopColor:"#9945FF"}),oe.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),oe.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),oe.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),oe.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),oe.createElement("stop",{offset:"1",stopColor:"#00D18C"})),oe.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},oe.createElement("stop",{stopColor:"#9945FF"}),oe.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),oe.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),oe.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),oe.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),oe.createElement("stop",{offset:"1",stopColor:"#00D18C"})),oe.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},oe.createElement("stop",{stopColor:"#9945FF"}),oe.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),oe.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),oe.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),oe.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),oe.createElement("stop",{offset:"1",stopColor:"#00D18C"})),oe.createElement("clipPath",{id:"clip0_880_5115"},oe.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),L8=({className:e="",container:t="body"})=>{const n=L.useRef(null),{wallets:r,select:s}=wn(),{setVisible:i}=uv(),[o,l]=L.useState(!1),[c,u]=L.useState(!1),[d,p]=L.useState(null),[x,N]=L.useMemo(()=>{const g=[],R=[];for(const z of r)z.readyState===Ue.Installed?g.push(z):R.push(z);return g.length?[g,R]:[R,[]]},[r]),C=L.useCallback(()=>{u(!1),setTimeout(()=>i(!1),150)},[i]),S=L.useCallback(g=>{g.preventDefault(),C()},[C]),E=L.useCallback((g,R)=>{s(R),S(g)},[s,S]),v=L.useCallback(()=>l(!o),[o]),b=L.useCallback(g=>{const R=n.current;if(!R)return;const z=R.querySelectorAll("button"),U=z[0],F=z[z.length-1];g.shiftKey?document.activeElement===U&&(F.focus(),g.preventDefault()):document.activeElement===F&&(U.focus(),g.preventDefault())},[n]);return L.useLayoutEffect(()=>{const g=z=>{z.key==="Escape"?C():z.key==="Tab"&&b(z)},{overflow:R}=window.getComputedStyle(document.body);return setTimeout(()=>u(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",g,!1),()=>{document.body.style.overflow=R,window.removeEventListener("keydown",g,!1)}},[C,b]),L.useLayoutEffect(()=>p(document.querySelector(t)),[t]),d&&L1.createPortal(oe.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${c&&"wallet-adapter-modal-fade-in"} ${e}`,ref:n,role:"dialog"},oe.createElement("div",{className:"wallet-adapter-modal-container"},oe.createElement("div",{className:"wallet-adapter-modal-wrapper"},oe.createElement("button",{onClick:S,className:"wallet-adapter-modal-button-close"},oe.createElement("svg",{width:"14",height:"14"},oe.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),x.length?oe.createElement(oe.Fragment,null,oe.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),oe.createElement("ul",{className:"wallet-adapter-modal-list"},x.map(g=>oe.createElement(qd,{key:g.adapter.name,handleClick:R=>E(R,g.adapter.name),wallet:g})),N.length?oe.createElement(bg,{expanded:o,id:"wallet-adapter-modal-collapse"},N.map(g=>oe.createElement(qd,{key:g.adapter.name,handleClick:R=>E(R,g.adapter.name),tabIndex:o?0:-1,wallet:g}))):null),N.length?oe.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:v,tabIndex:0},oe.createElement("span",null,o?"Less ":"More ","options"),oe.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},oe.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):oe.createElement(oe.Fragment,null,oe.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),oe.createElement("div",{className:"wallet-adapter-modal-middle"},oe.createElement(P8,null)),N.length?oe.createElement(oe.Fragment,null,oe.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:v,tabIndex:0},oe.createElement("span",null,o?"Hide ":"Already have a wallet? View ","options"),oe.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},oe.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),oe.createElement(bg,{expanded:o,id:"wallet-adapter-modal-collapse"},oe.createElement("ul",{className:"wallet-adapter-modal-list"},N.map(g=>oe.createElement(qd,{key:g.adapter.name,handleClick:R=>E(R,g.adapter.name),tabIndex:o?0:-1,wallet:g}))))):null))),oe.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:S})),d)},O8=({children:e,...t})=>{const[n,r]=L.useState(!1);return oe.createElement(cv.Provider,{value:{visible:n,setVisible:r}},e,n&&oe.createElement(L8,{...t}))},U8={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function z8(e){return oe.createElement(B8,{...e,labels:U8})}function Qr(){return a.jsx("div",{className:"absolute top-2 right-4",children:a.jsx(z8,{})})}Ie.get("solanaEndpoint");const F8=Ie.get("apiUrl");Ie.get("backendWallet");async function D8(e,t){try{console.log(`Fetching NFTs for wallet: ${e}`);const n=`${F8}/fetch-nfts?wallet=${e}${t?`&collection=${t}`:""}`;console.log(`Sending request to: ${n}`);const r=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"});if(!r.ok)throw console.error("Failed to fetch NFTs:",r.status,r.statusText),new Error(`Failed to fetch NFTs: ${r.status} ${r.statusText}`);const s=await r.json();return console.log(`Found ${s.length} NFTs:`,s),s}catch(n){return console.error("Error fetching NFTs:",n),[]}}var $8={};function Sg(e){if(!e)return new Date;try{if(!e.endsWith("Z")){const n=e.replace(/\.\d+$/,"")+"Z";return new Date(n)}return new Date(e)}catch(t){return console.error("Error parsing timestamp:",e,t),new Date}}function W8(e){if(!e)return e;const t={...e};console.log("Debug raw timestamps:",{last_fed:e.last_fed,last_played:e.last_played,current_time:new Date().toISOString()});try{const n=new Date,r=n.toISOString(),s=Sg(e.last_fed),i=Sg(e.last_played);if(isNaN(s.getTime())||isNaN(i.getTime()))return console.error("Invalid date format detected:",{last_fed:e.last_fed,last_played:e.last_played}),e;console.log("Parsed timestamps with timezone handling:",{lastFedDate:s.toISOString(),lastPlayedDate:i.toISOString(),nowDate:n.toISOString(),millisSinceLastFed:n.getTime()-s.getTime(),millisSinceLastPlayed:n.getTime()-i.getTime()});const o=Math.max(0,(n.getTime()-s.getTime())/(60*1e3)),l=Math.max(0,(n.getTime()-i.getTime())/(60*1e3));if(console.log("Time passed calculation:",{minutesSinceLastFed:o.toFixed(1),minutesSinceLastPlayed:l.toFixed(1)}),o<=20&&l<=20)return console.log("Less than 20 minutes since last interaction, no decay needed"),e;const c={Common:3,Uncommon:2,Rare:1.5,Legendary:1},u=c[e.rarity]||c.Common;let d=!1;if(o>20){const p=o/60,x=Math.min(50,Math.floor(p*u));x>0&&(console.log(`Applying hunger decay of ${x}% based on ${p.toFixed(2)} hours (${o.toFixed(1)} minutes) offline`),t.hunger=Math.max(0,e.hunger-x),t.last_fed=r,d=!0)}if(l>20){const p=l/60,x=Math.min(50,Math.floor(p*u));x>0&&(console.log(`Applying happiness decay of ${x}% based on ${p.toFixed(2)} hours (${l.toFixed(1)} minutes) offline`),t.happiness=Math.max(0,e.happiness-x),t.last_played=r,d=!0)}return console.log("Pet state after decay calculation:",{hunger:`${e.hunger} → ${t.hunger}`,happiness:`${e.happiness} → ${t.happiness}`,last_fed:`${e.last_fed} → ${t.last_fed}`,last_played:`${e.last_played} → ${t.last_played}`,timestamps_updated:d}),d&&K8(t.id,t),t}catch(n){return console.error("Error calculating pet decay:",n),e}}async function K8(e,t){try{const n=$8.REACT_APP_API_URL||"http://localhost:5000";console.log(`Syncing pet ${e} stats to server with updated timestamps`);const r=await fetch(`${n}/bonkland/${e}/sync-stats`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hunger:t.hunger,happiness:t.happiness,last_fed:t.last_fed,last_played:t.last_played})});if(!r.ok)throw new Error(`Failed to sync pet stats: ${r.status} ${r.statusText}`);return console.log("Pet stats and timestamps successfully synced with server"),await r.json()}catch(n){return console.error("Error syncing pet stats to server:",n),null}}function H8(){const e=us(),{publicKey:t,connected:n}=wn(),[r,s]=L.useState(!1),[i,o]=L.useState(""),l=rt(g=>g.currentPetIndex),c=rt(g=>g.cachedpupism),u=rt(g=>g.lastFetchTime),d=rt(g=>g.setCachedpupism),p=rt(g=>g.nextPet),x=rt(g=>g.previousPet),N=Ie.get("apiUrl"),C=Ie.get("collectionMint"),S=L.useMemo(()=>!u||Date.now()-u>3e5,[u]);L.useEffect(()=>{const R=new URLSearchParams(e.search).get("newPetId");if(R&&c.length>0){const z=c.findIndex(U=>U.id===R);z!==-1&&rt.setState({currentPetIndex:z}),window.history.replaceState({},document.title,window.location.pathname)}},[e,c]),L.useEffect(()=>{async function g(){if(t){if(c.length>0&&!S){console.log("Using cached bonkland:",c.length);return}s(!0),o("");try{console.log(`Fetching NFTs for wallet: ${t.toBase58()}`);const R=await D8(t.toBase58(),C);if(console.log(`Found ${R.length} NFTs:`,R),R.length===0){console.log("No pet NFTs found for this wallet"),d([]),s(!1);return}const z=R.map(F=>{var q,G;const D=(G=(q=F.metadata)==null?void 0:q.attributes)==null?void 0:G.find(Z=>Z.trait_type==="PetID");return D?D.value:null}).filter(Boolean);if(console.log(`Extracted ${z.length} pet IDs:`,z),z.length===0){console.log("No valid pet IDs found in NFT metadata"),d([]),s(!1);return}const U=[];for(const F of z)try{const D=`${N}/bonkland/${F}`;console.log(`Fetching pet data from: ${D}`);const q=await fetch(D);if(!q.ok){console.error(`Failed to fetch pet ${F}: ${q.status} ${q.statusText}`);continue}const G=await q.json();console.log(`Successfully fetched pet ${F}:`,G);let Z=G;try{G.last_fed&&G.last_played?(Z=W8(G),(G.happiness>50&&Z.happiness<10||G.hunger>50&&Z.hunger<10)&&(console.error(`Detected major unexpected drop in pet ${F} stats, ignoring calculated decay`),Z=G)):console.warn(`Pet ${F} is missing timestamp fields, skipping decay calculation`)}catch(ee){console.error(`Error calculating decay for pet ${F}:`,ee),Z=G}if(U.push(Z),Z.hunger!==G.hunger||Z.happiness!==G.happiness)if(Math.abs(Z.hunger-G.hunger)<=50&&Math.abs(Z.happiness-G.happiness)<=50)try{console.log(`Syncing decay for pet ${F}:`,{hunger:`${G.hunger} -> ${Z.hunger}`,happiness:`${G.happiness} -> ${Z.happiness}`}),(await fetch(`${N}/bonkland/${F}/sync-stats`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hunger:Z.hunger,happiness:Z.happiness})})).ok||console.error(`Failed to sync decay for pet ${F}`)}catch(P){console.error(`Error syncing pet ${F} decay:`,P)}else console.error(`Skipping sync for pet ${F} due to extreme changes`,{hunger:`${G.hunger} -> ${Z.hunger}`,happiness:`${G.happiness} -> ${Z.happiness}`})}catch(D){console.error(`Error fetching pet ${F}:`,D)}console.log(`Successfully fetched ${U.length} of ${z.length} bonkland with decay applied`),U.length===0&&z.length>0?o("Could not fetch pet details from server. Please try again later."):d(U)}catch(R){console.error("Error loading bonkland by NFTs:",R),o(`Failed to load bonkland: ${R.message}`)}finally{s(!1)}}}n&&t?g():d([])},[t,n,S,N,C,d]);const E=c[l]||null,v=c.length>1,b=!r&&(!n||n&&c.length===0);return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-100 to-purple-100 p-4",children:[a.jsx(Qr,{}),a.jsxs("div",{className:"max-w-4xl mx-auto mt-4",children:[n&&a.jsxs("div",{className:"flex justify-between items-center mb-8 px-4",children:[a.jsx("h1",{className:"text-xl pixel-text text-gray-800",children:r?"Loading bonkland...":i?"Error Loading bonkland":c.length>0?"My Pixel bonkland":"Create Your First Pet"}),c.length>0&&a.jsxs("button",{onClick:()=>{var g;return(g=document.getElementById("pet-creator-dialog"))==null?void 0:g.showModal()},className:"pixel-button flex items-center gap-2 bg-[#ff77a8] hover:bg-[#ff004d] text-white",children:[a.jsx(Q1,{className:"w-4 h-4"}),"New Pet"]})]}),a.jsxs("div",{className:"relative flex items-center justify-center",children:[r&&a.jsxs("div",{className:"flex flex-col items-center justify-center p-8",children:[a.jsx(Yn,{className:"w-12 h-12 animate-spin text-[#ff77a8] mb-4"}),a.jsx("p",{className:"pixel-text text-gray-700",children:"Fetching your bonkland..."})]}),!r&&i&&a.jsxs("div",{className:"pixel-panel p-6 max-w-md",children:[a.jsxs("div",{className:"flex items-center justify-center mb-4",children:[a.jsx(Va,{className:"w-8 h-8 text-red-500 mr-2"}),a.jsx("h2",{className:"text-xl pixel-text text-center text-red-500",children:"Something went wrong"})]}),a.jsx("p",{className:"pixel-text text-center mb-6",children:i}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>window.location.reload(),className:"pixel-button w-full",children:"Try Again"}),a.jsx("button",{onClick:()=>{var g;o(""),(g=document.getElementById("pet-creator-dialog"))==null||g.showModal()},className:"pixel-button w-full bg-[#ff77a8] hover:bg-[#ff004d] text-white",children:"Create New Pet"})]})]}),v&&a.jsx("button",{onClick:x,style:{transform:"none"},className:`absolute left-0 -left-48 top-1/2 -translate-y-1/2 z-10 
            pixel-button p-4 bg-white/80 h-32 w-16 flex items-center justify-center`,"aria-label":"Previous pet",children:a.jsx(bE,{className:"w-12 h-12 text-gray-700"})}),!r&&!i&&a.jsx("div",{className:"flex-1 flex justify-center",children:E?a.jsx(I8,{pet:E}):b&&a.jsx(vg,{})}),v&&a.jsx("button",{onClick:p,style:{transform:"none"},className:`absolute right-0 -right-48 top-1/2 -translate-y-1/2 z-10 
              pixel-button p-4 bg-white/80 h-32 w-16 flex items-center justify-center`,"aria-label":"Next pet",children:a.jsx(SE,{className:"w-12 h-12 text-gray-700"})})]}),v&&a.jsx("div",{className:"flex justify-center gap-2 mt-4",children:c.map((g,R)=>a.jsx("button",{onClick:()=>rt.setState({currentPetIndex:R}),className:`w-2 h-2 rounded-full transition-all ${R===l?"bg-[#ff77a8] w-4":"bg-gray-300 hover:bg-gray-400"}`,"aria-label":`Go to pet ${R+1}`},R))})]}),a.jsx("dialog",{id:"pet-creator-dialog",className:"modal bg-transparent",children:a.jsxs("div",{className:"pixel-panel",children:[a.jsx(vg,{}),a.jsx("button",{onClick:()=>{var g;return(g=document.getElementById("pet-creator-dialog"))==null?void 0:g.close()},className:"pixel-button mt-4 w-full",children:"Cancel"})]})})]})}function V8(){const e=Un(),t=us(),n=wn(),[r,s]=L.useState(null),[i,o]=L.useState(null),[l,c]=L.useState(!1),[u,d]=L.useState(!1),[p,x]=L.useState(null),[N,C]=L.useState(0),[S,E]=L.useState(""),[v,b]=L.useState(""),[g,R]=L.useState(0),[z,U]=L.useState(0),F=Ie.get("apiUrl"),D=Ie.get("solanaEndpoint"),q=Ie.get("tokenMint"),G=Ie.get("tokenSymbol"),Z=5e3;L.useEffect(()=>{(async()=>{try{const T=new URLSearchParams(t.search).get("id");if(!T){e("/bonkland");return}const I=rt.getState().cachedpupism.find($=>$.id===T);if(I){console.log("Using cached pet:",I),s(I);return}console.log("Pet not found in cache, fetching from API");const h=await fetch(`${F}/bonkland/${T}`);if(!h.ok)throw new Error(`Failed to fetch pet: ${h.status}`);const A=await h.json();s(A),rt.getState().addCachedPet(A)}catch(j){console.error("Error fetching pet:",j),E("Failed to load pet data. Please try again.")}})()},[e,F,t.search]),L.useEffect(()=>{const k=async()=>{if(!(!n.publicKey||!q))try{const T=new On(D),B=new ue(q),I=await on(B,n.publicKey);try{const h=await T.getTokenAccountBalance(I);U(Number(h.value.amount)/10**h.value.decimals)}catch{U(0)}}catch(T){console.error("Error fetching token balance:",T),U(0)}};k();const j=setInterval(k,15e3);return()=>clearInterval(j)},[n.publicKey,q,D]),L.useEffect(()=>{if(l&&p&&r){const j=(Math.floor(Math.random()*5)+1)/10,T=setInterval(async()=>{if(Date.now()-p>=1e4||r.energy<10){if(c(!1),o(null),x(null),C(0),r.id&&i)try{const I=await C8(r.id,i,N);s(I),rt.getState().updateCachedPet(I),b(`${i.charAt(0).toUpperCase()+i.slice(1)} increased by ${N.toFixed(1)}%!`),setTimeout(()=>b(""),3e3)}catch(I){console.error("Training error:",I),E("Failed to update training progress"),setTimeout(()=>E(""),3e3)}clearInterval(T)}else r.energy>=10&&(s(I=>{const h={...I};return i==="speed"?h.speed=Math.min(100,h.speed+j):i==="strength"&&(h.strength=Math.min(100,h.strength+j)),h.energy=Math.max(0,h.energy-3),h}),C(I=>I+j))},1e3);return()=>{clearInterval(T)}}},[l,p,i,N,r]);const ee=k=>{if(!r||r.energy<10){E("Not enough energy to train!"),setTimeout(()=>E(""),3e3);return}o(k),c(!0),x(Date.now()),C(0),b(`${k.charAt(0).toUpperCase()+k.slice(1)} training started!`),setTimeout(()=>b(""),2e3)},P=async k=>{var ie;if(!n.publicKey||!n.signTransaction||!q)throw new Error("Missing required parameters for token transfer");const j=new On(D,"confirmed"),T=new ue(q),B=Ie.get("backendWallet");if(!B)throw new Error("Backend wallet address not configured");const I=new ue(B),h=await on(T,n.publicKey),A=await on(T,I),$=await j.getParsedAccountInfo(T);if(!$.value||!$.value.data)throw new Error("Could not fetch token mint information");const W=$.value.data.parsed,H=((ie=W==null?void 0:W.info)==null?void 0:ie.decimals)||0;console.log(`Token has ${H} decimals. Converting ${k} tokens...`);const te=k*Math.pow(10,H);console.log(`Raw amount to transfer: ${te}`);let J=new qt,re;try{re=await j.getAccountInfo(A)}catch{console.log("Error checking recipient account, will attempt to create if needed")}re||(console.log("Recipient token account doesn't exist, creating it..."),J.add(Gp(n.publicKey,A,I,T)));const me=Ro(h,A,n.publicKey,Math.floor(te),[],Fr);J.add(me);const{blockhash:fe,lastValidBlockHeight:ye}=await j.getLatestBlockhash("confirmed");J.recentBlockhash=fe,J.feePayer=n.publicKey;const Oe=await n.signTransaction(J),ne=await j.sendRawTransaction(Oe.serialize());return await j.confirmTransaction({signature:ne,blockhash:fe,lastValidBlockHeight:ye},"confirmed"),ne},f=async()=>{var k,j,T,B,I,h;if(E(""),b(""),!n.publicKey||!n.signTransaction){E("Connect your wallet to restore energy"),setTimeout(()=>E(""),3e3);return}if(!q){E("Token not configured. Please contact administrator."),setTimeout(()=>E(""),3e3);return}if(z<Z){E(`Not enough ${G}. You need ${Z} ${G} to restore energy.`),setTimeout(()=>E(""),3e3);return}if(r.energy>=100){b("Your pet's energy is already full!"),setTimeout(()=>b(""),3e3);return}d(!0);try{let A;try{A=await P(Z),console.log(`Token transfer successful! Signature: ${A}`)}catch(H){if((k=H.message)!=null&&k.includes("already been processed"))console.warn("Transaction already processed - continuing with energy restoration"),A="local-"+Math.random().toString(36).substring(2,15);else throw H}const $=new Date().toISOString(),W={...r,energy:100,last_energy_restored:$};try{const H=await fh(r.id);s({...H,last_energy_restored:$})}catch(H){console.error("API error restoring energy:",H),s(W)}rt.getState().updateCachedPet({...r,energy:100,last_energy_restored:$}),U(H=>H-Z),b("Energy restored successfully!"),setTimeout(()=>b(""),3e3)}catch(A){if(console.error("Error restoring energy:",A),(j=A.message)!=null&&j.includes("User rejected"))E("Transaction was rejected in your wallet");else if((T=A.message)!=null&&T.includes("insufficient funds"))E(`Insufficient ${G} balance`);else if((B=A.message)!=null&&B.includes("already been processed"))E("This transaction was already processed. Please try again.");else if((I=A.message)!=null&&I.includes("blockhash"))E("Transaction expired. Please try again.");else if(A.name==="SendTransactionError")try{const $=((h=A.logs)==null?void 0:h.join(`
`))||"No detailed logs available";console.error("Transaction error logs:",$),E("Transaction failed. Please try again in a moment.")}catch{E("Transaction failed. Please try again in a moment.")}else E("Failed to restore energy. Please try again.");setTimeout(()=>E(""),5e3)}finally{d(!1)}},y=()=>p?Math.min((Date.now()-p)/1e4*100,100):0,_=()=>p?Math.max(10-Math.floor((Date.now()-p)/1e3),0):10;return r?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#181425] to-[#2a233c] p-8",children:[a.jsxs("button",{onClick:()=>e("/bonkland"),className:"pixel-button mb-8 flex items-center gap-2",children:[a.jsx(yi,{className:"w-4 h-4"}),"Back to bonkland"]}),a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("h1",{className:"text-2xl pixel-text text-center mb-4",children:[r.name,"'s Training"]}),a.jsx("p",{className:"text-center pixel-text mb-8",children:"Train your pet to increase its stats!"}),a.jsx("div",{className:"pixel-panel mb-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsx("div",{className:"space-y-2 flex-1",children:a.jsx(mn,{value:r.energy,max:100,label:"Energy",gradient:`repeating-linear-gradient(
                  45deg,
                  #00ffff,
                  #00ffff 10px,
                  #00ffaa 10px,
                  #00ffaa 20px
                )`})}),a.jsx("button",{onClick:f,disabled:u||!n.connected||g<.01||r.energy>=100,className:"pixel-button flex items-center justify-center gap-2 disabled:opacity-50 min-w-[200px]",title:n.connected?g<.01?"Not enough SOL":r.energy>=100?"Energy already full":"Restore energy":"Connect wallet to restore energy",children:u?a.jsx(a.Fragment,{children:"Restoring..."}):a.jsxs(a.Fragment,{children:[a.jsx(rx,{className:"w-4 h-4"}),"Restore Energy"]})})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"pixel-panel relative",children:[a.jsx("h2",{className:"text-xl pixel-text mb-4",children:"Speed Training"}),a.jsxs("div",{className:"aspect-video bg-[#181425] rounded-lg mb-4 relative overflow-hidden",children:[a.jsx("img",{src:"/catset_gifs/gym/treadmill.gif",alt:"Treadmill",className:`absolute inset-0 w-full h-full object-contain ${i==="speed"?"opacity-100":"opacity-50"}`,style:{imageRendering:"pixelated"}}),i==="speed"&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center -mt-12",children:a.jsx("div",{className:"relative",style:{transform:"scale(0.75)"},children:a.jsx(Ln,{pet:r,state:"happy",disableInteraction:!0,forcedAnimation:"run"})})})]}),a.jsx("div",{className:"space-y-2 mb-4",children:a.jsx(mn,{value:r.speed,max:100,label:"Current Speed",gradient:`repeating-linear-gradient(
                  45deg,
                  #00ff9d,
                  #00ff9d 10px,
                  #00ffdd 10px,
                  #00ffdd 20px
                )`})}),a.jsx("button",{onClick:()=>ee("speed"),disabled:l||r.energy<10,className:"pixel-button w-full disabled:opacity-50",title:r.energy<10?"Not enough energy":"",children:l&&i==="speed"?"Training...":"Start Speed Training"})]}),a.jsxs("div",{className:"pixel-panel relative",children:[a.jsx("h2",{className:"text-xl pixel-text mb-4",children:"Strength Training"}),a.jsxs("div",{className:"aspect-video bg-[#181425] rounded-lg mb-4 relative overflow-hidden",children:[a.jsx("img",{src:"/catset_gifs/gym/boxing_bag.png",alt:"Boxing Bag",className:`absolute right-0 inset-y-0 h-full object-contain ${i==="strength"?"opacity-100":"opacity-50"}`,style:{imageRendering:"pixelated"}}),i==="strength"&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"relative -mr-12",style:{transform:"scale(0.75)"},children:a.jsx(Ln,{pet:r,state:"happy",disableInteraction:!0,forcedAnimation:"attack"})})})]}),a.jsx("div",{className:"space-y-2 mb-4",children:a.jsx(mn,{value:r.strength,max:100,label:"Current Strength",gradient:`repeating-linear-gradient(
                  45deg,
                  #ff004d,
                  #ff004d 10px,
                  #ff77a8 10px,
                  #ff77a8 20px
                )`})}),a.jsx("button",{onClick:()=>ee("strength"),disabled:l||r.energy<10,className:"pixel-button w-full disabled:opacity-50",title:r.energy<10?"Not enough energy":"",children:l&&i==="strength"?"Training...":"Start Strength Training"})]})]}),l&&a.jsxs("div",{className:"mt-8 text-center pb-8 ",children:[a.jsxs("p",{className:"text-sm pixel-text mb-2",children:["Training in progress... ",_(),"s remaining"]}),a.jsx("div",{className:"w-full h-2 bg-[#181425] rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-[#ff77a8] transition-all duration-100",style:{width:`${y()}%`}})})]}),a.jsx(jr,{type:S?"error":v?"success":"",message:S||v})]})]}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#181425] to-[#2a233c] p-8 flex items-center justify-center",children:a.jsxs("div",{className:"pixel-panel p-6 max-w-md text-center",children:[a.jsx("h2",{className:"text-xl pixel-text text-center mb-4",children:"Loading Pet..."}),S&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(Va,{className:"w-8 h-8 text-red-500"})}),a.jsx("p",{className:"pixel-text mb-6",children:S}),a.jsx("button",{onClick:()=>e("/bonkland"),className:"pixel-button w-full",children:"Back to bonkland"})]})]})})}function hv({challengeType:e,onClose:t}){var q;Un();const n=wn(),{cachedpupism:r,currentPetIndex:s}=rt(G=>({cachedpupism:G.cachedpupism,currentPetIndex:G.currentPetIndex})),[i,o]=L.useState(""),[l,c]=L.useState(0),[u,d]=L.useState(!1),[p,x]=L.useState(""),[N,C]=L.useState(""),[S,E]=L.useState(0),v=Ie.get("apiUrl"),b=Ie.get("solanaEndpoint"),g=Ie.get("tokenMint"),R=Ie.get("tokenSymbol"),z=Ie.get("backendWallet"),U=r[s]||null;L.useEffect(()=>{(async()=>{if(!(!n.publicKey||!g))try{const Z=new On(b),ee=new ue(g),P=await on(ee,n.publicKey);try{const f=await Z.getTokenAccountBalance(P);E(Number(f.value.amount)/10**f.value.decimals)}catch{E(0)}}catch(Z){console.error("Error fetching token balance:",Z)}})()},[n.publicKey,g,b]);const F=async G=>{var W;if(!n.publicKey||!n.signTransaction||!g||!z)throw new Error("Missing required parameters for token transfer");const Z=new On(b,"confirmed"),ee=new ue(g),P=new ue(z),f=await on(ee,n.publicKey),y=await on(ee,P),_=await Z.getParsedAccountInfo(ee);if(!_.value||!_.value.data)throw new Error("Could not fetch token mint information");const k=_.value.data.parsed,j=((W=k==null?void 0:k.info)==null?void 0:W.decimals)||0,T=Math.floor(G*Math.pow(10,j)),B=new qt,I=Ro(f,y,n.publicKey,T,[],Fr);B.add(I);const{blockhash:h}=await Z.getLatestBlockhash("confirmed");B.recentBlockhash=h,B.feePayer=n.publicKey;const A=await n.signTransaction(B),$=await Z.sendRawTransaction(A.serialize());return{transaction:B,signature:$}},D=async()=>{var G;if(x(""),C(""),!i){x("Please enter opponent's wallet address");return}try{new ue(i)}catch{x("Invalid wallet address format");return}if(!U){x("No pet selected for the challenge");return}if(l<0){x("Bet amount cannot be negative");return}if(l>S){x(`Insufficient ${R} for this bet`);return}d(!0);try{let Z=null;if(l>0)try{const{signature:f}=await F(l);Z=f,console.log(`Token transfer successful! Signature: ${Z}`)}catch(f){throw console.error("Error transferring tokens:",f),new Error(`Failed to process bet payment: ${f.message}`)}const ee=await fetch(`${v}/challenges`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({challenger_wallet:(G=n.publicKey)==null?void 0:G.toString(),challenger_pet_id:U.id,opponent_wallet:i,challenge_type:e,bet_amount:l,bet_signature:Z})});if(!ee.ok){const f=await ee.json();throw new Error(f.error||f.details||ee.statusText)}const P=await ee.json();C("Challenge created successfully!"),setTimeout(()=>{C(""),t()},2e3)}catch(Z){console.error("Error creating challenge:",Z),x(Z.message||"Failed to create challenge")}finally{d(!1)}};return a.jsxs("div",{className:"pixel-panel max-w-md w-full",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:"text-xl pixel-text",children:["Create ",e==="race"?"Race":"Fight"," Challenge"]}),a.jsx("button",{onClick:t,className:"p-2",children:a.jsx(Ia,{className:"w-5 h-5"})})]}),a.jsx(jr,{type:p?"error":N?"success":"",message:p||N}),U&&a.jsxs("div",{className:"bg-[#181425] p-3 rounded mb-4",children:[a.jsx("p",{className:"pixel-text text-center text-sm mb-2",children:"Your Pet"}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs pixel-text",children:U.name}),a.jsx("span",{className:"text-xs pixel-text",children:e==="race"?`Speed: ${U.speed}%`:`Strength: ${U.strength}%`})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-xs pixel-text mb-2",children:"Opponent's Wallet Address"}),a.jsx("input",{type:"text",value:i,onChange:G=>o(G.target.value),className:"w-full px-3 py-2 bg-[#181425] border-2 border-white text-white",placeholder:"Enter opponent's wallet address..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"block text-xs pixel-text mb-2",children:["Bet Amount (",R,")"]}),a.jsx("input",{type:"number",value:l,onChange:G=>c(parseInt(G.target.value,10)||0),min:"0",className:"w-full px-3 py-2 bg-[#181425] border-2 border-white text-white",placeholder:"Enter bet amount (optional)..."}),a.jsxs("p",{className:"text-xs pixel-text text-gray-400",children:["Balance: ",S," ",R]})]}),a.jsxs("div",{className:"bg-[#181425] p-3 rounded",children:[a.jsx("p",{className:"pixel-text text-center text-sm mb-2",children:"Challenge Details"}),a.jsxs("div",{className:"text-xs pixel-text space-y-1",children:[a.jsxs("p",{children:["Type: ",e==="race"?"Speed Race":"Battle Fight"]}),a.jsxs("p",{children:["Challenger: ",(q=n.publicKey)==null?void 0:q.toString().substring(0,8),"..."]}),a.jsxs("p",{children:["Bet: ",l," ",R]})]})]}),a.jsx("button",{onClick:D,disabled:u||!n.connected||!U,className:"pixel-button w-full disabled:opacity-50",children:u?a.jsxs("span",{className:"flex items-center justify-center",children:[a.jsx(Yn,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):a.jsxs("span",{className:"flex items-center justify-center",children:[e==="race"?a.jsx(Qn,{className:"w-4 h-4 mr-2"}):a.jsx(Xn,{className:"w-4 h-4 mr-2"}),"Create Challenge"]})})]})]})}function q8({challengeId:e}){const t=Un(),n=wn(),[r,s]=L.useState(null),[i,o]=L.useState(null),[l,c]=L.useState(null),[u,d]=L.useState(!0),[p,x]=L.useState(""),[N,C]=L.useState(""),[S,E]=L.useState(!1),[v,b]=L.useState(3),[g,R]=L.useState(0),[z,U]=L.useState(!1),[F,D]=L.useState(0),[q,G]=L.useState(0),[Z,ee]=L.useState(!1),[P,f]=L.useState(null),[y,_]=L.useState(!1),k=Ie.get("apiUrl"),j=Ie.get("tokenSymbol");L.useEffect(()=>{(async()=>{try{console.log(`Fetching challenge data for ID: ${e}`),d(!0);const J=await fetch(`${k}/challenges/${e}`);if(!J.ok)throw J.status===404?new Error("Challenge not found. It may have been cancelled or expired."):new Error(`Server error: ${J.status} ${J.statusText}`);const re=await J.json();if(s(re.challenge),re.challenge.status==="completed"&&re.challenge.result_data&&(U(!0),f(re.challenge.result_data),D(100),G(100)),re.challenge.challenger_pet_id){const me=await fetch(`${k}/bonkland/${re.challenge.challenger_pet_id}`);if(me.ok){const fe=await me.json();o(fe)}else console.warn(`Could not load challenger pet: ${me.status}`)}if(re.challenge.opponent_pet_id){const me=await fetch(`${k}/bonkland/${re.challenge.opponent_pet_id}`);if(me.ok){const fe=await me.json();c(fe)}else console.warn(`Could not load opponent pet: ${me.status}`)}d(!1)}catch(J){console.error("Error fetching challenge data:",J),x(J.message||"Failed to load challenge data"),d(!1),setTimeout(()=>{t("/race")},5e3)}})()},[e,k,t]),L.useEffect(()=>{if(!e||S||z||u)return;console.log("Setting up race status polling...");const te=setInterval(async()=>{try{const J=await fetch(`${k}/challenges/${e}`);if(!J.ok)return;const me=(await J.json()).challenge;if(me.result_data&&!z){console.log("Race has been started by the other player!"),clearInterval(te),f(me.result_data),E(!0);let fe=3;b(fe);const ye=setInterval(()=>{fe--,b(fe),fe<=0&&(clearInterval(ye),I(me.result_data.race_timeline))},1e3)}}catch(J){console.error("Error polling race status:",J)}},2e3);return()=>{clearInterval(te)}},[e,S,z,u]);const T=()=>{E(!0);let te=3;const J=setInterval(()=>{te--,b(te),te<=0&&(clearInterval(J),B())},1e3)},B=async()=>{try{ee(!0);const te=await fetch(`${k}/challenges/${e}/simulate?simulate_only=true`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!te.ok)throw new Error(`Failed to simulate race: ${te.statusText}`);const J=await te.json();if(console.log("Race prediction:",J),!J.result||!J.result.race_timeline)throw new Error("Invalid race prediction data");f(J.result),await I(J.result.race_timeline),console.log("Animation complete, finalizing race result..."),_(!0);const re=await fetch(`${k}/challenges/${e}/finalize`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!re.ok)console.error(`Warning: Failed to finalize race: ${re.statusText}`);else{const me=await re.json();console.log("Race finalization result:",me),me.challenge&&s(me.challenge),me.bet_distribution&&(me.bet_distribution.status==="success"?C(`Bet winnings of ${r!=null&&r.bet_amount?r.bet_amount*2:0} ${j} distributed to winner!`):console.warn("Bet distribution issue:",me.bet_distribution))}U(!0)}catch(te){console.error("Error simulating race:",te),x(`Failed to simulate race: ${te.message}`)}finally{ee(!1),_(!1)}},I=te=>new Promise((J,re)=>{if(!te||te.length===0){console.error("No timeline data provided"),re(new Error("No timeline data"));return}D(0),G(0);let me=Date.now();const fe=te[te.length-1].time,ye=[],Oe=.05;let ne=0;for(;ne<=fe;){const he=we(te,ne,"challenger_position"),Se=we(te,ne,"opponent_position");ye.push({time:ne,challenger_position:he,opponent_position:Se}),ne+=Oe}const ie=()=>{const Se=(Date.now()-me)/1e3;if(Se>=fe){const vn=te[te.length-1];D(vn.challenger_position),G(vn.opponent_position),R(Math.max(vn.challenger_position,vn.opponent_position)),J();return}const Ye=we(ye,Se,"challenger_position"),_e=we(ye,Se,"opponent_position");D(Ye),G(_e);const Ke=Math.max(Ye,_e);R(Ke),requestAnimationFrame(ie)};function we(he,Se,Ye){for(let _e=0;_e<he.length-1;_e++)if(Se>=he[_e].time&&Se<=he[_e+1].time){const Ke=he[_e].time,vn=he[_e+1].time,Ve=he[_e][Ye],He=he[_e+1][Ye],Wt=(Se-Ke)/(vn-Ke);return Ve+Wt*(He-Ve)}return Se>he[he.length-1].time?he[he.length-1][Ye]:he[0][Ye]}requestAnimationFrame(ie)}),h=n.publicKey&&r&&(r.challenger_wallet===n.publicKey.toString()||r.opponent_wallet===n.publicKey.toString());n.publicKey&&r&&(r.challenger_wallet,n.publicKey.toString());const A=n.publicKey&&(r==null?void 0:r.winner_wallet)===n.publicKey.toString(),$=!u&&r&&i&&l&&r.status==="accepted"&&!z,W=te=>te.toFixed(2)+"s",H=()=>{t("/race")};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#181425] to-[#2a233c] p-8",children:[a.jsxs("button",{onClick:H,className:"pixel-button mb-8 flex items-center gap-2",children:[a.jsx(yi,{className:"w-4 h-4"}),"Back to Race Arena"]}),a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsx("h1",{className:"text-2xl pixel-text text-center mb-4",children:"PvP Race Arena"}),a.jsx(jr,{type:p?"error":N?"success":"",message:p||N}),u?a.jsxs("div",{className:"pixel-panel text-center py-12",children:[a.jsx(Yn,{className:"w-10 h-10 animate-spin mx-auto mb-4 text-[#ff77a8]"}),a.jsx("p",{className:"pixel-text",children:"Loading race data..."})]}):p?a.jsxs("div",{className:"pixel-panel text-center py-12",children:[a.jsx(Va,{className:"w-10 h-10 mx-auto mb-4 text-red-500"}),a.jsx("p",{className:"pixel-text text-red-500 mb-4",children:p}),a.jsx("button",{onClick:H,className:"pixel-button",children:"Go Back"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"pixel-panel mb-6 p-4",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg pixel-text mb-2",children:"Race Challenge"}),a.jsx("p",{className:"text-sm pixel-text text-gray-400",children:r!=null&&r.bet_amount?a.jsxs("span",{className:"text-[#ffec27]",children:["Bet: ",r.bet_amount," ",j]}):"Friendly Race"})]}),!S&&$&&h&&a.jsxs("button",{onClick:T,className:"pixel-button flex items-center gap-2",children:[a.jsx(Qn,{className:"w-4 h-4"}),"Start Race"]}),S&&v>0&&a.jsx("div",{className:"text-4xl pixel-text text-[#ff77a8] animate-pulse",children:v}),S&&v<=0&&!z&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(tx,{className:"w-5 h-5 text-[#00ff9d] animate-pulse"}),a.jsx("span",{className:"text-lg pixel-text",children:"Race in progress..."})]}),z&&(r==null?void 0:r.winner_wallet)&&a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Fs,{className:"w-5 h-5 text-[#ffec27]"}),a.jsx("span",{className:"text-lg pixel-text",children:A?"You won!":"You lost!"})]}),r.bet_amount>0&&A&&a.jsxs("p",{className:"text-sm pixel-text text-[#ffec27]",children:["+",r.bet_amount*2," ",j]})]})]})}),a.jsx("div",{className:"pixel-panel mb-8",children:a.jsxs("div",{className:"aspect-[2/1] bg-[#181425] rounded-lg relative overflow-hidden",children:[a.jsx("img",{src:"/assets/competition/track.gif",alt:"Race Track",className:"absolute inset-0 w-full h-full object-cover",style:{imageRendering:"pixelated"}}),a.jsxs("div",{className:"absolute top-4 left-4 right-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("span",{className:"text-xs pixel-text text-white",children:"Race Progress"}),a.jsxs("span",{className:"text-xs pixel-text text-white",children:[Math.floor(g),"%"]})]}),a.jsx("div",{className:"pixel-progress h-3",children:a.jsx("div",{className:"pixel-progress-bar transition-all duration-100",style:{width:`${g}%`,background:`repeating-linear-gradient(
                          45deg,
                          #00ff9d,
                          #00ff9d 10px,
                          #00ffdd 10px,
                          #00ffdd 20px
                        )`}})})]}),S&&v>0&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm z-10",children:a.jsx("div",{className:"text-6xl pixel-text text-white animate-pulse",children:v})}),i&&a.jsxs("div",{className:"absolute bottom-[15%] transition-all duration-50",style:{left:`${F}%`,transform:"translateX(-50%) scale(0.6)",transition:"left 0.05s linear"},children:[a.jsx(Ln,{pet:i,state:"idle",disableInteraction:!0,forcedAnimation:S&&v<=0?"run":"idle"}),a.jsxs("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 text-xs pixel-text bg-[#181425]/80 px-2 py-1 rounded whitespace-nowrap",children:[r==null?void 0:r.challenger_wallet.substring(0,6),"..."]})]}),l&&a.jsxs("div",{className:"absolute bottom-[35%] transition-all duration-50",style:{left:`${q}%`,transform:"translateX(-50%) scale(0.6)",transition:"left 0.05s linear"},children:[a.jsx(Ln,{pet:l,state:"idle",disableInteraction:!0,forcedAnimation:S&&v<=0?"run":"idle"}),a.jsxs("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 text-xs pixel-text bg-[#181425]/80 px-2 py-1 rounded whitespace-nowrap",children:[r==null?void 0:r.opponent_wallet.substring(0,6),"..."]})]}),a.jsx("div",{className:"absolute inset-y-0 w-1 right-[5%]",style:{backgroundImage:"repeating-linear-gradient(0deg, black 0px, black 4px, white 4px, white 8px)"}}),y&&a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/30 backdrop-blur-sm z-20",children:[a.jsx(Yn,{className:"w-10 h-10 animate-spin mb-4 text-[#ff77a8]"}),a.jsx("p",{className:"text-white pixel-text",children:"Finalizing race result..."})]}),z&&P&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/70 backdrop-blur-sm z-20",children:a.jsxs("div",{className:"pixel-panel bg-[#181425] p-6 max-w-md",children:[a.jsx("h3",{className:"text-xl pixel-text mb-4 text-center",children:"Race Results"}),a.jsxs("div",{className:"flex justify-between mb-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-sm pixel-text mb-1",children:[r==null?void 0:r.challenger_wallet.substring(0,6),"..."]}),a.jsx("p",{className:"text-lg pixel-text text-[#00ff9d]",children:W(P.challenger_time)}),P.winner_wallet===(r==null?void 0:r.challenger_wallet)&&a.jsx("div",{className:"mt-2",children:a.jsx(Fs,{className:"w-5 h-5 text-[#ffec27] mx-auto"})})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-sm pixel-text mb-1",children:[r==null?void 0:r.opponent_wallet.substring(0,6),"..."]}),a.jsx("p",{className:"text-lg pixel-text text-[#00ff9d]",children:W(P.opponent_time)}),P.winner_wallet===(r==null?void 0:r.opponent_wallet)&&a.jsx("div",{className:"mt-2",children:a.jsx(Fs,{className:"w-5 h-5 text-[#ffec27] mx-auto"})})]})]}),a.jsxs("p",{className:"text-sm pixel-text text-center mb-4",children:["Time Difference: ",W(P.time_difference)]}),(r==null?void 0:r.bet_amount)>0&&a.jsx("p",{className:"text-sm pixel-text text-center text-[#ffec27] mb-4",children:A?`You won ${r.bet_amount*2} ${j}!`:`You lost ${r.bet_amount} ${j}`}),a.jsx("div",{className:"flex justify-center",children:a.jsx("button",{onClick:H,className:"pixel-button",children:"Return to Race Arena"})})]})})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-8",children:[a.jsxs("div",{className:"pixel-panel",children:[a.jsxs("h3",{className:"text-lg pixel-text mb-4",children:[r==null?void 0:r.challenger_wallet.substring(0,6),"...'s Pet"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm pixel-text mb-1",children:"Speed"}),a.jsx("div",{className:"pixel-progress",children:a.jsx("div",{className:"pixel-progress-bar",style:{width:`${(i==null?void 0:i.speed)||0}%`,background:`repeating-linear-gradient(
                            45deg,
                            #00ff9d,
                            #00ff9d 10px,
                            #00ffdd 10px,
                            #00ffdd 20px
                          )`}})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm pixel-text mb-1",children:"Energy"}),a.jsx("div",{className:"pixel-progress",children:a.jsx("div",{className:"pixel-progress-bar",style:{width:`${(i==null?void 0:i.energy)||0}%`,background:`repeating-linear-gradient(
                            45deg,
                            #00ffff,
                            #00ffff 10px,
                            #00ffaa 10px,
                            #00ffaa 20px
                          )`}})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm pixel-text mb-1",children:"Happiness"}),a.jsx("div",{className:"pixel-progress",children:a.jsx("div",{className:"pixel-progress-bar",style:{width:`${(i==null?void 0:i.happiness)||0}%`,background:"linear-gradient(to right, #ff77a8, #ff004d)"}})})]})]})]}),a.jsxs("div",{className:"pixel-panel",children:[a.jsxs("h3",{className:"text-lg pixel-text mb-4",children:[r==null?void 0:r.opponent_wallet.substring(0,6),"...'s Pet"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm pixel-text mb-1",children:"Speed"}),a.jsx("div",{className:"pixel-progress",children:a.jsx("div",{className:"pixel-progress-bar",style:{width:`${(l==null?void 0:l.speed)||0}%`,background:`repeating-linear-gradient(
                            45deg,
                            #00ff9d,
                            #00ff9d 10px,
                            #00ffdd 10px,
                            #00ffdd 20px
                          )`}})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm pixel-text mb-1",children:"Energy"}),a.jsx("div",{className:"pixel-progress",children:a.jsx("div",{className:"pixel-progress-bar",style:{width:`${(l==null?void 0:l.energy)||0}%`,background:`repeating-linear-gradient(
                            45deg,
                            #00ffff,
                            #00ffff 10px,
                            #00ffaa 10px,
                            #00ffaa 20px
                          )`}})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm pixel-text mb-1",children:"Happiness"}),a.jsx("div",{className:"pixel-progress",children:a.jsx("div",{className:"pixel-progress-bar",style:{width:`${(l==null?void 0:l.happiness)||0}%`,background:"linear-gradient(to right, #ff77a8, #ff004d)"}})})]})]})]})]})]})]})]})}function pv({challengeType:e,onClose:t}){const n=Un(),r=wn(),[s,i]=L.useState([]),[o,l]=L.useState(!1),[c,u]=L.useState(!1),[d,p]=L.useState(!1),[x,N]=L.useState(null),[C,S]=L.useState(""),[E,v]=L.useState(""),[b,g]=L.useState(!1),[R,z]=L.useState(0),[U,F]=L.useState(0),[D,q]=L.useState(null),G=Ie.get("apiUrl"),Z=Ie.get("solanaEndpoint"),ee=Ie.get("tokenMint"),P=Ie.get("tokenSymbol"),{cachedpupism:f,currentPetIndex:y}=rt(A=>({cachedpupism:A.cachedpupism,currentPetIndex:A.currentPetIndex})),_=f[y]||null;L.useEffect(()=>{const A=async()=>{if(!(!r.publicKey||!ee))try{const W=new On(Z),H=new ue(ee),te=await on(H,r.publicKey);try{const J=await W.getTokenAccountBalance(te);F(Number(J.value.amount)/10**J.value.decimals)}catch{F(0)}}catch(W){console.error("Error fetching token balance:",W)}};A();const $=setInterval(A,15e3);return()=>clearInterval($)},[r.publicKey,ee,Z]);const k=async()=>{if(r.publicKey){l(!0),S("");try{const A=r.publicKey.toString(),$=await fetch(`${G}/lobbies?wallet=${A}&challenge_type=${e}`);if(!$.ok)throw new Error(`Failed to fetch lobbies: ${$.statusText}`);const W=await $.json();i(W.lobbies||[]);const H=await fetch(`${G}/lobbies/user/${A}`);if(H.ok){const J=(await H.json()).lobbies.find(re=>re.status==="open"&&re.challenge_type===e);q(J||null)}}catch(A){console.error("Error fetching lobbies:",A),S("Failed to load lobbies. Please try again.")}finally{l(!1)}}};L.useEffect(()=>{k();const A=setInterval(k,1e4);return()=>clearInterval(A)},[r.publicKey,e]);const j=async A=>{var Ye;if(!r.publicKey||!r.signTransaction||!ee)throw new Error("Missing required parameters for token transfer");const $=new On(Z,"confirmed"),W=new ue(ee),H=Ie.get("backendWallet");if(!H)throw new Error("Backend wallet address not configured");const te=new ue(H),J=await on(W,r.publicKey),re=await on(W,te),me=await $.getParsedAccountInfo(W);if(!me.value||!me.value.data)throw new Error("Could not fetch token mint information");const fe=me.value.data.parsed,ye=((Ye=fe==null?void 0:fe.info)==null?void 0:Ye.decimals)||0,Oe=Math.floor(A*Math.pow(10,ye)),ne=new qt;let ie;try{ie=await $.getAccountInfo(re)}catch{console.log("Error checking recipient account")}ie||ne.add(Gp(r.publicKey,re,te,W)),ne.add(Ro(J,re,r.publicKey,Oe,[],Fr));const{blockhash:we}=await $.getLatestBlockhash("confirmed");ne.recentBlockhash=we,ne.feePayer=r.publicKey;const he=await r.signTransaction(ne),Se=await $.sendRawTransaction(he.serialize());return await $.confirmTransaction({signature:Se,blockhash:we,lastValidBlockHeight:await $.getBlockHeight()+150},"confirmed"),Se},T=async()=>{if(!r.publicKey||!_){S("Wallet not connected or no pet selected");return}u(!0),S("");try{let A=null;if(R>0)try{v(`Processing bet payment of ${R} ${P}...`),A=await j(R),v("Bet payment successful! Creating lobby...")}catch(H){throw new Error(`Failed to process bet payment: ${H.message}`)}const $=await fetch(`${G}/lobbies`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({creator_wallet:r.publicKey.toString(),creator_pet_id:_.id,challenge_type:e,bet_amount:R,bet_signature:A})});if(!$.ok){const H=await $.json();throw new Error(H.error||H.details||$.statusText)}const W=await $.json();q(W.lobby),g(!1),v("Lobby created successfully! Waiting for opponents..."),k()}catch(A){console.error("Error creating lobby:",A),S(A.message||"Failed to create lobby")}finally{u(!1)}},B=async()=>{if(!(!r.publicKey||!D))try{const A=await fetch(`${G}/lobbies/${D.id}/close`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({wallet:r.publicKey.toString()})});if(!A.ok){const $=await A.json();throw new Error($.error||$.details||A.statusText)}q(null),v("Lobby closed successfully"),k()}catch(A){console.error("Error closing lobby:",A),S(A.message||"Failed to close lobby")}},I=async(A,$)=>{if(!r.publicKey||!_){S("Wallet not connected or no pet selected");return}N(A),p(!0),S("");try{let W=null;if($>0)try{v(`Processing bet payment of ${$} ${P}...`),W=await j($),v("Bet payment successful! Joining lobby...")}catch(J){throw new Error(`Failed to process bet payment: ${J.message}`)}const H=await fetch(`${G}/lobbies/${A}/join`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({joiner_wallet:r.publicKey.toString(),joiner_pet_id:_.id,bet_signature:W})});if(!H.ok){const J=await H.json();throw new Error(J.error||J.details||H.statusText)}const te=await H.json();v("Joined lobby successfully! Redirecting to the arena..."),setTimeout(()=>{n(e==="race"?`/race?challenge=${te.challenge.id}`:`/fight?challenge=${te.challenge.id}`)},1500)}catch(W){console.error("Error joining lobby:",W),S(W.message||"Failed to join lobby")}finally{p(!1),N(null)}},h=A=>`${A.substring(0,6)}...${A.substring(A.length-4)}`;return a.jsxs("div",{className:"pixel-panel max-w-md w-full",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:"text-xl pixel-text",children:[e==="race"?"Race":"Fight"," Lobbies"]}),a.jsx("button",{onClick:t,className:"p-2",children:a.jsx(Ia,{className:"w-5 h-5"})})]}),a.jsx(jr,{type:C?"error":E?"success":"",message:C||E}),D&&a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"bg-[#181425] p-4 rounded mb-2",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("h3",{className:"text-sm pixel-text",children:"Your Active Lobby"}),a.jsx("span",{className:"text-xs pixel-text bg-[#ff77a8] px-2 py-1 rounded",children:"Waiting"})]}),a.jsxs("p",{className:"text-xs pixel-text mb-2",children:[e==="race"?"Race":"Fight"," with"," ",D.bet_amount>0?a.jsxs("span",{className:"text-[#ffec27]",children:[D.bet_amount," ",P," bet"]}):"no bet"]}),a.jsxs("p",{className:"text-xs pixel-text text-gray-400",children:["Created ",new Date(D.created_at).toLocaleString()]})]}),a.jsx("button",{onClick:B,className:"pixel-button w-full bg-red-800/30 hover:bg-red-700/40 text-red-400",children:"Close Lobby"})]}),!D&&a.jsx(a.Fragment,{children:b?a.jsxs("div",{className:"mb-6 bg-[#181425] p-4 rounded",children:[a.jsx("h3",{className:"text-sm pixel-text mb-4",children:"Create Lobby"}),_?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs pixel-text mb-2",children:"Pet"}),a.jsxs("div",{className:"bg-black/20 p-2 rounded",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs pixel-text",children:_.name}),a.jsx("span",{className:"text-xs pixel-text",children:_.rarity})]}),a.jsx("div",{className:"mt-2",children:a.jsx(mn,{value:e==="race"?_.speed:_.strength,max:100,label:e==="race"?"Speed":"Strength",gradient:e==="race"?`repeating-linear-gradient(
                                45deg,
                                #00ff9d,
                                #00ff9d 10px,
                                #00ffdd 10px,
                                #00ffdd 20px
                              )`:`repeating-linear-gradient(
                                45deg,
                                #ff004d,
                                #ff004d 10px,
                                #ff77a8 10px,
                                #ff77a8 20px
                              )`})})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs pixel-text mb-2",children:["Bet Amount (",P,")"]}),a.jsx("input",{type:"number",value:R,onChange:A=>z(parseInt(A.target.value)||0),min:"0",step:"100",className:"w-full px-3 py-2 bg-black/20 border border-white/50 text-white"}),a.jsxs("p",{className:"text-xs pixel-text text-gray-400 mt-1",children:["Balance: ",U.toLocaleString()," ",P]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>g(!1),className:"pixel-button flex-1",children:"Cancel"}),a.jsx("button",{onClick:T,disabled:c||R>U,className:"pixel-button flex-1 disabled:opacity-50",children:c?a.jsxs("span",{className:"flex items-center justify-center",children:[a.jsx(Yn,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Lobby"})]})]}):a.jsxs("div",{className:"text-center py-4",children:[a.jsx("p",{className:"text-xs pixel-text text-red-400 mb-2",children:"No pet selected"}),a.jsx("button",{onClick:()=>n("/bonkland"),className:"pixel-button text-xs",children:"Go to bonkland"})]})]}):a.jsxs("button",{onClick:()=>g(!0),className:"pixel-button w-full mb-6 flex items-center justify-center gap-2",children:[a.jsx(Q1,{className:"w-4 h-4"}),"Create New Lobby"]})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-sm pixel-text",children:"Available Lobbies"}),a.jsx("button",{onClick:k,className:"p-1 hover:bg-white/10 rounded",title:"Refresh lobbies",children:a.jsx(IE,{className:"w-4 h-4"})})]}),o?a.jsxs("div",{className:"py-8 text-center",children:[a.jsx(Yn,{className:"w-8 h-8 animate-spin mx-auto mb-2 text-[#ff77a8]"}),a.jsx("p",{className:"text-xs pixel-text",children:"Loading lobbies..."})]}):s.length===0?a.jsxs("div",{className:"bg-[#181425] p-6 rounded text-center",children:[a.jsx("p",{className:"text-sm pixel-text mb-2",children:"No lobbies available"}),a.jsx("p",{className:"text-xs pixel-text text-gray-400",children:"Create your own lobby and wait for opponents!"})]}):a.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:s.map(A=>a.jsxs("div",{className:"bg-[#181425] p-4 rounded",children:[a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[e==="race"?a.jsx(Qn,{className:"w-4 h-4 text-[#00ff9d]"}):a.jsx(Xn,{className:"w-4 h-4 text-[#ff004d]"}),a.jsx("span",{className:"text-xs pixel-text",children:h(A.creator_wallet)})]}),A.bet_amount>0&&a.jsxs("div",{className:"flex items-center gap-1 bg-[#ffec27]/20 px-2 py-1 rounded",children:[a.jsx(Aa,{className:"w-3 h-3 text-[#ffec27]"}),a.jsxs("span",{className:"text-[10px] pixel-text text-[#ffec27]",children:[A.bet_amount," ",P]})]})]}),A.pet&&a.jsxs("div",{className:"mb-2",children:[a.jsxs("p",{className:"text-xs pixel-text mb-1",children:[A.pet.name," (",A.pet.rarity,")"]}),a.jsx(mn,{value:e==="race"?A.pet.speed:A.pet.strength,max:100,label:e==="race"?"Speed":"Strength",height:"3",gradient:e==="race"?`repeating-linear-gradient(
                            45deg,
                            #00ff9d,
                            #00ff9d 10px,
                            #00ffdd 10px,
                            #00ffdd 20px
                          )`:`repeating-linear-gradient(
                            45deg,
                            #ff004d,
                            #ff004d 10px,
                            #ff77a8 10px,
                            #ff77a8 20px
                          )`})]}),a.jsxs("p",{className:"text-[10px] pixel-text text-gray-400",children:["Created ",new Date(A.created_at).toLocaleString()]})]}),a.jsx("button",{onClick:()=>I(A.id,A.bet_amount),disabled:d||!_||A.bet_amount>U,className:"pixel-button w-full text-xs disabled:opacity-50",title:_?A.bet_amount>U?`Not enough ${P}`:"":"Select a pet first",children:d&&x===A.id?a.jsxs("span",{className:"flex items-center justify-center",children:[a.jsx(Yn,{className:"w-3 h-3 mr-1 animate-spin"}),"Joining..."]}):`Join ${e==="race"?"Race":"Fight"}`})]},A.id))})]})]})}function G8(){const e=Un(),t=us(),{cachedpupism:n,currentPetIndex:r}=rt(U=>({cachedpupism:U.cachedpupism,currentPetIndex:U.currentPetIndex})),s=wn();L.useState("");const[i,o]=L.useState(null),[l,c]=L.useState(""),[u,d]=L.useState(""),[p,x]=L.useState(!1),[N,C]=L.useState(!1),[S,E]=L.useState({isRacing:!1,playerPosition:0,botPosition:0,countdown:3,finished:!1,winner:null,raceTime:0}),b=new URLSearchParams(t.search).get("challenge"),g=n.length>0&&r<n.length?n[r]:null;L.useEffect(()=>{console.log("Race Page - Current state:",{currentPet:g,cachedpupism:n,currentPetIndex:r,walletConnected:s.connected})},[g,n,r,s.connected]),L.useEffect(()=>{let U,F;return S.isRacing&&S.countdown>0?U=setInterval(()=>{E(D=>({...D,countdown:D.countdown-1}))},1e3):S.isRacing&&S.countdown===0&&!S.finished&&g&&(F=Date.now(),U=setInterval(()=>{E(D=>{const G=((g==null?void 0:g.speed)||50)/100*2,Z=1.5,ee=Math.random()*.5,P=D.playerPosition+G+Math.random()*.3,f=D.botPosition+Z+ee,y=P>=100||f>=100,_=y?P>f?"player":"bot":null,k=(Date.now()-F)/1e3;return{...D,playerPosition:Math.min(P,100),botPosition:Math.min(f,100),finished:y,winner:_,raceTime:y?D.raceTime:k}})},50)),()=>{U&&clearInterval(U)}},[S.isRacing,S.countdown,S.finished,g]);const R=()=>{E({isRacing:!0,playerPosition:0,botPosition:0,countdown:3,finished:!1,winner:null,raceTime:0})},z=U=>{o(U),U==="bot"?R():U==="random"&&C(!0)};return b?a.jsx(q8,{challengeId:b}):s.connected?!g||!n||n.length===0?(console.log("No current pet available",{cachedpupism:n,currentPetIndex:r,currentPet:g}),a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#181425] to-[#2a233c] p-8",children:[a.jsx(Qr,{}),a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"pixel-panel text-center py-16",children:[a.jsx(Qn,{className:"w-12 h-12 mx-auto mb-4 text-[#ff77a8]"}),a.jsx("h2",{className:"text-xl pixel-text mb-4",children:"No Pet Selected"}),a.jsx("p",{className:"text-sm pixel-text text-gray-400 mb-8",children:"Create or select a pet to start racing!"}),a.jsx("button",{onClick:()=>e("/bonkland"),className:"pixel-button",children:"Go to bonkland"})]})})]})):i?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#181425] to-[#2a233c] p-8",children:[a.jsx(Qr,{}),a.jsxs("button",{onClick:()=>{o(null),E({isRacing:!1,playerPosition:0,botPosition:0,countdown:3,finished:!1,winner:null,raceTime:0})},className:"pixel-button mb-8 flex items-center gap-2",children:[a.jsx(yi,{className:"w-4 h-4"}),"Back to Opponent Selection"]}),a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h1",{className:"text-2xl pixel-text text-center mb-8",children:"Race Arena"}),a.jsx(jr,{type:l?"error":u?"success":"",message:l||u}),a.jsx("div",{className:"pixel-panel mb-8",children:a.jsxs("div",{className:"aspect-[2/1] bg-[#181425] rounded-lg relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 w-full h-full bg-[#333] flex items-center justify-center",children:a.jsx("div",{className:"text-sm pixel-text text-gray-400",children:"Race Track"})}),a.jsx("img",{src:"/assets/competition/start.png",alt:"Race Track",className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-300 ${S.isRacing&&S.countdown===0?"opacity-0":"opacity-100"}`,style:{imageRendering:"pixelated"},onError:U=>{console.error("Failed to load race track start image"),U.currentTarget.style.display="none"}}),a.jsx("img",{src:"/assets/competition/track.gif",alt:"Race Track",className:`absolute inset-0 w-full h-full object-cover transition-opacity ${S.isRacing&&S.countdown===0?"opacity-100":"opacity-0"}`,style:{imageRendering:"pixelated"},onError:U=>{console.error("Failed to load race track gif"),U.currentTarget.style.display="none"}}),S.isRacing&&S.countdown>0&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("span",{className:"text-6xl pixel-text text-white animate-pulse",children:S.countdown})}),a.jsx("div",{className:"absolute bottom-[15%] transition-all duration-50",style:{left:`${S.playerPosition}%`,transform:"translateX(-50%) scale(0.5)"},children:a.jsx(Ln,{pet:g,state:"idle",disableInteraction:!0,forcedAnimation:S.isRacing&&S.countdown===0?"run":"idle"})}),a.jsx("div",{className:"absolute bottom-[35%] transition-all duration-50",style:{left:`${S.botPosition}%`,transform:"translateX(-50%) scale(0.5)"},children:a.jsx(Ln,{pet:{...g,color:"#463E3F",name:"Bot"},state:"idle",disableInteraction:!0,forcedAnimation:S.isRacing&&S.countdown===0?"run":"idle"})}),a.jsx("div",{className:"absolute inset-y-0 w-1 bg-white right-[5%]",style:{backgroundImage:"repeating-linear-gradient(0deg, black 0px, black 4px, white 4px, white 8px)"}}),S.finished&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:a.jsxs("div",{className:"pixel-panel text-center",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(Fs,{className:"w-12 h-12 text-[#ffec27]"})}),a.jsx("h2",{className:"text-2xl pixel-text mb-2",children:S.winner==="player"?"You Won!":"Bot Won!"}),a.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm pixel-text mb-4",children:[a.jsx(tx,{className:"w-4 h-4"}),a.jsxs("span",{children:[S.raceTime.toFixed(2),"s"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("button",{onClick:R,className:"pixel-button w-full",children:"Race Again"}),a.jsx("button",{onClick:()=>{o(null),E({isRacing:!1,playerPosition:0,botPosition:0,countdown:3,finished:!1,winner:null,raceTime:0})},className:"pixel-button w-full",children:"Change Opponent"})]})]})})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"pixel-panel",children:[a.jsx("h2",{className:"text-xl pixel-text mb-4",children:"Your Pet"}),a.jsx(mn,{value:g.speed,max:100,label:"Speed",gradient:`repeating-linear-gradient(
                45deg,
                #00ff9d,
                #00ff9d 10px,
                #00ffdd 10px,
                #00ffdd 20px
              )`})]}),a.jsxs("div",{className:"pixel-panel",children:[a.jsx("h2",{className:"text-xl pixel-text mb-4",children:"Bot"}),a.jsx(mn,{value:75,max:100,label:"Speed",gradient:`repeating-linear-gradient(
                45deg,
                #463E3F,
                #463E3F 10px,
                #666666 10px,
                #666666 20px
              )`})]})]})]}),N&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsx(pv,{challengeType:"race",onClose:()=>{C(!1),o(null)}})})]}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#181425] to-[#2a233c] p-8",children:[a.jsx(Qr,{}),a.jsxs("button",{onClick:()=>e("/bonkland"),className:"pixel-button mb-8 flex items-center gap-2",children:[a.jsx(yi,{className:"w-4 h-4"}),"Back to bonkland"]}),a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h1",{className:"text-2xl pixel-text text-center mb-8",children:"Race Arena"}),a.jsx(jr,{type:l?"error":u?"success":"",message:l||u}),p&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsx(hv,{challengeType:"race",onClose:()=>x(!1)})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"pixel-panel",children:[a.jsx("h2",{className:"text-xl pixel-text mb-4",children:"Your Pet"}),a.jsx("div",{className:"aspect-video bg-[#181425] rounded-lg mb-4 relative overflow-hidden",children:a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"relative",style:{transform:"scale(0.75)"},children:a.jsx(Ln,{pet:g,state:"idle",disableInteraction:!0,forcedAnimation:"run"})})})}),a.jsx(mn,{value:g.speed,max:100,label:"Speed",gradient:`repeating-linear-gradient(
                  45deg,
                  #00ff9d,
                  #00ff9d 10px,
                  #00ffdd 10px,
                  #00ffdd 20px
                )`})]}),a.jsxs("div",{className:"pixel-panel",children:[a.jsx("h2",{className:"text-xl pixel-text mb-6",children:"Choose Your Opponent"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("button",{onClick:()=>x(!0),className:"pixel-button flex items-center justify-center gap-2 bg-[#ff77a8] hover:bg-[#ff004d] text-white",children:[a.jsx(nx,{className:"w-4 h-4"}),"Challenge Player (PvP)"]}),a.jsxs("button",{onClick:()=>z("random"),className:"pixel-button flex items-center justify-center gap-2",children:[a.jsx(ex,{className:"w-4 h-4"}),"Find Opponents"]}),a.jsxs("button",{onClick:()=>z("bot"),className:"pixel-button flex items-center justify-center gap-2",children:[a.jsx(Qn,{className:"w-4 h-4"}),"Race Bot"]})]})]})]})]})]}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#181425] to-[#2a233c] p-8",children:[a.jsx(Qr,{}),a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"pixel-panel text-center py-16",children:[a.jsx(fp,{className:"w-12 h-12 mx-auto mb-4 text-[#ff77a8]"}),a.jsx("h2",{className:"text-xl pixel-text mb-4",children:"Connect Your Wallet"}),a.jsx("p",{className:"text-sm pixel-text text-gray-400 mb-8",children:"Connect your wallet to access the Race Arena and compete with your bonkland!"}),a.jsx("button",{onClick:()=>{var U;return(U=document.querySelector(".wallet-adapter-button"))==null?void 0:U.click()},className:"pixel-button",children:"Connect Wallet"})]})})]})}function Y8({challengeId:e}){const t=Un(),n=wn(),[r,s]=L.useState(null),[i,o]=L.useState(null),[l,c]=L.useState(null),[u,d]=L.useState(!0),[p,x]=L.useState(""),[N,C]=L.useState(""),[S,E]=L.useState(!1),[v,b]=L.useState(3),[g,R]=L.useState(!1),[z,U]=L.useState(!1),[F,D]=L.useState(0),[q,G]=L.useState(0),[Z,ee]=L.useState(100),[P,f]=L.useState(100),[y,_]=L.useState("idle"),[k,j]=L.useState("idle"),[T,B]=L.useState(""),[I,h]=L.useState(null),[A,$]=L.useState(0),W=Ie.get("apiUrl"),H=Ie.get("tokenSymbol");L.useEffect(()=>{if(!S)return;const ne=ie=>{const we=(ie.clientX/window.innerWidth-.5)*20;$(we)};return window.addEventListener("mousemove",ne),()=>window.removeEventListener("mousemove",ne)},[S]),L.useEffect(()=>{(async()=>{try{console.log(`Fetching challenge data for ID: ${e}`),d(!0);const ie=await fetch(`${W}/challenges/${e}`);if(!ie.ok)throw ie.status===404?new Error("Challenge not found. It may have been cancelled or expired."):new Error(`Server error: ${ie.status} ${ie.statusText}`);const we=await ie.json();if(s(we.challenge),we.challenge.challenger_pet_id){const he=await fetch(`${W}/bonkland/${we.challenge.challenger_pet_id}`);if(he.ok){const Se=await he.json();o(Se)}else console.warn(`Could not load challenger pet: ${he.status}`)}if(we.challenge.opponent_pet_id){const he=await fetch(`${W}/bonkland/${we.challenge.opponent_pet_id}`);if(he.ok){const Se=await he.json();c(Se)}else console.warn(`Could not load opponent pet: ${he.status}`)}we.challenge.status==="completed"&&we.challenge.result_data&&(R(!0),h(we.challenge.result_data),ee(we.challenge.result_data.challenger_health_remaining),f(we.challenge.result_data.opponent_health_remaining)),d(!1)}catch(ie){console.error("Error fetching challenge data:",ie),x(ie.message||"Failed to load challenge data"),d(!1),setTimeout(()=>{t("/fight")},5e3)}})()},[e,W,t]),L.useEffect(()=>{if(!e||S||g||u)return;console.log("Setting up battle status polling...");const ne=setInterval(async()=>{try{const ie=await fetch(`${W}/challenges/${e}`);if(!ie.ok)return;const he=(await ie.json()).challenge;if(he.result_data&&!g){console.log("Battle has been started by the other player!"),clearInterval(ne),h(he.result_data),E(!0);let Se=3;b(Se);const Ye=setInterval(()=>{Se--,b(Se),Se<=0&&(clearInterval(Ye),re(he.result_data.rounds))},1e3)}}catch(ie){console.error("Error polling battle status:",ie)}},2e3);return()=>{clearInterval(ne)}},[e,S,g,u]);const te=()=>{E(!0);let ne=3;const ie=setInterval(()=>{ne--,b(ne),ne<=0&&(clearInterval(ie),J())},1e3)},J=async()=>{try{const ne=await fetch(`${W}/challenges/${e}/simulate?simulate_only=true`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!ne.ok)throw new Error(`Failed to simulate battle: ${ne.statusText}`);const ie=await ne.json();if(console.log("Battle simulation result:",ie),ie.result){h(ie.result),await re(ie.result.rounds),console.log("Animation complete, finalizing battle result..."),U(!0);const we=await fetch(`${W}/challenges/${e}/finalize`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!we.ok)console.error(`Warning: Failed to finalize battle: ${we.statusText}`);else{const he=await we.json();console.log("Battle finalization result:",he),he.challenge&&s(he.challenge),he.bet_distribution&&(he.bet_distribution.status==="success"?C(`Bet winnings of ${r!=null&&r.bet_amount?r.bet_amount*2:0} ${H} distributed to winner!`):console.warn("Bet distribution issue:",he.bet_distribution))}R(!0)}}catch(ne){console.error("Error simulating battle:",ne),x(`Failed to simulate battle: ${ne.message}`)}finally{U(!1)}},re=async ne=>new Promise(async ie=>{try{ee(100),f(100);for(let we=0;we<ne.length;we++){const he=ne[we];D(he.round),B(`Round ${he.round}`),await new Promise(Se=>setTimeout(Se,1500));for(let Se=0;Se<he.actions.length;Se++){const Ye=he.actions[Se];G(Se),Ye.attacker==="challenger"?(_("attack"),j("hurt"),B(Ye.is_critical?"Critical hit!":"Attack!"),await new Promise(_e=>setTimeout(_e,800)),f(Ye.defender_health_remaining),await new Promise(_e=>setTimeout(_e,500)),_("idle"),j("idle")):(j("attack"),_("hurt"),B(Ye.is_critical?"Critical hit!":"Attack!"),await new Promise(_e=>setTimeout(_e,800)),ee(Ye.defender_health_remaining),await new Promise(_e=>setTimeout(_e,500)),_("idle"),j("idle")),await new Promise(_e=>setTimeout(_e,300))}}(I==null?void 0:I.challenger_health_remaining)<=0?(_("die"),B("Opponent wins!")):(I==null?void 0:I.opponent_health_remaining)<=0?(j("die"),B("Challenger wins!")):B("Battle complete!"),await new Promise(we=>setTimeout(we,2e3)),ie()}catch(we){console.error("Error animating battle:",we),ie()}}),me=n.publicKey&&r&&(r.challenger_wallet===n.publicKey.toString()||r.opponent_wallet===n.publicKey.toString());n.publicKey&&r&&(r.challenger_wallet,n.publicKey.toString());const fe=n.publicKey&&(r==null?void 0:r.winner_wallet)===n.publicKey.toString(),ye=!u&&r&&i&&l&&!g,Oe=()=>{t("/fight")};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#181425] to-[#2a233c] p-8",children:[a.jsxs("button",{onClick:Oe,className:"pixel-button mb-8 flex items-center gap-2",children:[a.jsx(yi,{className:"w-4 h-4"}),"Back to Battle Arena"]}),a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsx("h1",{className:"text-2xl pixel-text text-center mb-4",children:"PvP Battle Arena"}),(N||p)&&a.jsx("div",{className:"mb-4",children:a.jsx(jr,{type:p?"error":N?"success":"",message:p||N})}),u?a.jsxs("div",{className:"pixel-panel text-center py-12",children:[a.jsx(Yn,{className:"w-10 h-10 animate-spin mx-auto mb-4 text-[#ff77a8]"}),a.jsx("p",{className:"pixel-text",children:"Loading battle data..."})]}):p?a.jsxs("div",{className:"pixel-panel text-center py-12",children:[a.jsx(Va,{className:"w-10 h-10 mx-auto mb-4 text-red-500"}),a.jsx("p",{className:"pixel-text text-red-500 mb-4",children:p}),a.jsx("button",{onClick:Oe,className:"pixel-button",children:"Go Back"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"pixel-panel mb-6 p-4",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg pixel-text mb-2",children:"Battle Challenge"}),a.jsx("p",{className:"text-sm pixel-text text-gray-400",children:r!=null&&r.bet_amount?a.jsxs("span",{className:"text-[#ffec27]",children:["Bet: ",r.bet_amount," ",H]}):"Friendly Battle"})]}),!S&&ye&&me&&a.jsxs("button",{onClick:te,className:"pixel-button flex items-center gap-2",children:[a.jsx(Xn,{className:"w-4 h-4"}),"Start Battle"]}),S&&v>0&&a.jsx("div",{className:"text-4xl pixel-text text-[#ff77a8] animate-pulse",children:v}),S&&v<=0&&!g&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xn,{className:"w-5 h-5 text-[#ff004d] animate-pulse"}),a.jsx("span",{className:"text-lg pixel-text",children:T})]}),g&&(r==null?void 0:r.winner_wallet)&&a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Fs,{className:"w-5 h-5 text-[#ffec27]"}),a.jsx("span",{className:"text-lg pixel-text",children:fe?"You won!":"You lost!"})]}),r.bet_amount>0&&a.jsx("p",{className:"text-sm pixel-text text-[#ffec27]",children:fe?`+${r.bet_amount*2} ${H}`:""})]})]})}),a.jsx("div",{className:"pixel-panel mb-8",children:a.jsxs("div",{className:"aspect-[21/9] bg-[#181425] rounded-lg relative overflow-hidden",style:{perspective:"1000px"},children:[a.jsxs("div",{className:"absolute inset-x-0 transition-transform duration-100 flex -mx-[15%]",style:{transform:`translateX(calc(${A*.2}px - 15%))`,width:"130%"},children:[a.jsx("img",{src:"/assets/fight/mountain_background.png",alt:"Mountains",className:"h-full object-contain",style:{imageRendering:"pixelated",width:"100%"}}),a.jsx("img",{src:"/assets/fight/mountain_background.png",alt:"Mountains",className:"h-full object-contain",style:{imageRendering:"pixelated",width:"100%"}})]}),a.jsxs("div",{className:"absolute inset-x-0 bottom-[20%] transition-transform duration-100 flex -mx-[15%]",style:{transform:`translateX(calc(${A*.4}px - 15%))`,height:"45%",width:"130%"},children:[a.jsx("img",{src:"/assets/fight/fight_pines_bg.png",alt:"Pine Trees",className:"h-full object-contain marginRight: '-1px'",style:{imageRendering:"pixelated",width:"100%",objectPosition:"bottom"}}),a.jsx("img",{src:"/assets/fight/fight_pines_bg.png",alt:"Pine Trees",className:"h-full object-contain marginLeft: '-1px'",style:{imageRendering:"pixelated",width:"100%",objectPosition:"bottom"}})]}),a.jsxs("div",{className:"absolute inset-x-0 bottom-0 transition-transform flex duration-100 -mx-[15%]",style:{transform:`translateX(calc(${A*.6}px - 15%))`,width:"130%"},children:[a.jsx("img",{src:"/assets/fight/fight_ground.png",alt:"Ground",className:"w-full",style:{imageRendering:"pixelated",height:"120px"}}),a.jsx("img",{src:"/assets/fight/fight_ground.png",alt:"Ground",className:"w-full",style:{imageRendering:"pixelated",height:"120px"}})]}),a.jsxs("div",{className:"absolute top-4 left-4 right-4 flex justify-between gap-4 z-10",children:[a.jsxs("div",{className:"w-1/3",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-xs pixel-text text-white",children:(i==null?void 0:i.name)||"Challenger"}),a.jsxs("span",{className:"text-xs pixel-text text-white",children:[Z,"%"]})]}),a.jsx("div",{className:"pixel-progress",children:a.jsx("div",{className:"pixel-progress-bar transition-all duration-300",style:{width:`${Z}%`,background:`repeating-linear-gradient(
                            45deg,
                            #ff004d,
                            #ff004d 10px,
                            #ff77a8 10px,
                            #ff77a8 20px
                          )`}})})]}),a.jsxs("div",{className:"w-1/3",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-xs pixel-text text-white",children:(l==null?void 0:l.name)||"Opponent"}),a.jsxs("span",{className:"text-xs pixel-text text-white",children:[P,"%"]})]}),a.jsx("div",{className:"pixel-progress",children:a.jsx("div",{className:"pixel-progress-bar transition-all duration-300",style:{width:`${P}%`,background:`repeating-linear-gradient(
                            45deg,
                            #463E3F,
                            #463E3F 10px,
                            #666666 10px,
                            #666666 20px
                          )`}})})]})]}),S&&v<=0&&T&&a.jsx("div",{className:"absolute top-16 left-0 right-0 text-center z-20",children:a.jsx("div",{className:"inline-block bg-[#181425]/80 px-4 py-2 rounded",children:a.jsx("p",{className:"text-lg pixel-text text-white",children:T})})}),S&&v>0&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm z-30",children:a.jsx("div",{className:"text-6xl pixel-text text-white animate-pulse",children:v})}),i&&a.jsx("div",{className:"absolute transition-all duration-300 z-20",style:{left:"25%",bottom:"8%",transform:`translateX(-20%) scale(0.75) translateX(${A*.1}px)`},children:a.jsx(Ln,{pet:i,state:"idle",disableInteraction:!0,forcedAnimation:y})}),l&&a.jsx("div",{className:"absolute transition-all duration-300 z-20",style:{left:"75%",bottom:"8%",transform:`translateX(-70%) scaleX(-1) scale(0.75) translateX(${A*.1}px)`},children:a.jsx(Ln,{pet:l,state:"idle",disableInteraction:!0,forcedAnimation:k})}),z&&a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/30 backdrop-blur-sm z-40",children:[a.jsx(Yn,{className:"w-10 h-10 animate-spin mb-4 text-[#ff77a8]"}),a.jsx("p",{className:"text-white pixel-text",children:"Finalizing battle result..."})]}),g&&(r==null?void 0:r.result_data)&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/70 backdrop-blur-sm z-40",children:a.jsxs("div",{className:"pixel-panel bg-[#181425] p-6 max-w-md",children:[a.jsx("h3",{className:"text-xl pixel-text mb-4 text-center",children:"Battle Results"}),a.jsxs("div",{className:"flex justify-between mb-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm pixel-text mb-1",children:(i==null?void 0:i.name)||"Challenger"}),a.jsxs("p",{className:"text-lg pixel-text text-[#ff004d]",children:[r.result_data.challenger_health_remaining,"% HP"]}),r.winner_wallet===r.challenger_wallet&&a.jsx("div",{className:"mt-2",children:a.jsx(Fs,{className:"w-5 h-5 text-[#ffec27] mx-auto"})})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm pixel-text mb-1",children:(l==null?void 0:l.name)||"Opponent"}),a.jsxs("p",{className:"text-lg pixel-text text-[#ff004d]",children:[r.result_data.opponent_health_remaining,"% HP"]}),r.winner_wallet===r.opponent_wallet&&a.jsx("div",{className:"mt-2",children:a.jsx(Fs,{className:"w-5 h-5 text-[#ffec27] mx-auto"})})]})]}),a.jsxs("p",{className:"text-sm pixel-text text-center mb-4",children:["Rounds: ",r.result_data.total_rounds]}),r.bet_amount>0&&a.jsx("p",{className:"text-sm pixel-text text-center text-[#ffec27] mb-4",children:fe?`You won ${r.bet_amount*2} ${H}!`:`You lost ${r.bet_amount} ${H}`}),a.jsx("div",{className:"flex justify-center",children:a.jsx("button",{onClick:Oe,className:"pixel-button",children:"Return to Battle Arena"})})]})})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[a.jsxs("div",{className:"pixel-panel",children:[a.jsx("h3",{className:"text-lg pixel-text mb-4",children:(i==null?void 0:i.name)||"Challenger"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm pixel-text mb-1",children:"Strength"}),a.jsx("div",{className:"pixel-progress",children:a.jsx("div",{className:"pixel-progress-bar",style:{width:`${(i==null?void 0:i.strength)||0}%`,background:`repeating-linear-gradient(
                            45deg,
rgb(77, 255, 0),
rgb(0, 255, 60) 10px,
rgb(119, 255, 135) 10px,
rgb(119, 255, 180) 20px
                          )`}})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm pixel-text mb-1",children:"Speed"}),a.jsx("div",{className:"pixel-progress",children:a.jsx("div",{className:"pixel-progress-bar",style:{width:`${(i==null?void 0:i.speed)||0}%`,background:`repeating-linear-gradient(
                            45deg,
                            #00ff9d,
                            #00ff9d 10px,
                            #00ffdd 10px,
                            #00ffdd 20px
                          )`}})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm pixel-text mb-1",children:"Energy"}),a.jsx("div",{className:"pixel-progress",children:a.jsx("div",{className:"pixel-progress-bar",style:{width:`${(i==null?void 0:i.energy)||0}%`,background:`repeating-linear-gradient(
                            45deg,
                            #00ffff,
                            #00ffff 10px,
                            #00ffaa 10px,
                            #00ffaa 20px
                          )`}})})]})]})]}),a.jsxs("div",{className:"pixel-panel",children:[a.jsx("h3",{className:"text-lg pixel-text mb-4",children:(l==null?void 0:l.name)||"Opponent"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm pixel-text mb-1",children:"Strength"}),a.jsx("div",{className:"pixel-progress",children:a.jsx("div",{className:"pixel-progress-bar",style:{width:`${(l==null?void 0:l.strength)||0}%`,background:`repeating-linear-gradient(
                            45deg,
                            #ff004d,
                            #ff004d 10px,
                            #ff77a8 10px,
                            #ff77a8 20px
                          )`}})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm pixel-text mb-1",children:"Speed"}),a.jsx("div",{className:"pixel-progress",children:a.jsx("div",{className:"pixel-progress-bar",style:{width:`${(l==null?void 0:l.speed)||0}%`,background:`repeating-linear-gradient(
                            45deg,
                            #00ff9d,
                            #00ff9d 10px,
                            #00ffdd 10px,
                            #00ffdd 20px
                          )`}})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm pixel-text mb-1",children:"Energy"}),a.jsx("div",{className:"pixel-progress",children:a.jsx("div",{className:"pixel-progress-bar",style:{width:`${(l==null?void 0:l.energy)||0}%`,background:`repeating-linear-gradient(
                            45deg,
                            #00ffff,
                            #00ffff 10px,
                            #00ffaa 10px,
                            #00ffaa 20px
                          )`}})})]})]})]})]}),g&&(r==null?void 0:r.result_data)&&a.jsxs("div",{className:"pixel-panel mb-8",children:[a.jsx("h3",{className:"text-lg pixel-text mb-4",children:"Battle Log"}),a.jsx("div",{className:"max-h-60 overflow-y-auto",children:r.result_data.rounds.map(ne=>a.jsxs("div",{className:"mb-4",children:[a.jsxs("h4",{className:"text-sm pixel-text mb-2 border-b border-white/20 pb-1",children:["Round ",ne.round]}),a.jsx("div",{className:"space-y-2",children:ne.actions.map((ie,we)=>a.jsxs("div",{className:"text-xs pixel-text",children:[a.jsx("span",{className:"text-[#ff77a8]",children:ie.attacker==="challenger"?i==null?void 0:i.name:l==null?void 0:l.name})," attacks ",a.jsx("span",{className:"text-[#00ffdd]",children:ie.defender==="challenger"?i==null?void 0:i.name:l==null?void 0:l.name})," for ",a.jsxs("span",{className:`${ie.is_critical?"text-[#ffec27]":"text-white"}`,children:[ie.damage," damage"]}),ie.is_critical&&a.jsx("span",{className:"text-[#ffec27]",children:" (Critical Hit!)"}),". ",a.jsxs("span",{className:"text-gray-400",children:["HP remaining: ",ie.defender_health_remaining,"%"]})]},we))})]},ne.round))})]})]})]})]})}function Z8(){const e=Un(),t=us(),{cachedpupism:n,currentPetIndex:r}=rt(F=>({cachedpupism:F.cachedpupism,currentPetIndex:F.currentPetIndex})),s=wn();L.useState("");const[i,o]=L.useState(null),[l,c]=L.useState(""),[u,d]=L.useState(""),[p,x]=L.useState(!1),[N,C]=L.useState(!1),[S,E]=L.useState({isStarted:!1,playerHealth:100,opponentHealth:100,playerPosition:25,opponentPosition:75,playerAnimation:"idle",opponentAnimation:"idle",parallaxOffset:0,isAnimating:!1,currentMove:null,roundsPlayed:0,gameOver:!1}),b=new URLSearchParams(t.search).get("challenge"),g=n.length>0&&r<n.length?n[r]:null;L.useEffect(()=>{if(!S.isStarted)return;const F=D=>{const q=(D.clientX/window.innerWidth-.5)*100;E(G=>({...G,parallaxOffset:q}))};return window.addEventListener("mousemove",F),()=>window.removeEventListener("mousemove",F)},[S.isStarted]),L.useEffect(()=>{if(!S.isStarted||S.isAnimating||S.gameOver)return;const F=[{attacker:"player",attackAnimation:"attack",defenseAnimation:"hurt",damage:15,criticalChance:.2,specialEffect:"knockback"},{attacker:"opponent",attackAnimation:"dash",defenseAnimation:"fright",damage:20,criticalChance:.15,specialEffect:"aerial"}],q=setInterval(async()=>{const G=F[Math.floor(Math.random()*F.length)],Z=G.attacker==="player",P=Math.random()<G.criticalChance?G.damage*1.5:G.damage;E(y=>({...y,isAnimating:!0,currentMove:G,roundsPlayed:y.roundsPlayed+1,playerAnimation:Z?G.attackAnimation:G.defenseAnimation,opponentAnimation:Z?G.defenseAnimation:G.attackAnimation,playerPosition:Z?40:25,opponentPosition:Z?60:75}));const f={idle:500,idle_blink:600,attack:800,dash:700,jump:1e3,land:500,hurt:500,crouch:600,ledgegrab:800,ledgeclimb:1e3,fright:600,fall:700,wallgrab:900,sneak:800,die:1200};await new Promise(y=>setTimeout(y,f[G.attackAnimation])),E(y=>{const _=Z?y.playerHealth:Math.max(0,y.playerHealth-P),k=Z?Math.max(0,y.opponentHealth-P):y.opponentHealth,j=_<=0||k<=0;return{...y,playerHealth:_,opponentHealth:k,playerAnimation:j?"die":"idle",opponentAnimation:j?"die":"idle",playerPosition:25,opponentPosition:75,isAnimating:!1,currentMove:null,gameOver:j}}),await new Promise(y=>setTimeout(y,800))},3e3);return()=>clearInterval(q)},[S.isStarted,S.isAnimating,S.gameOver]);const R=()=>{E({isStarted:!0,playerHealth:100,opponentHealth:100,playerPosition:25,opponentPosition:75,playerAnimation:"idle",opponentAnimation:"idle",parallaxOffset:0,isAnimating:!1,currentMove:null,roundsPlayed:0,gameOver:!1})},z=F=>{o(F),F==="bot"?R():F==="random"&&C(!0)};if(b)return a.jsx(Y8,{challengeId:b});if(!s.connected)return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#181425] to-[#2a233c] p-8",children:[a.jsx(Qr,{}),a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"pixel-panel text-center py-16",children:[a.jsx(fp,{className:"w-12 h-12 mx-auto mb-4 text-[#ff77a8]"}),a.jsx("h2",{className:"text-xl pixel-text mb-4",children:"Connect Your Wallet"}),a.jsx("p",{className:"text-sm pixel-text text-gray-400 mb-8",children:"Connect your wallet to access the Battle Arena and fight with your bonkland!"}),a.jsx("button",{onClick:()=>{var F;return(F=document.querySelector(".wallet-adapter-button"))==null?void 0:F.click()},className:"pixel-button",children:"Connect Wallet"})]})})]});if(!g||!n||n.length===0)return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#181425] to-[#2a233c] p-8",children:[a.jsx(Qr,{}),a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"pixel-panel text-center py-16",children:[a.jsx(Xn,{className:"w-12 h-12 mx-auto mb-4 text-[#ff77a8]"}),a.jsx("h2",{className:"text-xl pixel-text mb-4",children:"No Pet Selected"}),a.jsx("p",{className:"text-sm pixel-text text-gray-400 mb-8",children:"Create or select a pet to start fighting!"}),a.jsx("button",{onClick:()=>e("/bonkland"),className:"pixel-button",children:"Go to bonkland"})]})})]});if(!i)return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#181425] to-[#2a233c] p-8",children:[a.jsx(Qr,{}),a.jsxs("button",{onClick:()=>e("/bonkland"),className:"pixel-button mb-8 flex items-center gap-2",children:[a.jsx(yi,{className:"w-4 h-4"}),"Back to bonkland"]}),a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h1",{className:"text-2xl pixel-text text-center mb-8",children:"Battle Arena"}),a.jsx(jr,{type:l?"error":u?"success":"",message:l||u}),p&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsx(hv,{challengeType:"fight",onClose:()=>x(!1)})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"pixel-panel",children:[a.jsx("h2",{className:"text-xl pixel-text mb-4",children:"Your Pet"}),a.jsx("div",{className:"aspect-video bg-[#181425] rounded-lg mb-4 relative overflow-hidden",children:a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"relative",style:{transform:"scale(0.75)"},children:a.jsx(Ln,{pet:g,state:"idle",disableInteraction:!0,forcedAnimation:"attack"})})})}),a.jsx(mn,{value:g.strength,max:100,label:"Strength",gradient:`repeating-linear-gradient(
                  45deg,
                  #ff004d,
                  #ff004d 10px,
                  #ff77a8 10px,
                  #ff77a8 20px
                )`})]}),a.jsxs("div",{className:"pixel-panel",children:[a.jsx("h2",{className:"text-xl pixel-text mb-6",children:"Choose Your Opponent"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("button",{onClick:()=>x(!0),className:"pixel-button flex items-center justify-center gap-2 bg-[#ff77a8] hover:bg-[#ff004d] text-white",children:[a.jsx(nx,{className:"w-4 h-4"}),"Challenge Player (PvP)"]}),a.jsxs("button",{onClick:()=>z("random"),className:"pixel-button flex items-center justify-center gap-2",children:[a.jsx(ex,{className:"w-4 h-4"}),"Find Opponents"]}),a.jsxs("button",{onClick:()=>z("bot"),className:"pixel-button flex items-center justify-center gap-2",children:[a.jsx(J1,{className:"w-4 h-4"}),"Fight Bot"]})]})]})]})]})]});const U={...g,name:"Bot",color:"#463E3F"};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#181425] to-[#2a233c] p-8",children:[a.jsx(Qr,{}),a.jsxs("button",{onClick:()=>{S.isStarted?(E(F=>({...F,isStarted:!1})),o(null)):e("/bonkland")},className:"pixel-button mb-8 flex items-center gap-2",children:[a.jsx(yi,{className:"w-4 h-4"}),S.isStarted?"Back to Opponent Selection":"Back to bonkland"]}),a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsx("h1",{className:"text-2xl pixel-text text-center mb-8",children:"Battle Arena"}),a.jsx(jr,{type:l?"error":u?"success":"",message:l||u}),a.jsxs("div",{className:"pixel-panel mb-8",children:[a.jsxs("div",{className:"aspect-[21/9] bg-[#181425] rounded-lg relative overflow-hidden",style:{perspective:"1000px"},children:[a.jsxs("div",{className:"absolute inset-x-0 transition-transform duration-100 flex -mx-[15%]",style:{transform:`translateX(calc(${S.parallaxOffset*.2}px - 15%))`,width:"130%"},children:[a.jsx("img",{src:"/assets/fight/mountain_background.png",alt:"Mountains",className:"h-full object-contain",style:{imageRendering:"pixelated",width:"100%"}}),a.jsx("img",{src:"/assets/fight/mountain_background.png",alt:"Mountains",className:"h-full object-contain",style:{imageRendering:"pixelated",width:"100%"}})]}),a.jsxs("div",{className:"absolute inset-x-0 bottom-[20%] transition-transform duration-100 flex -mx-[15%]",style:{transform:`translateX(calc(${S.parallaxOffset*.4}px - 15%))`,height:"45%",width:"130%"},children:[a.jsx("img",{src:"/assets/fight/fight_pines_bg.png",alt:"Pine Trees",className:"h-full object-contain marginRight: '-1px'",style:{imageRendering:"pixelated",width:"100%",objectPosition:"bottom"}}),a.jsx("img",{src:"/assets/fight/fight_pines_bg.png",alt:"Pine Trees",className:"h-full object-contain marginLeft: '-1px'",style:{imageRendering:"pixelated",width:"100%",objectPosition:"bottom"}})]}),a.jsxs("div",{className:"absolute inset-x-0 bottom-0 transition-transform flex duration-100 -mx-[15%]",style:{transform:`translateX(calc(${S.parallaxOffset*.6}px - 15%))`,width:"130%"},children:[a.jsx("img",{src:"/assets/fight/fight_ground.png",alt:"Ground",className:"w-full",style:{imageRendering:"pixelated",height:"120px"}}),a.jsx("img",{src:"/assets/fight/fight_ground.png",alt:"Ground",className:"w-full",style:{imageRendering:"pixelated",height:"120px"}})]}),a.jsxs("div",{className:"absolute top-4 left-4 right-4 flex justify-between gap-4 z-10",children:[a.jsxs("div",{className:"w-1/3",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-xs pixel-text text-white",children:g.name}),a.jsxs("span",{className:"text-xs pixel-text text-white",children:[S.playerHealth,"%"]})]}),a.jsx("div",{className:"pixel-progress",children:a.jsx("div",{className:"pixel-progress-bar transition-all duration-300",style:{width:`${S.playerHealth}%`,background:`repeating-linear-gradient(
                        45deg,
                        #ff004d,
                        #ff004d 10px,
                        #ff77a8 10px,
                        #ff77a8 20px
                      )`}})})]}),a.jsxs("div",{className:"w-1/3",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-xs pixel-text text-white",children:"Bot"}),a.jsxs("span",{className:"text-xs pixel-text text-white",children:[S.opponentHealth,"%"]})]}),a.jsx("div",{className:"pixel-progress",children:a.jsx("div",{className:"pixel-progress-bar transition-all duration-300",style:{width:`${S.opponentHealth}%`,background:`repeating-linear-gradient(
                        45deg,
                        #463E3F,
                        #463E3F 10px,
                        #666666 10px,
                        #666666 20px
                      )`}})})]})]}),a.jsx("div",{className:"absolute transition-all duration-300 z-20",style:{left:`${S.playerPosition}%`,bottom:"8%",transform:`translateX(-20%) scale(0.75) translateX(${S.parallaxOffset*.1}px)`},children:a.jsx(Ln,{pet:g,state:"idle",disableInteraction:!0,forcedAnimation:S.playerAnimation})}),a.jsx("div",{className:"absolute transition-all duration-300 z-20",style:{left:`${S.opponentPosition}%`,bottom:"8%",transform:`translateX(-70%) scaleX(-1) scale(0.75) translateX(${S.parallaxOffset*.1}px)`},children:a.jsx(Ln,{pet:U,state:"idle",disableInteraction:!0,forcedAnimation:S.opponentAnimation})}),S.gameOver&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm z-30",children:a.jsxs("div",{className:"pixel-panel text-center",children:[a.jsx("h2",{className:"text-2xl pixel-text mb-4",children:S.playerHealth>0?"Victory!":"Defeat!"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("button",{onClick:R,className:"pixel-button w-full",children:"Fight Again"}),a.jsx("button",{onClick:()=>o(null),className:"pixel-button w-full",children:"Change Opponent"})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[a.jsxs("div",{className:"pixel-panel p-4",children:[a.jsxs("h3",{className:"text-sm pixel-text mb-2 text-center",children:[g.name,"'s Strength"]}),a.jsx(mn,{value:g.strength,max:100,label:"Base Strength",gradient:`repeating-linear-gradient(
                  45deg,
                  #ff004d,
                  #ff004d 10px,
                  #ff77a8 10px,
                  #ff77a8 20px
                )`}),a.jsxs("div",{className:"text-xs pixel-text text-center mt-2",children:["Current Advantage: ",(g.strength/100*20).toFixed(1),"%"]})]}),a.jsxs("div",{className:"pixel-panel p-4",children:[a.jsx("h3",{className:"text-sm pixel-text mb-2 text-center",children:"Bot's Strength"}),a.jsx(mn,{value:75,max:100,label:"Base Strength",gradient:`repeating-linear-gradient(
                  45deg,
                  #463E3F,
                  #463E3F 10px,
                  #666666 10px,
                  #666666 20px
                )`}),a.jsx("div",{className:"text-xs pixel-text text-center mt-2",children:"Current Advantage: 15%"})]})]})]})]}),N&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsx(pv,{challengeType:"fight",onClose:()=>{C(!1),o(null)}})})]})}function Q8(){const e=Un(),t=wn(),[n,r]=L.useState([]),[s,i]=L.useState([]),[o,l]=L.useState(!1),[c,u]=L.useState(0),[d,p]=L.useState(!1),[x,N]=L.useState(""),[C,S]=L.useState(""),E=L.useRef(0),[v,b]=L.useState(!1),[g,R]=L.useState([]),z=L.useRef(null),U=L.useRef(null),F=L.useRef(0),D=L.useRef(new Set),[q,G]=L.useState(null),Z=Ie.get("apiUrl"),ee=Ie.get("tokenSymbol"),P=Ie.get("solanaEndpoint"),f=(h,A=3e3)=>{setTimeout(()=>{h==="error"?N(""):S("")},A)},y=async()=>{if(!t.publicKey)return;const h=t.publicKey.toString();console.log("Fetching notifications for wallet:",h),U.current!==h&&(U.current=h,E.current=0,b(!1),i([]),r([]),u(0),D.current=new Set),p(!0);try{const A=await fetch(`${Z}/notifications/${h}`);if(!A.ok)throw console.error("Failed to fetch notifications:",A.status,A.statusText),new Error(`Failed to fetch notifications: ${A.statusText}`);const $=await A.json();r($.notifications||[]);const W=$.notifications.filter(ne=>!ne.is_read).length,H=await fetch(`${Z}/challenges/all/${h}`);if(!H.ok)throw console.error("Failed to fetch challenges:",H.status,H.statusText),new Error(`Failed to fetch challenges: ${H.statusText}`);const J=(await H.json()).challenges||[],re=J.filter(ne=>ne.status==="pending");console.log("Fetched challenges:",J.length,"Pending:",re.length),i(re);const me=Date.now(),fe=J.filter(ne=>ne.challenger_wallet===h);console.log("My sent challenges:",fe.length);const ye=fe.filter(ne=>{const ie=ne.status==="accepted"&&new Date(ne.updated_at||ne.created_at).getTime()>me-3e5,we=ie&&!g.includes(ne.id);return console.log(`Challenge ${ne.id}: status=${ne.status}, isRecent=${ie}, isNewlyAccepted=${we}, updated_at=${ne.updated_at}`),ie&&we});if(ye.length>0){console.log("Found challenges you sent that were recently accepted:",ye);try{R(ie=>[...ie,...ye.map(we=>we.id)]);const ne=ye.sort((ie,we)=>new Date(we.updated_at||we.created_at).getTime()-new Date(ie.updated_at||ie.created_at).getTime())[0];console.log("Your challenge was accepted! Navigating to the arena...",ne),F.current=me,G(ne),S("Your challenge was accepted! Click here to join the match!"),l(!0),setTimeout(()=>{try{ne.challenge_type==="race"?(console.log(`Navigating to race: /race?challenge=${ne.id}`),window.location.href=`/race?challenge=${ne.id}`,e(`/race?challenge=${ne.id}`)):(console.log(`Navigating to fight: /fight?challenge=${ne.id}`),window.location.href=`/fight?challenge=${ne.id}`,e(`/fight?challenge=${ne.id}`))}catch(ie){console.error("Error during redirect navigation:",ie)}},1e3)}catch(ne){console.error("Error processing accepted challenge:",ne),N("Error processing challenge. Please check My Challenges to join."),f("error",5e3)}}const Oe=re.filter(ne=>ne.opponent_wallet===h);console.log("Received challenges:",Oe.length,"Previous count:",E.current),Oe.length>0&&(Oe.length>E.current||E.current===0)&&(b(!0),z.current&&(z.current.classList.add("animate-ping"),setTimeout(()=>{z.current&&z.current.classList.remove("animate-ping")},1e3))),E.current=Oe.length,u(W+Oe.length)}catch(A){console.error("Error fetching notifications or challenges:",A),N(`Error fetching updates: ${A.message}`),f("error",5e3)}finally{p(!1)}};L.useEffect(()=>{if(t.connected&&t.publicKey){y();const h=setInterval(y,5e3);return()=>clearInterval(h)}else U.current=null,E.current=0,b(!1),i([]),r([]),u(0)},[t.publicKey,t.connected]),L.useEffect(()=>{v&&s.length>0&&(console.log("New challenge detected, opening notification panel"),l(!0))},[v,s.length]);const _=async h=>{try{const A=await fetch(`${Z}/notifications/${h}/read`,{method:"POST"});if(!A.ok)throw new Error(`Failed to mark notification as read: ${A.statusText}`);r($=>$.map(W=>W.id===h?{...W,is_read:!0}:W)),u($=>Math.max(0,$-1))}catch(A){console.error("Error marking notification as read:",A),N(`Failed to update notification: ${A.message}`),f("error")}},k=async h=>{var A;if(!t.publicKey||!t.signTransaction)throw new Error("Wallet not connected or can't sign transactions");try{const $=new On(P,"confirmed"),W=Ie.get("tokenMint"),H=Ie.get("backendWallet");if(!W||!H)throw new Error("Token mint or escrow wallet not configured");const te=new ue(W),J=new ue(H),re=await on(te,t.publicKey),me=await on(te,J),fe=await $.getParsedAccountInfo(te);if(!fe.value||!fe.value.data)throw new Error("Could not fetch token mint information");const ye=fe.value.data.parsed,Oe=((A=ye==null?void 0:ye.info)==null?void 0:A.decimals)||0,ne=Math.floor(h*Math.pow(10,Oe)),ie=new qt;let we;try{we=await $.getAccountInfo(me)}catch{console.log("Error checking recipient account")}we||ie.add(createAssociatedTokenAccountInstruction(t.publicKey,me,J,te)),ie.add(Ro(re,me,t.publicKey,ne,[],Fr));const{blockhash:he}=await $.getLatestBlockhash("confirmed");ie.recentBlockhash=he,ie.feePayer=t.publicKey;const Se=await t.signTransaction(ie),Ye=await $.sendRawTransaction(Se.serialize());return await $.confirmTransaction({signature:Ye,blockhash:he,lastValidBlockHeight:await $.getBlockHeight()+150},"confirmed"),Ye}catch($){throw console.error("Error transferring tokens for bet:",$),$}},j=async h=>{if(!t.publicKey){N("Wallet not connected"),f("error");return}try{console.log("Accepting challenge:",h.id);const A=rt.getState().cachedpupism,$=rt.getState().currentPetIndex,W=A.length>0&&$<A.length?A[$]:null;if(!W){console.error("No pet available to accept challenge"),N("You need to have a pet selected to accept this challenge. Please visit the bonkland page first."),f("error",5e3);return}console.log("Using pet for challenge:",W.id);let H=null;if(h.bet_amount>0){S(`Processing bet payment of ${h.bet_amount} ${ee}...`);try{H=await k(h.bet_amount),console.log("Bet payment successful:",H)}catch(J){console.error("Error processing bet payment:",J),N(`Failed to process bet payment: ${J.message}`),f("error",5e3);return}}const te=await fetch(`${Z}/challenges/${h.id}/accept`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({opponent_pet_id:W.id,opponent_wallet:t.publicKey.toString(),bet_signature:H})});if(!te.ok){const J=await te.text();throw console.error("Failed to accept challenge:",J),new Error(`Failed to accept challenge: ${te.statusText}`)}console.log("Challenge accepted successfully"),R(J=>[...J,h.id]),i(J=>J.filter(re=>re.id!==h.id)),b(!1),l(!1),u(J=>Math.max(0,J-1)),S("Challenge accepted! Redirecting to the arena..."),setTimeout(()=>{S(""),h.challenge_type==="race"?e(`/race?challenge=${h.id}`):e(`/fight?challenge=${h.id}`)},1500)}catch(A){console.error("Error accepting challenge:",A),N(`Error accepting challenge: ${A.message}`),f("error",5e3)}},T=async h=>{if(!t.publicKey){N("Wallet not connected"),f("error");return}try{const A=await fetch(`${Z}/challenges/${h.id}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({opponent_wallet:t.publicKey.toString()})});if(!A.ok){const $=await A.text();throw console.error("Failed to reject challenge:",$),new Error(`Failed to reject challenge: ${A.statusText}`)}i($=>$.filter(W=>W.id!==h.id)),s.length<=1&&b(!1),u($=>Math.max(0,$-1)),S("Challenge rejected"),f("success")}catch(A){console.error("Error rejecting challenge:",A),N(`Error rejecting challenge: ${A.message}`),f("error")}},B=()=>{l(!o),o||b(!1)},I=h=>`${h.substring(0,6)}...${h.substring(h.length-4)}`;return a.jsxs("div",{className:"relative inline-block",children:[a.jsxs("button",{ref:z,onClick:B,className:`relative p-2 rounded-full transition-colors ${v?"bg-[#ff77a8]/30":"hover:bg-white/10"}`,children:[a.jsx(xE,{className:`w-5 h-5 ${v?"text-[#ff77a8]":""}`}),c>0&&a.jsx("span",{className:"absolute top-0 right-0 w-4 h-4 bg-[#ff77a8] rounded-full text-[10px] pixel-text flex items-center justify-center",children:c})]}),o&&a.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-[#181425] border-2 border-white shadow-lg rounded-lg z-50",children:[a.jsx("div",{className:"p-3 border-b border-white/20",children:a.jsx("h3",{className:"text-sm pixel-text",children:"Notifications"})}),(x||C)&&a.jsxs("div",{className:`p-2 text-xs pixel-text text-center ${x?"bg-red-900/30 text-red-400":"bg-green-900/30 text-green-400"} ${q?"cursor-pointer hover:brightness-125":""}`,onClick:()=>{q&&(q.challenge_type==="race"?e(`/race?challenge=${q.id}`):e(`/fight?challenge=${q.id}`),G(null),S(""),l(!1))},children:[x||C,q&&a.jsx("div",{className:"mt-2 text-[10px] pixel-text",children:"→ Click to join now ←"})]}),d&&s.length===0&&n.length===0&&a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(Yn,{className:"w-6 h-6 animate-spin mx-auto mb-2 text-[#ff77a8]"}),a.jsx("p",{className:"text-xs pixel-text text-gray-400",children:"Loading notifications..."})]}),s.length>0&&a.jsxs("div",{className:"border-b border-white/20",children:[a.jsx("div",{className:"p-2 bg-[#ff77a8]/10",children:a.jsx("p",{className:"text-xs pixel-text text-[#ff77a8]",children:"Pending Challenges"})}),s.map(h=>{var A,$,W;return a.jsxs("div",{className:`p-3 border-t border-white/10 ${h.opponent_wallet===((A=t.publicKey)==null?void 0:A.toString())&&v?"bg-[#ff77a8]/10":""}`,children:[a.jsxs("div",{className:"flex gap-2 mb-2",children:[h.challenge_type==="race"?a.jsx(Qn,{className:"w-4 h-4 text-[#00ff9d]"}):a.jsx(Xn,{className:"w-4 h-4 text-[#ff004d]"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs pixel-text",children:h.challenger_wallet===(($=t.publicKey)==null?void 0:$.toString())?`You challenged ${I(h.opponent_wallet)}`:`${I(h.challenger_wallet)} challenged you`}),a.jsxs("p",{className:"text-[10px] pixel-text text-gray-400",children:[h.challenge_type==="race"?"Race":"Fight",h.bet_amount>0?` with ${h.bet_amount} ${ee} bet`:""]})]})]}),h.opponent_wallet===((W=t.publicKey)==null?void 0:W.toString())&&a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsxs("button",{onClick:()=>j(h),className:"flex-1 text-[10px] pixel-text px-2 py-1 bg-green-800/30 hover:bg-green-700/40 text-green-400 rounded flex items-center justify-center gap-1",children:[a.jsx(vE,{className:"w-3 h-3"}),"Accept"]}),a.jsxs("button",{onClick:()=>T(h),className:"flex-1 text-[10px] pixel-text px-2 py-1 bg-red-800/30 hover:bg-red-700/40 text-red-400 rounded flex items-center justify-center gap-1",children:[a.jsx(Ia,{className:"w-3 h-3"}),"Reject"]})]})]},h.id)})]}),a.jsx("div",{className:"max-h-60 overflow-y-auto",children:n.length===0&&s.length===0&&!d?a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(G1,{className:"w-6 h-6 mx-auto mb-2 text-gray-400"}),a.jsx("p",{className:"text-xs pixel-text text-gray-400",children:"No notifications yet"})]}):n.map(h=>a.jsxs("div",{className:`p-3 border-b border-white/10 ${h.is_read?"":"bg-[#ff77a8]/5"}`,onClick:()=>_(h.id),children:[a.jsx("p",{className:"text-xs pixel-text",children:h.message}),a.jsx("p",{className:"text-[10px] pixel-text text-gray-400 mt-1",children:new Date(h.created_at).toLocaleString()})]},h.id))}),a.jsx("div",{className:"p-2 text-center border-t border-white/20",children:a.jsx("button",{onClick:()=>l(!1),className:"text-[10px] pixel-text text-gray-400 hover:text-white",children:"Close"})})]})]})}function X8({onClose:e,showHeader:t=!0,compact:n=!1,maxItems:r}){const s=Un(),i=wn(),[o,l]=L.useState([]),[c,u]=L.useState(!1),[d,p]=L.useState(""),x=Ie.get("apiUrl"),N=Ie.get("tokenSymbol");L.useEffect(()=>{if(!i.connected||!i.publicKey)return;const v=async()=>{try{u(!0);const g=await fetch(`${x}/challenges/all/${i.publicKey.toString()}`);if(!g.ok)throw new Error(`Failed to fetch challenges: ${g.statusText}`);const U=(await g.json()).challenges.filter(D=>{var q;return D.status==="accepted"||D.status==="pending"&&D.challenger_wallet===((q=i.publicKey)==null?void 0:q.toString())}).sort((D,q)=>new Date(q.updated_at||q.created_at).getTime()-new Date(D.updated_at||D.created_at).getTime()),F=r?U.slice(0,r):U;l(F)}catch(g){console.error("Error fetching challenges:",g),p("Failed to load challenges")}finally{u(!1)}};v();const b=setInterval(v,1e4);return()=>clearInterval(b)},[i.publicKey,i.connected,x,r]);const C=v=>{const b=new Date(v),R=Math.floor((new Date().getTime()-b.getTime())/1e3);if(R<60)return`${R}s ago`;const z=Math.floor(R/60);if(z<60)return`${z}m ago`;const U=Math.floor(z/60);return U<24?`${U}h ago`:`${Math.floor(U/24)}d ago`},S=v=>`${v.substring(0,6)}...${v.substring(v.length-4)}`,E=v=>{v.challenge_type==="race"?s(`/race?challenge=${v.id}`):s(`/fight?challenge=${v.id}`),e&&e()};return!i.connected||!i.publicKey?null:n?a.jsxs("div",{className:"pixel-panel p-2",children:[t&&a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("h3",{className:"text-sm pixel-text",children:"My Rivalries"}),e&&a.jsx("button",{onClick:e,className:"p-1 hover:bg-white/10 rounded",children:a.jsx(Ia,{className:"w-4 h-4"})})]}),c?a.jsx("div",{className:"flex justify-center p-2",children:a.jsx(Yn,{className:"w-4 h-4 animate-spin text-[#ff77a8]"})}):d?a.jsx("div",{className:"text-xs pixel-text text-red-400 p-2",children:d}):o.length===0?a.jsx("div",{className:"text-xs pixel-text text-gray-400 p-2",children:"No active challenges"}):a.jsx("div",{className:"space-y-1",children:o.map(v=>a.jsxs("button",{onClick:()=>E(v),className:"w-full text-left p-1 rounded hover:bg-white/10 flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[v.challenge_type==="race"?a.jsx(Qn,{className:"w-3 h-3 text-[#00ff9d]"}):a.jsx(Xn,{className:"w-3 h-3 text-[#ff004d]"}),a.jsxs("span",{className:"text-[10px] pixel-text truncate",children:[v.status==="accepted"?"Active":"Pending"," ",v.challenge_type]})]}),a.jsx(jE,{className:"w-3 h-3"})]},v.id))})]}):a.jsxs("div",{className:"pixel-panel p-4",children:[t&&a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg pixel-text",children:"My Competitions"}),e&&a.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded",children:a.jsx(Ia,{className:"w-5 h-5"})})]}),c?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx(Yn,{className:"w-8 h-8 animate-spin text-[#ff77a8]"})}):d?a.jsx("div",{className:"text-sm pixel-text text-red-400 p-4",children:d}):o.length===0?a.jsx("div",{className:"text-sm pixel-text text-center text-gray-400 py-8",children:"No active challenges"}):a.jsx("div",{className:"space-y-2",children:o.map(v=>a.jsxs("div",{className:"border border-white/10 rounded p-3 bg-white/5",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[v.challenge_type==="race"?a.jsx(Qn,{className:"w-4 h-4 text-[#00ff9d]"}):a.jsx(Xn,{className:"w-4 h-4 text-[#ff004d]"}),a.jsxs("span",{className:"text-sm pixel-text",children:[v.challenge_type==="race"?"Race":"Fight"," Challenge"]})]}),a.jsx("div",{className:"text-xs pixel-text text-gray-400 mt-1",children:v.status==="pending"?a.jsxs("span",{className:"text-yellow-400 flex items-center gap-1",children:[a.jsx(EE,{className:"w-3 h-3"})," Waiting for opponent"]}):a.jsx("span",{className:"text-green-400",children:"Ready to join!"})})]}),a.jsx("div",{className:"text-xs pixel-text text-gray-400",children:C(v.updated_at||v.created_at)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs pixel-text text-gray-400",children:"Challenger"}),a.jsx("div",{className:"text-xs pixel-text",children:v.challenger_wallet===i.publicKey.toString()?"You":S(v.challenger_wallet)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs pixel-text text-gray-400",children:"Opponent"}),a.jsx("div",{className:"text-xs pixel-text",children:v.opponent_wallet===i.publicKey.toString()?"You":S(v.opponent_wallet)})]})]}),v.bet_amount>0&&a.jsxs("div",{className:"text-xs pixel-text text-[#ffec27] mb-2",children:["Bet: ",v.bet_amount," ",N]}),a.jsx("button",{onClick:()=>E(v),className:`w-full pixel-button text-center mt-2 ${v.status==="pending"?"bg-gray-700 hover:bg-gray-600 cursor-not-allowed":""}`,disabled:v.status==="pending",children:v.status==="pending"?"Waiting for acceptance":"Join Now"})]},v.id))})]})}function J8(){const e=us(),t=Un(),n=wn(),[r,s]=L.useState(null),[i,o]=L.useState(!1),{cachedpupism:l,currentPetIndex:c}=rt();L.useEffect(()=>{if(l&&l.length>0&&c<l.length){const p=l[c];p&&p.id&&s(p.id)}},[l,c]);const u=p=>{p.preventDefault(),t(r?`/gym?id=${r}`:"/bonkland")},d=[{label:"Home",href:"/",icon:a.jsx(Z1,{size:16})},{label:"bonkland",href:"/bonkland",icon:a.jsx(dp,{size:16})},{label:"Race",href:"/race",icon:a.jsx(Qn,{size:16})},{label:"Battle",href:"/fight",icon:a.jsx(Xn,{size:16})}];return a.jsxs("nav",{className:"bg-[#181425] border-b border-white/10 p-3",children:[a.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between h-10",children:[a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0 flex items-center",children:a.jsx(ud,{to:"/",className:"text-white text-lg pixel-text",children:"bonkland"})}),n.connected&&a.jsxs("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-4",children:[d.map((p,x)=>a.jsx(ud,{to:p.href,className:`px-3 py-2 rounded-md text-sm pixel-text ${e.pathname===p.href?"bg-[#ff77a8]/20 text-[#ff77a8]":"text-gray-300 hover:bg-[#ff77a8]/10 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[p.icon,p.label]})},x)),a.jsx("button",{onClick:u,className:`px-3 py-2 rounded-md text-sm pixel-text ${e.pathname==="/gym"?"bg-[#ff77a8]/20 text-[#ff77a8]":"text-gray-300 hover:bg-[#ff77a8]/10 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(pc,{size:16}),"Gym"]})})]})]}),a.jsxs("div",{className:"flex items-center",children:[n.connected&&a.jsxs("div",{className:"relative mr-4",children:[a.jsx("button",{onClick:()=>o(!i),className:"p-2 rounded-full hover:bg-white/10 transition-colors",children:a.jsx(Fs,{className:"w-5 h-5"})}),i&&a.jsx("div",{className:"absolute right-0 mt-2 w-64 z-50",children:a.jsx(X8,{onClose:()=>o(!1),compact:!0,maxItems:5})})]}),n.connected&&a.jsx("div",{className:"mr-24 pr-24",children:a.jsx(Q8,{})}),a.jsx("div",{className:"wallet-adapter-dropdown"})]})]})}),n.connected&&a.jsx("div",{className:"sm:hidden mt-2 border-t border-white/10 pt-2",children:a.jsxs("div",{className:"flex justify-between px-2",children:[d.map((p,x)=>a.jsx(ud,{to:p.href,className:`p-2 rounded-md ${e.pathname===p.href?"bg-[#ff77a8]/20 text-[#ff77a8]":"text-gray-300"}`,children:a.jsxs("div",{className:"flex flex-col items-center text-[10px] pixel-text",children:[p.icon,a.jsx("span",{className:"mt-1",children:p.label})]})},x)),a.jsx("button",{onClick:u,className:`p-2 rounded-md ${e.pathname==="/gym"?"bg-[#ff77a8]/20 text-[#ff77a8]":"text-gray-300"}`,children:a.jsxs("div",{className:"flex flex-col items-center text-[10px] pixel-text",children:[a.jsx(pc,{size:16}),a.jsx("span",{className:"mt-1",children:"Gym"})]})})]})})]})}function eC(){const e=[{label:"Home",href:"/",icon:a.jsx(Z1,{className:"w-4 h-4"})},{label:"bonkland",href:"/bonkland",icon:a.jsx(dp,{className:"w-4 h-4"})},{label:"Gym",href:"/gym",icon:a.jsx(pc,{className:"w-4 h-4"})},{label:"Race",href:"/race",icon:a.jsx(Qn,{className:"w-4 h-4"})},{label:"Fight",href:"/fight",icon:a.jsx(Xn,{className:"w-4 h-4"})}];return a.jsxs(dE,{children:[a.jsx(J8,{links:e}),a.jsxs(sE,{children:[a.jsx(Mi,{path:"/",element:a.jsx(FE,{})}),a.jsx(Mi,{path:"/bonkland",element:a.jsx(H8,{})}),a.jsx(Mi,{path:"/gym",element:a.jsx(V8,{})}),a.jsx(Mi,{path:"/race",element:a.jsx(G8,{})}),a.jsx(Mi,{path:"/fight",element:a.jsx(Z8,{})})]})]})}const tC="Phantom";class nC extends Cw{constructor(t={}){super(),this.name=tC,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Ue.Unsupported:Ue.NotDetected,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),n.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new zp),this.emit("disconnect"))},this._accountChanged=n=>{const r=this._publicKey;if(r){try{n=new ue(n.toBytes())}catch(s){this.emit("error",new Nc(s==null?void 0:s.message,s));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==Ue.Unsupported&&(Sj()?(this._readyState=Ue.Loadable,this.emit("readyStateChange",this._readyState)):bj(()=>{var n,r,s;return(r=(n=window.phantom)==null?void 0:n.solana)!=null&&r.isPhantom||(s=window.solana)!=null&&s.isPhantom?(this._readyState=Ue.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===Ue.Installed&&await this.connect()}async connect(){var t;try{if(this.connected||this.connecting)return;if(this.readyState===Ue.Loadable){const s=encodeURIComponent(window.location.href),i=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${s}?ref=${i}`;return}if(this.readyState!==Ue.Installed)throw new di;this._connecting=!0;const n=((t=window.phantom)==null?void 0:t.solana)||window.solana;if(!n.isConnected)try{await n.connect()}catch(s){throw new Yi(s==null?void 0:s.message,s)}if(!n.publicKey)throw new ri;let r;try{r=new ue(n.publicKey.toBytes())}catch(s){throw new Nc(s==null?void 0:s.message,s)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(n){throw this.emit("error",n),n}finally{this._connecting=!1}}async disconnect(){const t=this._wallet;if(t){t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await t.disconnect()}catch(n){this.emit("error",new kw(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(t,n,r={}){try{const s=this._wallet;if(!s)throw new Mn;try{const{signers:i,...o}=r;As(t)?i!=null&&i.length&&t.sign(i):(t=await this.prepareTransaction(t,n,o),i!=null&&i.length&&t.partialSign(...i)),o.preflightCommitment=o.preflightCommitment||n.commitment;const{signature:l}=await s.signAndSendTransaction(t,o);return l}catch(i){throw i instanceof xn?i:new Cs(i==null?void 0:i.message,i)}}catch(s){throw this.emit("error",s),s}}async signTransaction(t){try{const n=this._wallet;if(!n)throw new Mn;try{return await n.signTransaction(t)||t}catch(r){throw new Zr(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(t){try{const n=this._wallet;if(!n)throw new Mn;try{return await n.signAllTransactions(t)||t}catch(r){throw new Zr(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(t){try{const n=this._wallet;if(!n)throw new Mn;try{const{signature:r}=await n.signMessage(t);return r}catch(r){throw new Fp(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const rC="https://mainnet.helius-rpc.com/?api-key=8e902922-0b06-4126-aec8-05865b7b63e9",sC=[new nC];mS.render(a.jsx(xj,{endpoint:rC,children:a.jsx(U5,{wallets:sC,autoConnect:!0,children:a.jsx(O8,{children:a.jsx(eC,{})})})}),document.getElementById("root"));
//# sourceMappingURL=index-C7V0xzSl.js.map
